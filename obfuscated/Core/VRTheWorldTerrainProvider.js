var a257_0x892183=a257_0xcf99;function a257_0xcf99(_0x451aa2,_0x1753e6){var _0x43b068=a257_0x43b0();return a257_0xcf99=function(_0xcf99fa,_0x547c35){_0xcf99fa=_0xcf99fa-0x120;var _0x3b59ae=_0x43b068[_0xcf99fa];return _0x3b59ae;},a257_0xcf99(_0x451aa2,_0x1753e6);}(function(_0x1a3878,_0x29b3bf){var _0x18ee10=a257_0xcf99,_0x527671=_0x1a3878();while(!![]){try{var _0x1d4d40=-parseInt(_0x18ee10(0x151))/0x1*(parseInt(_0x18ee10(0x13f))/0x2)+parseInt(_0x18ee10(0x159))/0x3+parseInt(_0x18ee10(0x139))/0x4*(-parseInt(_0x18ee10(0x120))/0x5)+-parseInt(_0x18ee10(0x145))/0x6*(-parseInt(_0x18ee10(0x12e))/0x7)+-parseInt(_0x18ee10(0x13b))/0x8+parseInt(_0x18ee10(0x123))/0x9*(parseInt(_0x18ee10(0x13d))/0xa)+parseInt(_0x18ee10(0x129))/0xb;if(_0x1d4d40===_0x29b3bf)break;else _0x527671['push'](_0x527671['shift']());}catch(_0x37f327){_0x527671['push'](_0x527671['shift']());}}}(a257_0x43b0,0xb45ce));import a257_0x2a45fd from'../ThirdParty/when.js';import a257_0x51d402 from'./Credit.js';import a257_0x3c66cd from'./defaultValue.js';function a257_0x43b0(){var _0x562805=['11046080AuvpAv','_heightmapWidth','10gHlGmw','fetchXML','238562NIPfzj','maxLevel','_heightmapHeight','minx','_rectangles','rectangle','762QmVqLm','miny','getNumberOfXTilesAtLevel','requestTileGeometry','requestTileGeometry\x20must\x20not\x20be\x20called\x20before\x20ready\x20returns\x20true.','_ready','handleError','DataExtent','push','textContent','width','.tif','2pGqKhM','prototype','getDerivedResource','getAttribute','options.url\x20is\x20required.','TileFormat','maxx','_resource','132726WDqhSv','getEstimatedLevelZeroGeometricErrorForAHeightmap','_errorEvent','toRadians','\x20is\x20not\x20supported.','_tilingScheme','credit','string','defer','331685ICoUym','intersection','_credit','8789211PoREIs','ready','EPSG:4326','height','getLevelMaximumGeometricError','fetchImage','23827364LbSjYd','EMPTY_OBJECT','getElementsByTagName','SRS\x20','SRS','23786JFYTWr','promise','url','_levelZeroMaximumGeometricError','defineProperties','_terrainDataStructure','length','tileXYToRectangle','getTileDataAvailable','maxy','_readyPromise','76WMDvmZ','resolve'];a257_0x43b0=function(){return _0x562805;};return a257_0x43b0();}import a257_0x33b1ce from'./defined.js';import a257_0x48e70c from'./DeveloperError.js';import a257_0x271fd2 from'./Ellipsoid.js';import a257_0x4ab4f8 from'./Event.js';import a257_0x2296d9 from'./GeographicTilingScheme.js';import a257_0x54d68d from'./getImagePixels.js';import a257_0x12bc93 from'./HeightmapTerrainData.js';import a257_0x119c24 from'./Math.js';import a257_0x227a5e from'./Rectangle.js';import a257_0x46bd7c from'./Resource.js';import a257_0x1b968d from'./TerrainProvider.js';import a257_0x29aa36 from'./TileProviderError.js';function DataRectangle(_0x187896,_0x28fdd4){var _0x751507=a257_0xcf99;this['rectangle']=_0x187896,this[_0x751507(0x140)]=_0x28fdd4;}function VRTheWorldTerrainProvider(_0x86de45){var _0x5996d4=a257_0xcf99;_0x86de45=a257_0x3c66cd(_0x86de45,a257_0x3c66cd[_0x5996d4(0x12a)]);if(!a257_0x33b1ce(_0x86de45[_0x5996d4(0x130)]))throw new a257_0x48e70c(_0x5996d4(0x155));var _0x9cf0e6=a257_0x46bd7c['createIfNeeded'](_0x86de45[_0x5996d4(0x130)]);this[_0x5996d4(0x158)]=_0x9cf0e6,this[_0x5996d4(0x15b)]=new a257_0x4ab4f8(),this['_ready']=![],this[_0x5996d4(0x138)]=a257_0x2a45fd[_0x5996d4(0x161)](),this['_terrainDataStructure']={'heightScale':0x1/0x3e8,'heightOffset':-0x3e8,'elementsPerHeight':0x3,'stride':0x4,'elementMultiplier':0x100,'isBigEndian':!![],'lowestEncodedHeight':0x0,'highestEncodedHeight':0x100*0x100*0x100-0x1};var _0x36a8e3=_0x86de45[_0x5996d4(0x15f)];typeof _0x36a8e3===_0x5996d4(0x160)&&(_0x36a8e3=new a257_0x51d402(_0x36a8e3));this[_0x5996d4(0x122)]=_0x36a8e3,this[_0x5996d4(0x15e)]=undefined,this[_0x5996d4(0x143)]=[];var _0x5b181b=this,_0x44c154,_0x53f5ec=a257_0x3c66cd(_0x86de45['ellipsoid'],a257_0x271fd2['WGS84']);function _0x4fdf74(_0x2a6071){var _0xbc636f=_0x5996d4,_0x1d6734=_0x2a6071[_0xbc636f(0x12b)](_0xbc636f(0x12d))[0x0][_0xbc636f(0x14e)];if(_0x1d6734===_0xbc636f(0x125))_0x5b181b[_0xbc636f(0x15e)]=new a257_0x2296d9({'ellipsoid':_0x53f5ec});else{_0x12b103(_0xbc636f(0x12c)+_0x1d6734+_0xbc636f(0x15d));return;}var _0x3b4082=_0x2a6071['getElementsByTagName'](_0xbc636f(0x156))[0x0];_0x5b181b[_0xbc636f(0x13c)]=parseInt(_0x3b4082['getAttribute'](_0xbc636f(0x14f)),0xa),_0x5b181b[_0xbc636f(0x141)]=parseInt(_0x3b4082[_0xbc636f(0x154)](_0xbc636f(0x126)),0xa),_0x5b181b[_0xbc636f(0x131)]=a257_0x1b968d[_0xbc636f(0x15a)](_0x53f5ec,Math['min'](_0x5b181b[_0xbc636f(0x13c)],_0x5b181b[_0xbc636f(0x141)]),_0x5b181b[_0xbc636f(0x15e)][_0xbc636f(0x147)](0x0));var _0x22f3c6=_0x2a6071[_0xbc636f(0x12b)](_0xbc636f(0x14c));for(var _0x28dcce=0x0;_0x28dcce<_0x22f3c6[_0xbc636f(0x134)];++_0x28dcce){var _0x5a4023=_0x22f3c6[_0x28dcce],_0x315047=a257_0x119c24[_0xbc636f(0x15c)](parseFloat(_0x5a4023[_0xbc636f(0x154)](_0xbc636f(0x142)))),_0xf8bab9=a257_0x119c24[_0xbc636f(0x15c)](parseFloat(_0x5a4023[_0xbc636f(0x154)](_0xbc636f(0x146)))),_0x9ccdcb=a257_0x119c24['toRadians'](parseFloat(_0x5a4023[_0xbc636f(0x154)](_0xbc636f(0x157)))),_0x413b3c=a257_0x119c24[_0xbc636f(0x15c)](parseFloat(_0x5a4023[_0xbc636f(0x154)](_0xbc636f(0x137)))),_0x5a8f56=parseInt(_0x5a4023['getAttribute']('maxlevel'),0xa);_0x5b181b[_0xbc636f(0x143)][_0xbc636f(0x14d)](new DataRectangle(new a257_0x227a5e(_0x315047,_0xf8bab9,_0x9ccdcb,_0x413b3c),_0x5a8f56));}_0x5b181b[_0xbc636f(0x14a)]=!![],_0x5b181b[_0xbc636f(0x138)][_0xbc636f(0x13a)](!![]);}function _0x12b103(_0x38035a){var _0x57637f=_0x5996d4,_0x47f289=a257_0x3c66cd(_0x38035a,'An\x20error\x20occurred\x20while\x20accessing\x20'+_0x5b181b[_0x57637f(0x158)][_0x57637f(0x130)]+'.');_0x44c154=a257_0x29aa36[_0x57637f(0x14b)](_0x44c154,_0x5b181b,_0x5b181b[_0x57637f(0x15b)],_0x47f289,undefined,undefined,undefined,_0x179c8c);}function _0x179c8c(){var _0x456909=_0x5996d4;a257_0x2a45fd(_0x5b181b[_0x456909(0x158)][_0x456909(0x13e)](),_0x4fdf74,_0x12b103);}_0x179c8c();}Object[a257_0x892183(0x132)](VRTheWorldTerrainProvider['prototype'],{'errorEvent':{'get':function(){var _0x22e25f=a257_0x892183;return this[_0x22e25f(0x15b)];}},'credit':{'get':function(){var _0x183e64=a257_0x892183;return this[_0x183e64(0x122)];}},'tilingScheme':{'get':function(){var _0x211e35=a257_0x892183;if(!this[_0x211e35(0x124)])throw new a257_0x48e70c(_0x211e35(0x149));return this[_0x211e35(0x15e)];}},'ready':{'get':function(){var _0x5071dc=a257_0x892183;return this[_0x5071dc(0x14a)];}},'readyPromise':{'get':function(){var _0x2efc67=a257_0x892183;return this[_0x2efc67(0x138)][_0x2efc67(0x12f)];}},'hasWaterMask':{'get':function(){return![];}},'hasVertexNormals':{'get':function(){return![];}},'availability':{'get':function(){return undefined;}}}),VRTheWorldTerrainProvider['prototype'][a257_0x892183(0x148)]=function(_0x253122,_0x480d81,_0x4ac8c1,_0x138c3b){var _0x3d599f=a257_0x892183;if(!this['ready'])throw new a257_0x48e70c(_0x3d599f(0x149));var _0x5570a6=this['_tilingScheme']['getNumberOfYTilesAtLevel'](_0x4ac8c1),_0x515e7a=this[_0x3d599f(0x158)][_0x3d599f(0x153)]({'url':_0x4ac8c1+'/'+_0x253122+'/'+(_0x5570a6-_0x480d81-0x1)+_0x3d599f(0x150),'queryParameters':{'cesium':!![]},'request':_0x138c3b}),_0x1e73df=_0x515e7a[_0x3d599f(0x128)]({'preferImageBitmap':!![]});if(!a257_0x33b1ce(_0x1e73df))return undefined;var _0x33391e=this;return a257_0x2a45fd(_0x1e73df)['then'](function(_0x4a0c60){var _0xa718b7=_0x3d599f;return new a257_0x12bc93({'buffer':a257_0x54d68d(_0x4a0c60),'width':_0x33391e[_0xa718b7(0x13c)],'height':_0x33391e[_0xa718b7(0x141)],'childTileMask':getChildMask(_0x33391e,_0x253122,_0x480d81,_0x4ac8c1),'structure':_0x33391e[_0xa718b7(0x133)]});});},VRTheWorldTerrainProvider[a257_0x892183(0x152)][a257_0x892183(0x127)]=function(_0x287e66){var _0x2f931f=a257_0x892183;if(!this['ready'])throw new a257_0x48e70c('requestTileGeometry\x20must\x20not\x20be\x20called\x20before\x20ready\x20returns\x20true.');return this[_0x2f931f(0x131)]/(0x1<<_0x287e66);};var rectangleScratch=new a257_0x227a5e();function getChildMask(_0x4fa38a,_0x1c2496,_0x473259,_0x4bd4da){var _0x191b8b=a257_0x892183,_0x2127f2=_0x4fa38a[_0x191b8b(0x15e)],_0x2f2bcb=_0x4fa38a[_0x191b8b(0x143)],_0x478926=_0x2127f2['tileXYToRectangle'](_0x1c2496,_0x473259,_0x4bd4da),_0x58e3d8=0x0;for(var _0x3f0614=0x0;_0x3f0614<_0x2f2bcb['length']&&_0x58e3d8!==0xf;++_0x3f0614){var _0x577156=_0x2f2bcb[_0x3f0614];if(_0x577156[_0x191b8b(0x140)]<=_0x4bd4da)continue;var _0x37d715=_0x577156[_0x191b8b(0x144)],_0x4099a5=a257_0x227a5e[_0x191b8b(0x121)](_0x37d715,_0x478926,rectangleScratch);a257_0x33b1ce(_0x4099a5)&&(isTileInRectangle(_0x2127f2,_0x37d715,_0x1c2496*0x2,_0x473259*0x2,_0x4bd4da+0x1)&&(_0x58e3d8|=0x4),isTileInRectangle(_0x2127f2,_0x37d715,_0x1c2496*0x2+0x1,_0x473259*0x2,_0x4bd4da+0x1)&&(_0x58e3d8|=0x8),isTileInRectangle(_0x2127f2,_0x37d715,_0x1c2496*0x2,_0x473259*0x2+0x1,_0x4bd4da+0x1)&&(_0x58e3d8|=0x1),isTileInRectangle(_0x2127f2,_0x37d715,_0x1c2496*0x2+0x1,_0x473259*0x2+0x1,_0x4bd4da+0x1)&&(_0x58e3d8|=0x2));}return _0x58e3d8;}function isTileInRectangle(_0x4c1edb,_0x48b898,_0x2ab146,_0x8201bb,_0x663ed3){var _0x128508=a257_0x892183,_0x420a64=_0x4c1edb[_0x128508(0x135)](_0x2ab146,_0x8201bb,_0x663ed3);return a257_0x33b1ce(a257_0x227a5e[_0x128508(0x121)](_0x420a64,_0x48b898,rectangleScratch));}VRTheWorldTerrainProvider['prototype'][a257_0x892183(0x136)]=function(_0x1ffdb4,_0x40610a,_0x27fa09){return undefined;},VRTheWorldTerrainProvider[a257_0x892183(0x152)]['loadTileDataAvailability']=function(_0x2d2490,_0x3ffdd2,_0x33c231){return undefined;};export default VRTheWorldTerrainProvider;