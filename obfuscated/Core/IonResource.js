var a140_0x5972ea=a140_0xdd0e;(function(_0x4eef03,_0x1c1a99){var _0xcd341e=a140_0xdd0e,_0x200f81=_0x4eef03();while(!![]){try{var _0x54d9b7=parseInt(_0xcd341e(0x109))/0x1+parseInt(_0xcd341e(0x130))/0x2+-parseInt(_0xcd341e(0x11f))/0x3+-parseInt(_0xcd341e(0x122))/0x4*(parseInt(_0xcd341e(0x13b))/0x5)+-parseInt(_0xcd341e(0x12b))/0x6+parseInt(_0xcd341e(0x131))/0x7*(parseInt(_0xcd341e(0x10a))/0x8)+-parseInt(_0xcd341e(0x11d))/0x9*(-parseInt(_0xcd341e(0x115))/0xa);if(_0x54d9b7===_0x1c1a99)break;else _0x200f81['push'](_0x200f81['shift']());}catch(_0x48b511){_0x200f81['push'](_0x200f81['shift']());}}}(a140_0xa841,0x7634f));import a140_0x11df1f from'../ThirdParty/Uri.js';import a140_0x30d3fb from'../ThirdParty/when.js';import a140_0x49b0e5 from'./Check.js';import a140_0x56fb27 from'./Credit.js';import a140_0x561fff from'./defaultValue.js';import a140_0x1589ef from'./defined.js';import a140_0x36e71a from'./Ion.js';import a140_0x451c29 from'./Resource.js';import a140_0x19dd89 from'./RuntimeError.js';function IonResource(_0x572581,_0x301f75){var _0x254dd3=a140_0xdd0e;a140_0x49b0e5[_0x254dd3(0x116)](_0x254dd3(0x139),_0x572581),a140_0x49b0e5[_0x254dd3(0x116)](_0x254dd3(0x13d),_0x301f75);var _0x3f8739,_0x14a378=_0x572581[_0x254dd3(0x118)],_0x59a835=a140_0x1589ef(_0x14a378);if(!_0x59a835)_0x3f8739={'url':_0x572581[_0x254dd3(0x121)],'retryAttempts':0x1,'retryCallback':retryCallback};else{if(_0x14a378===_0x254dd3(0x119)||_0x14a378===_0x254dd3(0x126))_0x3f8739={'url':_0x572581[_0x254dd3(0x124)]['url']};else throw new a140_0x19dd89('Ion.createResource\x20does\x20not\x20support\x20external\x20imagery\x20assets;\x20use\x20IonImageryProvider\x20instead.');}a140_0x451c29[_0x254dd3(0x12d)](this,_0x3f8739),this['_ionEndpoint']=_0x572581,this['_ionEndpointDomain']=_0x59a835?undefined:new a140_0x11df1f(_0x572581[_0x254dd3(0x121)])['authority'](),this[_0x254dd3(0x12e)]=_0x301f75,this[_0x254dd3(0x13c)]=undefined,this[_0x254dd3(0x113)]=undefined,this[_0x254dd3(0x10c)]=undefined,this['_isExternal']=_0x59a835;}a140_0x1589ef(Object[a140_0x5972ea(0x10e)])&&(IonResource[a140_0x5972ea(0x106)]=Object[a140_0x5972ea(0x10e)](a140_0x451c29[a140_0x5972ea(0x106)]),IonResource['prototype']['constructor']=IonResource);IonResource['fromAssetId']=function(_0xd51aa9,_0x53d5f5){var _0x124fe1=a140_0x5972ea,_0x291ce9=IonResource['_createEndpointResource'](_0xd51aa9,_0x53d5f5);return _0x291ce9[_0x124fe1(0x13e)]()[_0x124fe1(0x127)](function(_0x2eed16){return new IonResource(_0x2eed16,_0x291ce9);});},Object[a140_0x5972ea(0x12a)](IonResource[a140_0x5972ea(0x106)],{'credits':{'get':function(){var _0x39e5f4=a140_0x5972ea;if(a140_0x1589ef(this['_ionRoot']))return this['_ionRoot'][_0x39e5f4(0x11c)];if(a140_0x1589ef(this['_credits']))return this[_0x39e5f4(0x10c)];return this['_credits']=IonResource['getCreditsFromEndpoint'](this['_ionEndpoint'],this[_0x39e5f4(0x12e)]),this[_0x39e5f4(0x10c)];}}}),IonResource[a140_0x5972ea(0x120)]=function(_0x172cca,_0xedbb9c){var _0xdf1c19=a140_0x5972ea,_0x193687=_0x172cca['attributions']['map'](a140_0x56fb27[_0xdf1c19(0x112)]),_0xd9ad57=a140_0x36e71a['getDefaultTokenCredit'](_0xedbb9c[_0xdf1c19(0x137)][_0xdf1c19(0x117)]);return a140_0x1589ef(_0xd9ad57)&&_0x193687[_0xdf1c19(0x132)](a140_0x56fb27[_0xdf1c19(0x134)](_0xd9ad57)),_0x193687;},IonResource['prototype'][a140_0x5972ea(0x134)]=function(_0x1b544d){var _0x3fc85d=a140_0x5972ea,_0xdfdc6e=a140_0x561fff(this[_0x3fc85d(0x13c)],this);return!a140_0x1589ef(_0x1b544d)&&(_0x1b544d=new IonResource(_0xdfdc6e[_0x3fc85d(0x13a)],_0xdfdc6e[_0x3fc85d(0x12e)])),_0x1b544d=a140_0x451c29[_0x3fc85d(0x106)][_0x3fc85d(0x134)][_0x3fc85d(0x12d)](this,_0x1b544d),_0x1b544d[_0x3fc85d(0x13c)]=_0xdfdc6e,_0x1b544d['_isExternal']=this[_0x3fc85d(0x11e)],_0x1b544d;},IonResource['prototype'][a140_0x5972ea(0x111)]=function(_0x50db70){var _0x2d5e59=a140_0x5972ea;if(!this[_0x2d5e59(0x11e)]){var _0x231b1f=_0x50db70;_0x50db70={'preferBlob':!![]},a140_0x1589ef(_0x231b1f)&&(_0x50db70[_0x2d5e59(0x110)]=_0x231b1f[_0x2d5e59(0x110)],_0x50db70['preferImageBitmap']=_0x231b1f[_0x2d5e59(0x128)]);}return a140_0x451c29[_0x2d5e59(0x106)][_0x2d5e59(0x111)][_0x2d5e59(0x12d)](this,_0x50db70);},IonResource[a140_0x5972ea(0x106)][a140_0x5972ea(0x10f)]=function(_0x206864){var _0x3e1769=a140_0x5972ea;if(this[_0x3e1769(0x11e)]||new a140_0x11df1f(this[_0x3e1769(0x121)])['authority']()!==this[_0x3e1769(0x125)])return a140_0x451c29[_0x3e1769(0x106)]['_makeRequest'][_0x3e1769(0x12d)](this,_0x206864);return!a140_0x1589ef(_0x206864['headers'])&&(_0x206864[_0x3e1769(0x114)]={}),_0x206864['headers'][_0x3e1769(0x135)]='Bearer\x20'+this[_0x3e1769(0x13a)][_0x3e1769(0x10b)],a140_0x451c29[_0x3e1769(0x106)][_0x3e1769(0x10f)]['call'](this,_0x206864);},IonResource[a140_0x5972ea(0x10d)]=function(_0x642e49,_0x4b79a1){var _0x5a6d97=a140_0x5972ea;a140_0x49b0e5['defined'](_0x5a6d97(0x108),_0x642e49),_0x4b79a1=a140_0x561fff(_0x4b79a1,a140_0x561fff[_0x5a6d97(0x136)]);var _0x428a08=a140_0x561fff(_0x4b79a1[_0x5a6d97(0x107)],a140_0x36e71a['defaultServer']),_0x536692=a140_0x561fff(_0x4b79a1[_0x5a6d97(0x10b)],a140_0x36e71a[_0x5a6d97(0x11b)]);_0x428a08=a140_0x451c29[_0x5a6d97(0x12c)](_0x428a08);var _0x354024={'url':_0x5a6d97(0x12f)+_0x642e49+_0x5a6d97(0x133)};return a140_0x1589ef(_0x536692)&&(_0x354024[_0x5a6d97(0x137)]={'access_token':_0x536692}),_0x428a08['getDerivedResource'](_0x354024);};function a140_0xa841(){var _0x3fd845=['then','preferImageBitmap','undefined','defineProperties','4319448sRWOHi','createIfNeeded','call','_ionEndpointResource','v1/assets/','1283892rAutNZ','7ZKuvnz','push','/endpoint','clone','Authorization','EMPTY_OBJECT','queryParameters','statusCode','endpoint','_ionEndpoint','2852455CAcOZN','_ionRoot','endpointResource','fetchJson','prototype','server','assetId','658217qLxUlk','2883856NcgVAF','accessToken','_credits','_createEndpointResource','create','_makeRequest','flipY','fetchImage','getIonCredit','_pendingPromise','headers','40GmjGgx','defined','access_token','externalType','3DTILES','always','defaultAccessToken','credits','1134099OMPVNH','_isExternal','1170345OUAEll','getCreditsFromEndpoint','url','4amjCrj','target','options','_ionEndpointDomain','STK_TERRAIN_SERVER'];a140_0xa841=function(){return _0x3fd845;};return a140_0xa841();}function a140_0xdd0e(_0x451c37,_0x43ed3c){var _0xa84111=a140_0xa841();return a140_0xdd0e=function(_0xdd0e8a,_0x4c2e27){_0xdd0e8a=_0xdd0e8a-0x106;var _0x3277e8=_0xa84111[_0xdd0e8a];return _0x3277e8;},a140_0xdd0e(_0x451c37,_0x43ed3c);}function retryCallback(_0x117508,_0x3089b1){var _0x49363d=a140_0x5972ea,_0x485c2b=a140_0x561fff(_0x117508[_0x49363d(0x13c)],_0x117508),_0x549ce8=_0x485c2b[_0x49363d(0x12e)],_0x2e8fcd=typeof Image!==_0x49363d(0x129);if(!a140_0x1589ef(_0x3089b1)||_0x3089b1[_0x49363d(0x138)]!==0x191&&!(_0x2e8fcd&&_0x3089b1[_0x49363d(0x123)]instanceof Image))return a140_0x30d3fb['resolve'](![]);return!a140_0x1589ef(_0x485c2b[_0x49363d(0x113)])&&(_0x485c2b['_pendingPromise']=_0x549ce8[_0x49363d(0x13e)]()[_0x49363d(0x127)](function(_0x5decda){return _0x485c2b['_ionEndpoint']=_0x5decda,_0x5decda;})[_0x49363d(0x11a)](function(_0x1b845b){var _0x433932=_0x49363d;return _0x485c2b[_0x433932(0x113)]=undefined,_0x1b845b;})),_0x485c2b[_0x49363d(0x113)]['then'](function(_0x2709db){var _0x263c1d=_0x49363d;return _0x117508[_0x263c1d(0x13a)]=_0x2709db,!![];});}export default IonResource;