var a43_0x5c1534=a43_0x3a82;(function(_0x2982e5,_0x239521){var _0x273bd3=a43_0x3a82,_0x5bbe05=_0x2982e5();while(!![]){try{var _0x268ce4=-parseInt(_0x273bd3(0x154))/0x1+-parseInt(_0x273bd3(0x169))/0x2*(parseInt(_0x273bd3(0x152))/0x3)+-parseInt(_0x273bd3(0x161))/0x4*(-parseInt(_0x273bd3(0x15c))/0x5)+-parseInt(_0x273bd3(0x168))/0x6*(-parseInt(_0x273bd3(0x165))/0x7)+parseInt(_0x273bd3(0x16b))/0x8+-parseInt(_0x273bd3(0x16d))/0x9+parseInt(_0x273bd3(0x170))/0xa;if(_0x268ce4===_0x239521)break;else _0x5bbe05['push'](_0x5bbe05['shift']());}catch(_0x1eded2){_0x5bbe05['push'](_0x5bbe05['shift']());}}}(a43_0xaebd,0x4c41b));import a43_0x50e876 from'./Cartesian3.js';import a43_0x1beaca from'./CornerType.js';import a43_0x1b2f47 from'./defined.js';import a43_0x577b67 from'./Math.js';import a43_0x372d55 from'./Matrix3.js';import a43_0x1f37bd from'./PolylinePipeline.js';function a43_0xaebd(){var _0x2b480b=['positions','push','fromArray','3333uzloeP','add','13525mKicdv','generateArc','BEVELED','width','magnitude','toRadians','dot','clone','1355kvlTqa','multiplyByVector','ceil','ROUNDED','angleBetween','8404lQWiJU','midpoint','geodeticSurfaceNormal','computePositions','321209lQyAcH','negate','max','24jGChdj','388KUImbU','addAttribute','127808iXfqMK','normalize','3991617vRsPky','angleIsGreaterThanPi','length','2160240oFsLWi','subtract','fromQuaternion','cornerType','fromAxisAngle','EPSILON7','cross','multiplyByScalar'];a43_0xaebd=function(){return _0x2b480b;};return a43_0xaebd();}import a43_0xe1e317 from'./PolylineVolumeGeometryLibrary.js';function a43_0x3a82(_0x5032c2,_0x6d90){var _0xaebd47=a43_0xaebd();return a43_0x3a82=function(_0x3a827d,_0x41848e){_0x3a827d=_0x3a827d-0x150;var _0x35a066=_0xaebd47[_0x3a827d];return _0x35a066;},a43_0x3a82(_0x5032c2,_0x6d90);}import a43_0x4baeae from'./Quaternion.js';var CorridorGeometryLibrary={},scratch1=new a43_0x50e876(),scratch2=new a43_0x50e876(),scratch3=new a43_0x50e876(),scratch4=new a43_0x50e876(),scaleArray2=[new a43_0x50e876(),new a43_0x50e876()],cartesian1=new a43_0x50e876(),cartesian2=new a43_0x50e876(),cartesian3=new a43_0x50e876(),cartesian4=new a43_0x50e876(),cartesian5=new a43_0x50e876(),cartesian6=new a43_0x50e876(),cartesian7=new a43_0x50e876(),cartesian8=new a43_0x50e876(),cartesian9=new a43_0x50e876(),cartesian10=new a43_0x50e876(),quaterion=new a43_0x4baeae(),rotMatrix=new a43_0x372d55();function computeRoundCorner(_0x53c7f1,_0x4971a5,_0x414d2d,_0x2d0da8,_0x2b577f){var _0x2f95f5=a43_0x3a82,_0x2f2429=a43_0x50e876[_0x2f95f5(0x160)](a43_0x50e876['subtract'](_0x4971a5,_0x53c7f1,scratch1),a43_0x50e876['subtract'](_0x414d2d,_0x53c7f1,scratch2)),_0x5e0427=_0x2d0da8===a43_0x1beaca[_0x2f95f5(0x156)]?0x1:Math[_0x2f95f5(0x15e)](_0x2f2429/a43_0x577b67[_0x2f95f5(0x159)](0x5))+0x1,_0x4c34ad=_0x5e0427*0x3,_0x1fbb4e=new Array(_0x4c34ad);_0x1fbb4e[_0x4c34ad-0x3]=_0x414d2d['x'],_0x1fbb4e[_0x4c34ad-0x2]=_0x414d2d['y'],_0x1fbb4e[_0x4c34ad-0x1]=_0x414d2d['z'];var _0x352565;_0x2b577f?_0x352565=a43_0x372d55[_0x2f95f5(0x172)](a43_0x4baeae['fromAxisAngle'](a43_0x50e876['negate'](_0x53c7f1,scratch1),_0x2f2429/_0x5e0427,quaterion),rotMatrix):_0x352565=a43_0x372d55[_0x2f95f5(0x172)](a43_0x4baeae[_0x2f95f5(0x174)](_0x53c7f1,_0x2f2429/_0x5e0427,quaterion),rotMatrix);var _0x2b6a8c=0x0;_0x4971a5=a43_0x50e876['clone'](_0x4971a5,scratch1);for(var _0x27dc3d=0x0;_0x27dc3d<_0x5e0427;_0x27dc3d++){_0x4971a5=a43_0x372d55[_0x2f95f5(0x15d)](_0x352565,_0x4971a5,_0x4971a5),_0x1fbb4e[_0x2b6a8c++]=_0x4971a5['x'],_0x1fbb4e[_0x2b6a8c++]=_0x4971a5['y'],_0x1fbb4e[_0x2b6a8c++]=_0x4971a5['z'];}return _0x1fbb4e;}function addEndCaps(_0x5a0b40){var _0xa7e7c7=a43_0x3a82,_0x9166d=cartesian1,_0x5d767d=cartesian2,_0x5b9deb=cartesian3,_0x1d97dd=_0x5a0b40[0x1];_0x5d767d=a43_0x50e876[_0xa7e7c7(0x151)](_0x5a0b40[0x1],_0x1d97dd[_0xa7e7c7(0x16f)]-0x3,_0x5d767d),_0x5b9deb=a43_0x50e876['fromArray'](_0x5a0b40[0x0],0x0,_0x5b9deb),_0x9166d=a43_0x50e876['midpoint'](_0x5d767d,_0x5b9deb,_0x9166d);var _0x40b70f=computeRoundCorner(_0x9166d,_0x5d767d,_0x5b9deb,a43_0x1beaca[_0xa7e7c7(0x15f)],![]),_0x53f009=_0x5a0b40[_0xa7e7c7(0x16f)]-0x1,_0x2297c8=_0x5a0b40[_0x53f009-0x1];_0x1d97dd=_0x5a0b40[_0x53f009],_0x5d767d=a43_0x50e876[_0xa7e7c7(0x151)](_0x2297c8,_0x2297c8['length']-0x3,_0x5d767d),_0x5b9deb=a43_0x50e876[_0xa7e7c7(0x151)](_0x1d97dd,0x0,_0x5b9deb),_0x9166d=a43_0x50e876[_0xa7e7c7(0x162)](_0x5d767d,_0x5b9deb,_0x9166d);var _0x257449=computeRoundCorner(_0x9166d,_0x5d767d,_0x5b9deb,a43_0x1beaca[_0xa7e7c7(0x15f)],![]);return[_0x40b70f,_0x257449];}function computeMiteredCorner(_0x51b022,_0x3666a4,_0x23c0d3,_0x133416){var _0x4d493c=a43_0x3a82,_0x58a130=scratch1;return _0x133416?_0x58a130=a43_0x50e876[_0x4d493c(0x153)](_0x51b022,_0x3666a4,_0x58a130):(_0x3666a4=a43_0x50e876['negate'](_0x3666a4,_0x3666a4),_0x58a130=a43_0x50e876[_0x4d493c(0x153)](_0x51b022,_0x3666a4,_0x58a130)),[_0x58a130['x'],_0x58a130['y'],_0x58a130['z'],_0x23c0d3['x'],_0x23c0d3['y'],_0x23c0d3['z']];}function addShiftedPositions(_0x57b3dc,_0xd9f356,_0x57760b,_0x90f2b9){var _0x3d370f=a43_0x3a82,_0x5d2dae=new Array(_0x57b3dc['length']),_0x5bdd7c=new Array(_0x57b3dc[_0x3d370f(0x16f)]),_0xbe23c3=a43_0x50e876[_0x3d370f(0x177)](_0xd9f356,_0x57760b,scratch1),_0x57629c=a43_0x50e876[_0x3d370f(0x166)](_0xbe23c3,scratch2),_0x20d95b=0x0,_0x572f78=_0x57b3dc[_0x3d370f(0x16f)]-0x1;for(var _0xa14b70=0x0;_0xa14b70<_0x57b3dc['length'];_0xa14b70+=0x3){var _0x3c485b=a43_0x50e876[_0x3d370f(0x151)](_0x57b3dc,_0xa14b70,scratch3),_0x2155ea=a43_0x50e876['add'](_0x3c485b,_0x57629c,scratch4);_0x5d2dae[_0x20d95b++]=_0x2155ea['x'],_0x5d2dae[_0x20d95b++]=_0x2155ea['y'],_0x5d2dae[_0x20d95b++]=_0x2155ea['z'];var _0x5552fb=a43_0x50e876[_0x3d370f(0x153)](_0x3c485b,_0xbe23c3,scratch4);_0x5bdd7c[_0x572f78--]=_0x5552fb['z'],_0x5bdd7c[_0x572f78--]=_0x5552fb['y'],_0x5bdd7c[_0x572f78--]=_0x5552fb['x'];}return _0x90f2b9[_0x3d370f(0x150)](_0x5d2dae,_0x5bdd7c),_0x90f2b9;}CorridorGeometryLibrary[a43_0x5c1534(0x16a)]=function(_0x38cc59,_0x4fa93b,_0x1a2967,_0x27c9fc){var _0x5551f3=_0x4fa93b['x'],_0x48e370=_0x4fa93b['y'],_0x2d5734=_0x4fa93b['z'];a43_0x1b2f47(_0x1a2967)&&(_0x38cc59[_0x1a2967]=_0x5551f3,_0x38cc59[_0x1a2967+0x1]=_0x48e370,_0x38cc59[_0x1a2967+0x2]=_0x2d5734),a43_0x1b2f47(_0x27c9fc)&&(_0x38cc59[_0x27c9fc]=_0x2d5734,_0x38cc59[_0x27c9fc-0x1]=_0x48e370,_0x38cc59[_0x27c9fc-0x2]=_0x5551f3);};var scratchForwardProjection=new a43_0x50e876(),scratchBackwardProjection=new a43_0x50e876();CorridorGeometryLibrary[a43_0x5c1534(0x164)]=function(_0x2bc79d){var _0x2236b4=a43_0x5c1534,_0x268b32=_0x2bc79d['granularity'],_0x5489ab=_0x2bc79d[_0x2236b4(0x178)],_0x442124=_0x2bc79d['ellipsoid'],_0x4cf674=_0x2bc79d[_0x2236b4(0x157)]/0x2,_0x2ca41b=_0x2bc79d[_0x2236b4(0x173)],_0xfd15bc=_0x2bc79d['saveAttributes'],_0x3cce0a=cartesian1,_0x3f5f60=cartesian2,_0x52a69b=cartesian3,_0x841f23=cartesian4,_0x3daf87=cartesian5,_0x1bd587=cartesian6,_0xf431aa=cartesian7,_0x5a2128=cartesian8,_0x5eaeb9=cartesian9,_0x3657c3=cartesian10,_0x55130c=[],_0x4424d9=_0xfd15bc?[]:undefined,_0x36e9ad=_0xfd15bc?[]:undefined,_0x2cd6d1=_0x5489ab[0x0],_0x1f5bbd=_0x5489ab[0x1];_0x3f5f60=a43_0x50e876[_0x2236b4(0x16c)](a43_0x50e876['subtract'](_0x1f5bbd,_0x2cd6d1,_0x3f5f60),_0x3f5f60),_0x3cce0a=_0x442124[_0x2236b4(0x163)](_0x2cd6d1,_0x3cce0a),_0x841f23=a43_0x50e876[_0x2236b4(0x16c)](a43_0x50e876[_0x2236b4(0x176)](_0x3cce0a,_0x3f5f60,_0x841f23),_0x841f23);_0xfd15bc&&(_0x4424d9[_0x2236b4(0x150)](_0x841f23['x'],_0x841f23['y'],_0x841f23['z']),_0x36e9ad['push'](_0x3cce0a['x'],_0x3cce0a['y'],_0x3cce0a['z']));_0xf431aa=a43_0x50e876[_0x2236b4(0x15b)](_0x2cd6d1,_0xf431aa),_0x2cd6d1=_0x1f5bbd,_0x52a69b=a43_0x50e876['negate'](_0x3f5f60,_0x52a69b);var _0x2d3d3a,_0xb54ee0=[],_0x416622,_0x28277d=_0x5489ab[_0x2236b4(0x16f)];for(_0x416622=0x1;_0x416622<_0x28277d-0x1;_0x416622++){_0x3cce0a=_0x442124[_0x2236b4(0x163)](_0x2cd6d1,_0x3cce0a),_0x1f5bbd=_0x5489ab[_0x416622+0x1],_0x3f5f60=a43_0x50e876['normalize'](a43_0x50e876['subtract'](_0x1f5bbd,_0x2cd6d1,_0x3f5f60),_0x3f5f60),_0x3daf87=a43_0x50e876[_0x2236b4(0x16c)](a43_0x50e876[_0x2236b4(0x153)](_0x3f5f60,_0x52a69b,_0x3daf87),_0x3daf87);var _0x6a5e5d=a43_0x50e876[_0x2236b4(0x177)](_0x3cce0a,a43_0x50e876['dot'](_0x3f5f60,_0x3cce0a),scratchForwardProjection);a43_0x50e876[_0x2236b4(0x171)](_0x3f5f60,_0x6a5e5d,_0x6a5e5d),a43_0x50e876[_0x2236b4(0x16c)](_0x6a5e5d,_0x6a5e5d);var _0x1fd198=a43_0x50e876[_0x2236b4(0x177)](_0x3cce0a,a43_0x50e876['dot'](_0x52a69b,_0x3cce0a),scratchBackwardProjection);a43_0x50e876['subtract'](_0x52a69b,_0x1fd198,_0x1fd198),a43_0x50e876[_0x2236b4(0x16c)](_0x1fd198,_0x1fd198);var _0x48445e=!a43_0x577b67['equalsEpsilon'](Math['abs'](a43_0x50e876[_0x2236b4(0x15a)](_0x6a5e5d,_0x1fd198)),0x1,a43_0x577b67[_0x2236b4(0x175)]);if(_0x48445e){_0x3daf87=a43_0x50e876[_0x2236b4(0x176)](_0x3daf87,_0x3cce0a,_0x3daf87),_0x3daf87=a43_0x50e876[_0x2236b4(0x176)](_0x3cce0a,_0x3daf87,_0x3daf87),_0x3daf87=a43_0x50e876['normalize'](_0x3daf87,_0x3daf87);var _0x537a01=_0x4cf674/Math[_0x2236b4(0x167)](0.25,a43_0x50e876[_0x2236b4(0x158)](a43_0x50e876['cross'](_0x3daf87,_0x52a69b,scratch1))),_0x224a7c=a43_0xe1e317[_0x2236b4(0x16e)](_0x3f5f60,_0x52a69b,_0x2cd6d1,_0x442124);_0x3daf87=a43_0x50e876[_0x2236b4(0x177)](_0x3daf87,_0x537a01,_0x3daf87),_0x224a7c?(_0x5a2128=a43_0x50e876['add'](_0x2cd6d1,_0x3daf87,_0x5a2128),_0x3657c3=a43_0x50e876['add'](_0x5a2128,a43_0x50e876['multiplyByScalar'](_0x841f23,_0x4cf674,_0x3657c3),_0x3657c3),_0x5eaeb9=a43_0x50e876['add'](_0x5a2128,a43_0x50e876[_0x2236b4(0x177)](_0x841f23,_0x4cf674*0x2,_0x5eaeb9),_0x5eaeb9),scaleArray2[0x0]=a43_0x50e876[_0x2236b4(0x15b)](_0xf431aa,scaleArray2[0x0]),scaleArray2[0x1]=a43_0x50e876['clone'](_0x3657c3,scaleArray2[0x1]),_0x2d3d3a=a43_0x1f37bd[_0x2236b4(0x155)]({'positions':scaleArray2,'granularity':_0x268b32,'ellipsoid':_0x442124}),_0x55130c=addShiftedPositions(_0x2d3d3a,_0x841f23,_0x4cf674,_0x55130c),_0xfd15bc&&(_0x4424d9['push'](_0x841f23['x'],_0x841f23['y'],_0x841f23['z']),_0x36e9ad[_0x2236b4(0x150)](_0x3cce0a['x'],_0x3cce0a['y'],_0x3cce0a['z'])),_0x1bd587=a43_0x50e876[_0x2236b4(0x15b)](_0x5eaeb9,_0x1bd587),_0x841f23=a43_0x50e876['normalize'](a43_0x50e876[_0x2236b4(0x176)](_0x3cce0a,_0x3f5f60,_0x841f23),_0x841f23),_0x5eaeb9=a43_0x50e876[_0x2236b4(0x153)](_0x5a2128,a43_0x50e876[_0x2236b4(0x177)](_0x841f23,_0x4cf674*0x2,_0x5eaeb9),_0x5eaeb9),_0xf431aa=a43_0x50e876[_0x2236b4(0x153)](_0x5a2128,a43_0x50e876[_0x2236b4(0x177)](_0x841f23,_0x4cf674,_0xf431aa),_0xf431aa),_0x2ca41b===a43_0x1beaca[_0x2236b4(0x15f)]||_0x2ca41b===a43_0x1beaca['BEVELED']?_0xb54ee0[_0x2236b4(0x150)]({'leftPositions':computeRoundCorner(_0x5a2128,_0x1bd587,_0x5eaeb9,_0x2ca41b,_0x224a7c)}):_0xb54ee0[_0x2236b4(0x150)]({'leftPositions':computeMiteredCorner(_0x2cd6d1,a43_0x50e876[_0x2236b4(0x166)](_0x3daf87,_0x3daf87),_0x5eaeb9,_0x224a7c)})):(_0x5eaeb9=a43_0x50e876[_0x2236b4(0x153)](_0x2cd6d1,_0x3daf87,_0x5eaeb9),_0x3657c3=a43_0x50e876['add'](_0x5eaeb9,a43_0x50e876[_0x2236b4(0x166)](a43_0x50e876[_0x2236b4(0x177)](_0x841f23,_0x4cf674,_0x3657c3),_0x3657c3),_0x3657c3),_0x5a2128=a43_0x50e876[_0x2236b4(0x153)](_0x5eaeb9,a43_0x50e876[_0x2236b4(0x166)](a43_0x50e876['multiplyByScalar'](_0x841f23,_0x4cf674*0x2,_0x5a2128),_0x5a2128),_0x5a2128),scaleArray2[0x0]=a43_0x50e876[_0x2236b4(0x15b)](_0xf431aa,scaleArray2[0x0]),scaleArray2[0x1]=a43_0x50e876['clone'](_0x3657c3,scaleArray2[0x1]),_0x2d3d3a=a43_0x1f37bd[_0x2236b4(0x155)]({'positions':scaleArray2,'granularity':_0x268b32,'ellipsoid':_0x442124}),_0x55130c=addShiftedPositions(_0x2d3d3a,_0x841f23,_0x4cf674,_0x55130c),_0xfd15bc&&(_0x4424d9[_0x2236b4(0x150)](_0x841f23['x'],_0x841f23['y'],_0x841f23['z']),_0x36e9ad[_0x2236b4(0x150)](_0x3cce0a['x'],_0x3cce0a['y'],_0x3cce0a['z'])),_0x1bd587=a43_0x50e876['clone'](_0x5a2128,_0x1bd587),_0x841f23=a43_0x50e876[_0x2236b4(0x16c)](a43_0x50e876[_0x2236b4(0x176)](_0x3cce0a,_0x3f5f60,_0x841f23),_0x841f23),_0x5a2128=a43_0x50e876['add'](_0x5eaeb9,a43_0x50e876[_0x2236b4(0x166)](a43_0x50e876[_0x2236b4(0x177)](_0x841f23,_0x4cf674*0x2,_0x5a2128),_0x5a2128),_0x5a2128),_0xf431aa=a43_0x50e876[_0x2236b4(0x153)](_0x5eaeb9,a43_0x50e876[_0x2236b4(0x166)](a43_0x50e876['multiplyByScalar'](_0x841f23,_0x4cf674,_0xf431aa),_0xf431aa),_0xf431aa),_0x2ca41b===a43_0x1beaca[_0x2236b4(0x15f)]||_0x2ca41b===a43_0x1beaca[_0x2236b4(0x156)]?_0xb54ee0[_0x2236b4(0x150)]({'rightPositions':computeRoundCorner(_0x5eaeb9,_0x1bd587,_0x5a2128,_0x2ca41b,_0x224a7c)}):_0xb54ee0['push']({'rightPositions':computeMiteredCorner(_0x2cd6d1,_0x3daf87,_0x5a2128,_0x224a7c)})),_0x52a69b=a43_0x50e876[_0x2236b4(0x166)](_0x3f5f60,_0x52a69b);}_0x2cd6d1=_0x1f5bbd;}_0x3cce0a=_0x442124['geodeticSurfaceNormal'](_0x2cd6d1,_0x3cce0a),scaleArray2[0x0]=a43_0x50e876[_0x2236b4(0x15b)](_0xf431aa,scaleArray2[0x0]),scaleArray2[0x1]=a43_0x50e876[_0x2236b4(0x15b)](_0x2cd6d1,scaleArray2[0x1]),_0x2d3d3a=a43_0x1f37bd['generateArc']({'positions':scaleArray2,'granularity':_0x268b32,'ellipsoid':_0x442124}),_0x55130c=addShiftedPositions(_0x2d3d3a,_0x841f23,_0x4cf674,_0x55130c);_0xfd15bc&&(_0x4424d9[_0x2236b4(0x150)](_0x841f23['x'],_0x841f23['y'],_0x841f23['z']),_0x36e9ad[_0x2236b4(0x150)](_0x3cce0a['x'],_0x3cce0a['y'],_0x3cce0a['z']));var _0x15bce0;return _0x2ca41b===a43_0x1beaca[_0x2236b4(0x15f)]&&(_0x15bce0=addEndCaps(_0x55130c)),{'positions':_0x55130c,'corners':_0xb54ee0,'lefts':_0x4424d9,'normals':_0x36e9ad,'endPositions':_0x15bce0};};export default CorridorGeometryLibrary;