var a1226_0x656422=a1226_0x5a49;function a1226_0x3072(){var _0xfb335a=['zigZagDeltaDecode','add','normalize','lerp','340326jWgzQW','UNSIGNED_SHORT','buffer','ZERO','equals','fromRadians','cartographicToCartesian','startPositionAndHeights','BYTES_PER_ELEMENT','pack','5751063kGZlzT','batchIds','packedLength','8039444hrmJav','packedBuffer','unpack','24lGPHrw','vec4Offset','942142dnccsC','volumeStartIndex','prototype','startEllipsoidNormals','indices','vertexBatchIds','endEllipsoidNormals','indexOffset','toRadians','1512565zJdNfU','geodeticSurfaceNormal','subarray','cos','cross','dot','createTypedArray','subtract','keepDecodedPositions','endPositionAndHeights','latitude','length','counts','3514mmVnVJ','longitude','positions','startFaceNormalAndVertexCornerIds','multiplyByScalar','endFaceNormalAndHalfWidths','16aITMHO','vec3Offset','push','349650Ygdlqj','batchIdOffset','widths'];a1226_0x3072=function(){return _0xfb335a;};return a1226_0x3072();}(function(_0x1052ef,_0x64315c){var _0x5d36cc=a1226_0x5a49,_0x17dcc5=_0x1052ef();while(!![]){try{var _0x4f32ee=parseInt(_0x5d36cc(0x8a))/0x1+parseInt(_0x5d36cc(0xa0))/0x2+parseInt(_0x5d36cc(0x78))/0x3*(-parseInt(_0x5d36cc(0x88))/0x4)+parseInt(_0x5d36cc(0x93))/0x5+parseInt(_0x5d36cc(0xa9))/0x6+-parseInt(_0x5d36cc(0x85))/0x7+parseInt(_0x5d36cc(0xa6))/0x8*(parseInt(_0x5d36cc(0x82))/0x9);if(_0x4f32ee===_0x64315c)break;else _0x17dcc5['push'](_0x17dcc5['shift']());}catch(_0x1a8e53){_0x17dcc5['push'](_0x17dcc5['shift']());}}}(a1226_0x3072,0xb7f95));import a1226_0x3e80a8 from'../Core/AttributeCompression.js';import a1226_0x1fcea0 from'../Core/Cartesian3.js';import a1226_0x52b1e4 from'../Core/Cartographic.js';import a1226_0x129ca9 from'../Core/combine.js';import a1226_0x10238c from'../Core/Ellipsoid.js';import a1226_0x1786be from'../Core/IndexDatatype.js';import a1226_0xa802ba from'../Core/Math.js';import a1226_0x4035d6 from'../Core/Rectangle.js';import a1226_0x4de7a1 from'./createTaskProcessorWorker.js';var MAX_SHORT=0x7fff,MITER_BREAK=Math[a1226_0x656422(0x96)](a1226_0xa802ba[a1226_0x656422(0x92)](0x96)),scratchBVCartographic=new a1226_0x52b1e4(),scratchEncodedPosition=new a1226_0x1fcea0();function decodePositions(_0x34a59e,_0x23724d,_0x4cecfc,_0x267e37,_0xe0bb51,_0x207667,_0x4c3139){var _0x32a50f=a1226_0x656422,_0x5318df=_0x34a59e['length'],_0x53458a=new Float64Array(_0x5318df*0x3);for(var _0x3a6ecb=0x0;_0x3a6ecb<_0x5318df;++_0x3a6ecb){var _0x2113da=_0x34a59e[_0x3a6ecb],_0x43d298=_0x23724d[_0x3a6ecb],_0x17d207=_0x4cecfc[_0x3a6ecb],_0x324bca=a1226_0xa802ba[_0x32a50f(0x77)](_0x267e37['west'],_0x267e37['east'],_0x2113da/MAX_SHORT),_0x1ea4cf=a1226_0xa802ba['lerp'](_0x267e37['south'],_0x267e37['north'],_0x43d298/MAX_SHORT),_0x125ad0=a1226_0xa802ba[_0x32a50f(0x77)](_0xe0bb51,_0x207667,_0x17d207/MAX_SHORT),_0x22a581=a1226_0x52b1e4[_0x32a50f(0x7d)](_0x324bca,_0x1ea4cf,_0x125ad0,scratchBVCartographic),_0x7aa3e7=_0x4c3139[_0x32a50f(0x7e)](_0x22a581,scratchEncodedPosition);a1226_0x1fcea0[_0x32a50f(0x81)](_0x7aa3e7,_0x53458a,_0x3a6ecb*0x3);}return _0x53458a;}function getPositionOffsets(_0x3d99f4){var _0x49a831=a1226_0x656422,_0x41f0a9=_0x3d99f4[_0x49a831(0x9e)],_0x1cb6c7=new Uint32Array(_0x41f0a9+0x1),_0x9a9854=0x0;for(var _0x55311e=0x0;_0x55311e<_0x41f0a9;++_0x55311e){_0x1cb6c7[_0x55311e]=_0x9a9854,_0x9a9854+=_0x3d99f4[_0x55311e];}return _0x1cb6c7[_0x41f0a9]=_0x9a9854,_0x1cb6c7;}var previousCompressedCartographicScratch=new a1226_0x52b1e4(),currentCompressedCartographicScratch=new a1226_0x52b1e4();function a1226_0x5a49(_0x42450a,_0x25e1f2){var _0x3072f0=a1226_0x3072();return a1226_0x5a49=function(_0x5a496c,_0x351c34){_0x5a496c=_0x5a496c-0x74;var _0x714d04=_0x3072f0[_0x5a496c];return _0x714d04;},a1226_0x5a49(_0x42450a,_0x25e1f2);}function removeDuplicates(_0x5c9ff7,_0x152828,_0x1c0cd5,_0xd6c9a2){var _0x212423=a1226_0x656422,_0x213377=_0xd6c9a2[_0x212423(0x9e)],_0x3ee6c7=_0x5c9ff7[_0x212423(0x9e)],_0x32ffd5=new Uint8Array(_0x3ee6c7),_0x1407d6=previousCompressedCartographicScratch,_0xfa4492=currentCompressedCartographicScratch,_0xc60986=0x0;for(var _0x4d4f87=0x0;_0x4d4f87<_0x213377;_0x4d4f87++){var _0x1ecd7d=_0xd6c9a2[_0x4d4f87],_0x5d09fe=_0x1ecd7d;for(var _0x340fef=0x1;_0x340fef<_0x1ecd7d;_0x340fef++){var _0x53c092=_0xc60986+_0x340fef,_0x48886f=_0x53c092-0x1;_0xfa4492['longitude']=_0x5c9ff7[_0x53c092],_0xfa4492[_0x212423(0x9d)]=_0x152828[_0x53c092],_0x1407d6[_0x212423(0xa1)]=_0x5c9ff7[_0x48886f],_0x1407d6[_0x212423(0x9d)]=_0x152828[_0x48886f],a1226_0x52b1e4['equals'](_0xfa4492,_0x1407d6)&&(_0x5d09fe--,_0x32ffd5[_0x48886f]=0x1);}_0xd6c9a2[_0x4d4f87]=_0x5d09fe,_0xc60986+=_0x1ecd7d;}var _0x456e04=0x0;for(var _0x303d45=0x0;_0x303d45<_0x3ee6c7;_0x303d45++){_0x32ffd5[_0x303d45]!==0x1&&(_0x5c9ff7[_0x456e04]=_0x5c9ff7[_0x303d45],_0x152828[_0x456e04]=_0x152828[_0x303d45],_0x1c0cd5[_0x456e04]=_0x1c0cd5[_0x303d45],_0x456e04++);}}function VertexAttributesAndIndices(_0x59bd44){var _0x2de3a2=a1226_0x656422,_0x4539b6=_0x59bd44*0x8,_0x2cdf97=_0x4539b6*0x3,_0x4653a3=_0x4539b6*0x4;this[_0x2de3a2(0x8d)]=new Float32Array(_0x2cdf97),this[_0x2de3a2(0x90)]=new Float32Array(_0x2cdf97),this[_0x2de3a2(0x7f)]=new Float32Array(_0x4653a3),this[_0x2de3a2(0xa3)]=new Float32Array(_0x4653a3),this[_0x2de3a2(0x9c)]=new Float32Array(_0x4653a3),this[_0x2de3a2(0xa5)]=new Float32Array(_0x4653a3),this[_0x2de3a2(0x8f)]=new Uint16Array(_0x4539b6),this[_0x2de3a2(0x8e)]=a1226_0x1786be[_0x2de3a2(0x99)](_0x4539b6,0x24*_0x59bd44),this[_0x2de3a2(0xa7)]=0x0,this[_0x2de3a2(0x89)]=0x0,this[_0x2de3a2(0xaa)]=0x0,this[_0x2de3a2(0x91)]=0x0,this[_0x2de3a2(0x8b)]=0x0;}var towardCurrScratch=new a1226_0x1fcea0(),towardNextScratch=new a1226_0x1fcea0();function computeMiteredNormal(_0x5626bc,_0x438244,_0x2dc302,_0x480229,_0x22a835){var _0x123dfb=a1226_0x656422,_0x58daf4=a1226_0x1fcea0['subtract'](_0x2dc302,_0x438244,towardNextScratch),_0x5c8765=a1226_0x1fcea0['subtract'](_0x438244,_0x5626bc,towardCurrScratch);return a1226_0x1fcea0[_0x123dfb(0x76)](_0x58daf4,_0x58daf4),a1226_0x1fcea0[_0x123dfb(0x76)](_0x5c8765,_0x5c8765),a1226_0x1fcea0[_0x123dfb(0x98)](_0x58daf4,_0x5c8765)<MITER_BREAK&&(_0x5c8765=a1226_0x1fcea0[_0x123dfb(0xa4)](_0x5c8765,-0x1,towardCurrScratch)),a1226_0x1fcea0['add'](_0x58daf4,_0x5c8765,_0x22a835),a1226_0x1fcea0['equals'](_0x22a835,a1226_0x1fcea0[_0x123dfb(0x7b)])&&(_0x22a835=a1226_0x1fcea0[_0x123dfb(0x9a)](_0x5626bc,_0x438244)),a1226_0x1fcea0[_0x123dfb(0x97)](_0x22a835,_0x480229,_0x22a835),a1226_0x1fcea0[_0x123dfb(0x97)](_0x480229,_0x22a835,_0x22a835),a1226_0x1fcea0[_0x123dfb(0x76)](_0x22a835,_0x22a835),_0x22a835;}var REFERENCE_INDICES=[0x0,0x2,0x6,0x0,0x6,0x4,0x0,0x1,0x3,0x0,0x3,0x2,0x0,0x4,0x5,0x0,0x5,0x1,0x5,0x3,0x1,0x5,0x7,0x3,0x7,0x5,0x4,0x7,0x4,0x6,0x7,0x6,0x2,0x7,0x2,0x3],REFERENCE_INDICES_LENGTH=REFERENCE_INDICES['length'],positionScratch=new a1226_0x1fcea0(),scratchStartEllipsoidNormal=new a1226_0x1fcea0(),scratchStartFaceNormal=new a1226_0x1fcea0(),scratchEndEllipsoidNormal=new a1226_0x1fcea0(),scratchEndFaceNormal=new a1226_0x1fcea0();VertexAttributesAndIndices[a1226_0x656422(0x8c)]['addVolume']=function(_0x1cbaf4,_0x482758,_0x33d143,_0x1daaba,_0x39c42d,_0x5a17ab,_0x20cff9,_0x4962da,_0x4674db,_0x1cb9a4){var _0x253b90=a1226_0x656422,_0x5dc9aa=a1226_0x1fcea0['add'](_0x482758,_0x4674db,positionScratch),_0x46ad78=_0x1cb9a4[_0x253b90(0x94)](_0x5dc9aa,scratchStartEllipsoidNormal);_0x5dc9aa=a1226_0x1fcea0[_0x253b90(0x75)](_0x33d143,_0x4674db,positionScratch);var _0xd1594e=_0x1cb9a4[_0x253b90(0x94)](_0x5dc9aa,scratchEndEllipsoidNormal),_0x3d90bc=computeMiteredNormal(_0x1cbaf4,_0x482758,_0x33d143,_0x46ad78,scratchStartFaceNormal),_0x389728=computeMiteredNormal(_0x1daaba,_0x33d143,_0x482758,_0xd1594e,scratchEndFaceNormal),_0x4cbb59=this[_0x253b90(0x8d)],_0x32f138=this[_0x253b90(0x90)],_0x36e985=this[_0x253b90(0x7f)],_0x35ee4e=this[_0x253b90(0xa3)],_0x195bf0=this[_0x253b90(0x9c)],_0xbf30d=this['endFaceNormalAndHalfWidths'],_0x363d84=this[_0x253b90(0x8f)],_0x1de48e=this[_0x253b90(0xaa)],_0x3564fc=this[_0x253b90(0xa7)],_0x1ff6cb=this[_0x253b90(0x89)],_0xf239c5;for(_0xf239c5=0x0;_0xf239c5<0x8;_0xf239c5++){a1226_0x1fcea0['pack'](_0x46ad78,_0x4cbb59,_0x3564fc),a1226_0x1fcea0[_0x253b90(0x81)](_0xd1594e,_0x32f138,_0x3564fc),a1226_0x1fcea0[_0x253b90(0x81)](_0x482758,_0x36e985,_0x1ff6cb),_0x36e985[_0x1ff6cb+0x3]=_0x39c42d,a1226_0x1fcea0['pack'](_0x33d143,_0x195bf0,_0x1ff6cb),_0x195bf0[_0x1ff6cb+0x3]=_0x5a17ab,a1226_0x1fcea0['pack'](_0x3d90bc,_0x35ee4e,_0x1ff6cb),_0x35ee4e[_0x1ff6cb+0x3]=_0xf239c5,a1226_0x1fcea0[_0x253b90(0x81)](_0x389728,_0xbf30d,_0x1ff6cb),_0xbf30d[_0x1ff6cb+0x3]=_0x20cff9,_0x363d84[_0x1de48e++]=_0x4962da,_0x3564fc+=0x3,_0x1ff6cb+=0x4;}this[_0x253b90(0xaa)]=_0x1de48e,this['vec3Offset']=_0x3564fc,this[_0x253b90(0x89)]=_0x1ff6cb;var _0x412b94=this[_0x253b90(0x8e)],_0x850638=this[_0x253b90(0x8b)],_0x1daac6=this['indexOffset'];for(_0xf239c5=0x0;_0xf239c5<REFERENCE_INDICES_LENGTH;_0xf239c5++){_0x412b94[_0x1daac6+_0xf239c5]=REFERENCE_INDICES[_0xf239c5]+_0x850638;}this[_0x253b90(0x8b)]+=0x8,this['indexOffset']+=REFERENCE_INDICES_LENGTH;};var scratchRectangle=new a1226_0x4035d6(),scratchEllipsoid=new a1226_0x10238c(),scratchCenter=new a1226_0x1fcea0(),scratchPrev=new a1226_0x1fcea0(),scratchP0=new a1226_0x1fcea0(),scratchP1=new a1226_0x1fcea0(),scratchNext=new a1226_0x1fcea0();function createVectorTileClampedPolylines(_0x356c69,_0x29ddcb){var _0x36c291=a1226_0x656422,_0x4b68d9=new Uint16Array(_0x356c69[_0x36c291(0xa2)]),_0x3d0d60=new Uint16Array(_0x356c69[_0x36c291(0xab)]),_0x464db6=new Uint32Array(_0x356c69[_0x36c291(0x9f)]),_0xe77d2c=new Uint16Array(_0x356c69[_0x36c291(0x83)]),_0x2446c0=scratchRectangle,_0x566810=scratchEllipsoid,_0x1e5e8e=scratchCenter,_0x5add1c=new Float64Array(_0x356c69[_0x36c291(0x86)]),_0x319da3=0x0,_0xf65ddf=_0x5add1c[_0x319da3++],_0x2e4a69=_0x5add1c[_0x319da3++];a1226_0x4035d6[_0x36c291(0x87)](_0x5add1c,_0x319da3,_0x2446c0),_0x319da3+=a1226_0x4035d6[_0x36c291(0x84)],a1226_0x10238c[_0x36c291(0x87)](_0x5add1c,_0x319da3,_0x566810),_0x319da3+=a1226_0x10238c[_0x36c291(0x84)],a1226_0x1fcea0[_0x36c291(0x87)](_0x5add1c,_0x319da3,_0x1e5e8e);var _0x365bab,_0x2d40dd=_0x4b68d9[_0x36c291(0x9e)]/0x3,_0xdce51c=_0x4b68d9[_0x36c291(0x95)](0x0,_0x2d40dd),_0x436ae5=_0x4b68d9['subarray'](_0x2d40dd,0x2*_0x2d40dd),_0x5ed4d0=_0x4b68d9[_0x36c291(0x95)](0x2*_0x2d40dd,0x3*_0x2d40dd);a1226_0x3e80a8[_0x36c291(0x74)](_0xdce51c,_0x436ae5,_0x5ed4d0),removeDuplicates(_0xdce51c,_0x436ae5,_0x5ed4d0,_0x464db6);var _0x5d1e38=_0x464db6[_0x36c291(0x9e)],_0x2bc6dd=0x0;for(_0x365bab=0x0;_0x365bab<_0x5d1e38;_0x365bab++){var _0x3da426=_0x464db6[_0x365bab];_0x2bc6dd+=_0x3da426-0x1;}var _0x301fc5=new VertexAttributesAndIndices(_0x2bc6dd),_0x2ee1d1=decodePositions(_0xdce51c,_0x436ae5,_0x5ed4d0,_0x2446c0,_0xf65ddf,_0x2e4a69,_0x566810,_0x1e5e8e);_0x2d40dd=_0xdce51c[_0x36c291(0x9e)];var _0x5d5193=new Float32Array(_0x2d40dd*0x3);for(_0x365bab=0x0;_0x365bab<_0x2d40dd;++_0x365bab){_0x5d5193[_0x365bab*0x3]=_0x2ee1d1[_0x365bab*0x3]-_0x1e5e8e['x'],_0x5d5193[_0x365bab*0x3+0x1]=_0x2ee1d1[_0x365bab*0x3+0x1]-_0x1e5e8e['y'],_0x5d5193[_0x365bab*0x3+0x2]=_0x2ee1d1[_0x365bab*0x3+0x2]-_0x1e5e8e['z'];}var _0x7e2fb4=0x0,_0x10bd35=0x0;for(_0x365bab=0x0;_0x365bab<_0x5d1e38;_0x365bab++){var _0x2d4877=_0x464db6[_0x365bab]-0x1,_0x39dee9=_0x3d0d60[_0x365bab]*0.5,_0x3ebdca=_0xe77d2c[_0x365bab],_0xac5952=_0x7e2fb4;for(var _0xd6d174=0x0;_0xd6d174<_0x2d4877;_0xd6d174++){var _0xef1bab=a1226_0x1fcea0['unpack'](_0x5d5193,_0x7e2fb4,scratchP0),_0x45371f=a1226_0x1fcea0[_0x36c291(0x87)](_0x5d5193,_0x7e2fb4+0x3,scratchP1),_0x233e3c=_0x5ed4d0[_0x10bd35],_0x4fca8d=_0x5ed4d0[_0x10bd35+0x1];_0x233e3c=a1226_0xa802ba[_0x36c291(0x77)](_0xf65ddf,_0x2e4a69,_0x233e3c/MAX_SHORT),_0x4fca8d=a1226_0xa802ba[_0x36c291(0x77)](_0xf65ddf,_0x2e4a69,_0x4fca8d/MAX_SHORT),_0x10bd35++;var _0x43aae4=scratchPrev,_0xf71d2=scratchNext;if(_0xd6d174===0x0){var _0x88a6e7=_0xac5952+_0x2d4877*0x3,_0x239f92=a1226_0x1fcea0[_0x36c291(0x87)](_0x5d5193,_0x88a6e7,scratchPrev);if(a1226_0x1fcea0[_0x36c291(0x7c)](_0x239f92,_0xef1bab))a1226_0x1fcea0[_0x36c291(0x87)](_0x5d5193,_0x88a6e7-0x3,_0x43aae4);else{var _0xe270bb=a1226_0x1fcea0[_0x36c291(0x9a)](_0xef1bab,_0x45371f,scratchPrev);_0x43aae4=a1226_0x1fcea0['add'](_0xe270bb,_0xef1bab,scratchPrev);}}else a1226_0x1fcea0[_0x36c291(0x87)](_0x5d5193,_0x7e2fb4-0x3,_0x43aae4);if(_0xd6d174===_0x2d4877-0x1){var _0x4554af=a1226_0x1fcea0[_0x36c291(0x87)](_0x5d5193,_0xac5952,scratchNext);if(a1226_0x1fcea0['equals'](_0x4554af,_0x45371f))a1226_0x1fcea0[_0x36c291(0x87)](_0x5d5193,_0xac5952+0x3,_0xf71d2);else{var _0x39be99=a1226_0x1fcea0[_0x36c291(0x9a)](_0x45371f,_0xef1bab,scratchNext);_0xf71d2=a1226_0x1fcea0[_0x36c291(0x75)](_0x39be99,_0x45371f,scratchNext);}}else a1226_0x1fcea0[_0x36c291(0x87)](_0x5d5193,_0x7e2fb4+0x6,_0xf71d2);_0x301fc5['addVolume'](_0x43aae4,_0xef1bab,_0x45371f,_0xf71d2,_0x233e3c,_0x4fca8d,_0x39dee9,_0x3ebdca,_0x1e5e8e,_0x566810),_0x7e2fb4+=0x3;}_0x7e2fb4+=0x3,_0x10bd35++;}var _0x3d19e7=_0x301fc5[_0x36c291(0x8e)];_0x29ddcb[_0x36c291(0xa8)](_0x301fc5[_0x36c291(0x8d)][_0x36c291(0x7a)]),_0x29ddcb['push'](_0x301fc5[_0x36c291(0x90)]['buffer']),_0x29ddcb['push'](_0x301fc5[_0x36c291(0x7f)][_0x36c291(0x7a)]),_0x29ddcb[_0x36c291(0xa8)](_0x301fc5['startFaceNormalAndVertexCornerIds'][_0x36c291(0x7a)]),_0x29ddcb[_0x36c291(0xa8)](_0x301fc5[_0x36c291(0x9c)]['buffer']),_0x29ddcb[_0x36c291(0xa8)](_0x301fc5[_0x36c291(0xa5)][_0x36c291(0x7a)]),_0x29ddcb[_0x36c291(0xa8)](_0x301fc5['vertexBatchIds'][_0x36c291(0x7a)]),_0x29ddcb[_0x36c291(0xa8)](_0x3d19e7[_0x36c291(0x7a)]);var _0x587d6e={'indexDatatype':_0x3d19e7[_0x36c291(0x80)]===0x2?a1226_0x1786be[_0x36c291(0x79)]:a1226_0x1786be['UNSIGNED_INT'],'startEllipsoidNormals':_0x301fc5[_0x36c291(0x8d)]['buffer'],'endEllipsoidNormals':_0x301fc5['endEllipsoidNormals'][_0x36c291(0x7a)],'startPositionAndHeights':_0x301fc5[_0x36c291(0x7f)][_0x36c291(0x7a)],'startFaceNormalAndVertexCornerIds':_0x301fc5[_0x36c291(0xa3)][_0x36c291(0x7a)],'endPositionAndHeights':_0x301fc5[_0x36c291(0x9c)][_0x36c291(0x7a)],'endFaceNormalAndHalfWidths':_0x301fc5[_0x36c291(0xa5)][_0x36c291(0x7a)],'vertexBatchIds':_0x301fc5[_0x36c291(0x8f)][_0x36c291(0x7a)],'indices':_0x3d19e7['buffer']};if(_0x356c69[_0x36c291(0x9b)]){var _0xd2adf1=getPositionOffsets(_0x464db6);_0x29ddcb['push'](_0x2ee1d1[_0x36c291(0x7a)],_0xd2adf1[_0x36c291(0x7a)]),_0x587d6e=a1226_0x129ca9(_0x587d6e,{'decodedPositions':_0x2ee1d1[_0x36c291(0x7a)],'decodedPositionOffsets':_0xd2adf1[_0x36c291(0x7a)]});}return _0x587d6e;}export default a1226_0x4de7a1(createVectorTileClampedPolylines);