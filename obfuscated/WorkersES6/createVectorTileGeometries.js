function a1227_0x2950(_0x559cfd,_0x501fd9){var _0x4907a2=a1227_0x4907();return a1227_0x2950=function(_0x295064,_0x3a884a){_0x295064=_0x295064-0xfc;var _0x3d53fe=_0x4907a2[_0x295064];return _0x3d53fe;},a1227_0x2950(_0x559cfd,_0x501fd9);}var a1227_0x376f87=a1227_0x2950;(function(_0x114120,_0x297e59){var _0x57560b=a1227_0x2950,_0x175582=_0x114120();while(!![]){try{var _0x2b2cfe=-parseInt(_0x57560b(0x104))/0x1+parseInt(_0x57560b(0x122))/0x2+-parseInt(_0x57560b(0x117))/0x3+parseInt(_0x57560b(0x123))/0x4+parseInt(_0x57560b(0x12d))/0x5+-parseInt(_0x57560b(0x126))/0x6+parseInt(_0x57560b(0x125))/0x7;if(_0x2b2cfe===_0x297e59)break;else _0x175582['push'](_0x175582['shift']());}catch(_0x486d8d){_0x175582['push'](_0x175582['shift']());}}}(a1227_0x4907,0xa656c));import a1227_0x5ddd4f from'../Core/BoundingSphere.js';import a1227_0x111313 from'../Core/BoxGeometry.js';import a1227_0x52a931 from'../Core/Cartesian3.js';import a1227_0x3c08d8 from'../Core/Color.js';import a1227_0x3e9c55 from'../Core/CylinderGeometry.js';import a1227_0x219b97 from'../Core/defined.js';import a1227_0x38093d from'../Core/EllipsoidGeometry.js';import a1227_0x2b7c6c from'../Core/IndexDatatype.js';import a1227_0x50f5e3 from'../Core/Matrix4.js';import a1227_0xdda280 from'../Scene/Vector3DTileBatch.js';import a1227_0x301f62 from'./createTaskProcessorWorker.js';var scratchCartesian=new a1227_0x52a931(),packedBoxLength=a1227_0x50f5e3[a1227_0x376f87(0x10d)]+a1227_0x52a931[a1227_0x376f87(0x10d)],packedCylinderLength=a1227_0x50f5e3[a1227_0x376f87(0x10d)]+0x2,packedEllipsoidLength=a1227_0x50f5e3[a1227_0x376f87(0x10d)]+a1227_0x52a931[a1227_0x376f87(0x10d)],packedSphereLength=a1227_0x52a931[a1227_0x376f87(0x10d)]+0x1,scratchModelMatrixAndBV={'modelMatrix':new a1227_0x50f5e3(),'boundingVolume':new a1227_0x5ddd4f()};function boxModelMatrixAndBoundingVolume(_0x41aa21,_0x5efd81){var _0x337f1f=a1227_0x376f87,_0x2812c0=_0x5efd81*packedBoxLength,_0x2e88da=a1227_0x52a931['unpack'](_0x41aa21,_0x2812c0,scratchCartesian);_0x2812c0+=a1227_0x52a931[_0x337f1f(0x10d)];var _0x206df1=a1227_0x50f5e3[_0x337f1f(0x10c)](_0x41aa21,_0x2812c0,scratchModelMatrixAndBV['modelMatrix']);a1227_0x50f5e3[_0x337f1f(0x130)](_0x206df1,_0x2e88da,_0x206df1);var _0x2593bf=scratchModelMatrixAndBV[_0x337f1f(0x124)];return a1227_0x52a931['clone'](a1227_0x52a931[_0x337f1f(0xfd)],_0x2593bf[_0x337f1f(0x110)]),_0x2593bf['radius']=Math['sqrt'](0x3),scratchModelMatrixAndBV;}function cylinderModelMatrixAndBoundingVolume(_0x38c72e,_0x5062cb){var _0x26cfc5=a1227_0x376f87,_0x56ad6d=_0x5062cb*packedCylinderLength,_0x108916=_0x38c72e[_0x56ad6d++],_0x3b3fa1=_0x38c72e[_0x56ad6d++],_0x48e228=a1227_0x52a931['fromElements'](_0x108916,_0x108916,_0x3b3fa1,scratchCartesian),_0x4fcb8d=a1227_0x50f5e3[_0x26cfc5(0x10c)](_0x38c72e,_0x56ad6d,scratchModelMatrixAndBV['modelMatrix']);a1227_0x50f5e3[_0x26cfc5(0x130)](_0x4fcb8d,_0x48e228,_0x4fcb8d);var _0x4bca0a=scratchModelMatrixAndBV[_0x26cfc5(0x124)];return a1227_0x52a931[_0x26cfc5(0x11f)](a1227_0x52a931[_0x26cfc5(0xfd)],_0x4bca0a[_0x26cfc5(0x110)]),_0x4bca0a[_0x26cfc5(0x101)]=Math['sqrt'](0x2),scratchModelMatrixAndBV;}function ellipsoidModelMatrixAndBoundingVolume(_0x3912cc,_0x4d4072){var _0x19ffc4=a1227_0x376f87,_0x3b6716=_0x4d4072*packedEllipsoidLength,_0x2a314a=a1227_0x52a931['unpack'](_0x3912cc,_0x3b6716,scratchCartesian);_0x3b6716+=a1227_0x52a931[_0x19ffc4(0x10d)];var _0xf3fb80=a1227_0x50f5e3[_0x19ffc4(0x10c)](_0x3912cc,_0x3b6716,scratchModelMatrixAndBV[_0x19ffc4(0x11d)]);a1227_0x50f5e3[_0x19ffc4(0x130)](_0xf3fb80,_0x2a314a,_0xf3fb80);var _0x12af32=scratchModelMatrixAndBV[_0x19ffc4(0x124)];return a1227_0x52a931['clone'](a1227_0x52a931['ZERO'],_0x12af32[_0x19ffc4(0x110)]),_0x12af32[_0x19ffc4(0x101)]=0x1,scratchModelMatrixAndBV;}function sphereModelMatrixAndBoundingVolume(_0x1825bf,_0x149e6b){var _0x94a6b1=a1227_0x376f87,_0x46eee0=_0x149e6b*packedSphereLength,_0x197d6d=_0x1825bf[_0x46eee0++],_0x5b5608=a1227_0x52a931[_0x94a6b1(0x10c)](_0x1825bf,_0x46eee0,scratchCartesian),_0x2462bc=a1227_0x50f5e3[_0x94a6b1(0x10b)](_0x5b5608,scratchModelMatrixAndBV[_0x94a6b1(0x11d)]);a1227_0x50f5e3[_0x94a6b1(0x11c)](_0x2462bc,_0x197d6d,_0x2462bc);var _0x17f5dc=scratchModelMatrixAndBV['boundingVolume'];return a1227_0x52a931[_0x94a6b1(0x11f)](a1227_0x52a931[_0x94a6b1(0xfd)],_0x17f5dc[_0x94a6b1(0x110)]),_0x17f5dc[_0x94a6b1(0x101)]=0x1,scratchModelMatrixAndBV;}var scratchPosition=new a1227_0x52a931();function createPrimitive(_0xcb0d5b,_0x2da2e6,_0x589864,_0x1db34b,_0x59a07a){var _0x147846=a1227_0x376f87;if(!a1227_0x219b97(_0x2da2e6))return;var _0x1635d0=_0x589864['length'],_0x4ff701=_0x1db34b['attributes'][_0x147846(0x107)][_0x147846(0x11a)],_0x551427=_0x1db34b['indices'],_0x1d9ef7=_0xcb0d5b[_0x147846(0x128)],_0x2934bd=_0xcb0d5b[_0x147846(0x113)],_0x4d21df=_0xcb0d5b[_0x147846(0x12a)],_0x2bda8e=_0xcb0d5b['batchIds'],_0x572afb=_0xcb0d5b[_0x147846(0x119)],_0x5853e0=_0xcb0d5b[_0x147846(0x108)],_0x5f25e8=_0xcb0d5b['indexOffsets'],_0x55d658=_0xcb0d5b['indexCounts'],_0x135c25=_0xcb0d5b[_0x147846(0x109)],_0x12c339=_0xcb0d5b[_0x147846(0x11d)],_0x6843f6=_0xcb0d5b[_0x147846(0x110)],_0x18471e=_0xcb0d5b[_0x147846(0x121)],_0xd0574a=_0xcb0d5b[_0x147846(0x103)],_0x4695a8=_0xcb0d5b['indexOffset'],_0x2d8c0d=_0xcb0d5b[_0x147846(0x12e)];for(var _0x401e6d=0x0;_0x401e6d<_0x1635d0;++_0x401e6d){var _0x3f2ce0=_0x59a07a(_0x2da2e6,_0x401e6d),_0x6766c9=_0x3f2ce0['modelMatrix'];a1227_0x50f5e3[_0x147846(0x102)](_0x12c339,_0x6766c9,_0x6766c9);var _0x28d68e=_0x589864[_0x401e6d],_0x131a4f=_0x4ff701[_0x147846(0x115)];for(var _0x52c2f0=0x0;_0x52c2f0<_0x131a4f;_0x52c2f0+=0x3){var _0xc07e5f=a1227_0x52a931[_0x147846(0x10c)](_0x4ff701,_0x52c2f0,scratchPosition);a1227_0x50f5e3['multiplyByPoint'](_0x6766c9,_0xc07e5f,_0xc07e5f),a1227_0x52a931['subtract'](_0xc07e5f,_0x6843f6,_0xc07e5f),a1227_0x52a931['pack'](_0xc07e5f,_0x1d9ef7,_0x18471e*0x3+_0x52c2f0),_0x2934bd[_0xd0574a++]=_0x28d68e;}var _0x31228b=_0x551427[_0x147846(0x115)];for(var _0x16d0d3=0x0;_0x16d0d3<_0x31228b;++_0x16d0d3){_0x4d21df[_0x4695a8+_0x16d0d3]=_0x551427[_0x16d0d3]+_0x18471e;}var _0x181bce=_0x401e6d+_0x2d8c0d;_0x5853e0[_0x181bce]=new a1227_0xdda280({'offset':_0x4695a8,'count':_0x31228b,'color':a1227_0x3c08d8['fromRgba'](_0x572afb[_0x28d68e]),'batchIds':[_0x28d68e]}),_0x2bda8e[_0x181bce]=_0x28d68e,_0x5f25e8[_0x181bce]=_0x4695a8,_0x55d658[_0x181bce]=_0x31228b,_0x135c25[_0x181bce]=a1227_0x5ddd4f[_0x147846(0x10a)](_0x3f2ce0[_0x147846(0x124)],_0x6766c9),_0x18471e+=_0x131a4f/0x3,_0x4695a8+=_0x31228b;}_0xcb0d5b['positionOffset']=_0x18471e,_0xcb0d5b[_0x147846(0x103)]=_0xd0574a,_0xcb0d5b[_0x147846(0x11b)]=_0x4695a8,_0xcb0d5b[_0x147846(0x12e)]+=_0x1635d0;}var scratchCenter=new a1227_0x52a931(),scratchMatrix4=new a1227_0x50f5e3();function unpackBuffer(_0x27d97a){var _0x295098=a1227_0x376f87,_0x7ef85e=new Float64Array(_0x27d97a),_0x4e4974=0x0;a1227_0x52a931[_0x295098(0x10c)](_0x7ef85e,_0x4e4974,scratchCenter),_0x4e4974+=a1227_0x52a931[_0x295098(0x10d)],a1227_0x50f5e3[_0x295098(0x10c)](_0x7ef85e,_0x4e4974,scratchMatrix4);}function packedBatchedIndicesLength(_0x3c1eba){var _0x456a35=a1227_0x376f87,_0x3f0d51=_0x3c1eba[_0x456a35(0x115)],_0x46dbeb=0x0;for(var _0x177dbe=0x0;_0x177dbe<_0x3f0d51;++_0x177dbe){_0x46dbeb+=a1227_0x3c08d8[_0x456a35(0x10d)]+0x3+_0x3c1eba[_0x177dbe][_0x456a35(0x112)]['length'];}return _0x46dbeb;}function packBuffer(_0x2a0969,_0x57f55a,_0x305e7d){var _0x3b9746=a1227_0x376f87,_0x1b7103=_0x305e7d['length'],_0x30954a=0x1+0x1+_0x1b7103*a1227_0x5ddd4f[_0x3b9746(0x10d)]+0x1+packedBatchedIndicesLength(_0x57f55a),_0x5b401e=new Float64Array(_0x30954a),_0x39a2ca=0x0;_0x5b401e[_0x39a2ca++]=_0x2a0969,_0x5b401e[_0x39a2ca++]=_0x1b7103;for(var _0x3c6a9e=0x0;_0x3c6a9e<_0x1b7103;++_0x3c6a9e){a1227_0x5ddd4f[_0x3b9746(0x11e)](_0x305e7d[_0x3c6a9e],_0x5b401e,_0x39a2ca),_0x39a2ca+=a1227_0x5ddd4f[_0x3b9746(0x10d)];}var _0x26c39a=_0x57f55a['length'];_0x5b401e[_0x39a2ca++]=_0x26c39a;for(var _0x4c6478=0x0;_0x4c6478<_0x26c39a;++_0x4c6478){var _0xde237b=_0x57f55a[_0x4c6478];a1227_0x3c08d8['pack'](_0xde237b['color'],_0x5b401e,_0x39a2ca),_0x39a2ca+=a1227_0x3c08d8[_0x3b9746(0x10d)],_0x5b401e[_0x39a2ca++]=_0xde237b[_0x3b9746(0xfe)],_0x5b401e[_0x39a2ca++]=_0xde237b[_0x3b9746(0x10e)];var _0x380bf2=_0xde237b['batchIds'],_0x511bab=_0x380bf2['length'];_0x5b401e[_0x39a2ca++]=_0x511bab;for(var _0x4ff510=0x0;_0x4ff510<_0x511bab;++_0x4ff510){_0x5b401e[_0x39a2ca++]=_0x380bf2[_0x4ff510];}}return _0x5b401e;}function a1227_0x4907(){var _0x527da0=['radius','multiply','batchIdIndex','1246011kfpNws','getUnitBox','createTypedArray','position','batchedIndices','boundingVolumes','transform','fromTranslation','unpack','packedLength','count','boxes','center','getUnitCylinder','batchIds','vertexBatchIds','cylinders','length','buffer','4037415kPIxjq','sphereBatchIds','batchTableColors','values','indexOffset','multiplyByUniformScale','modelMatrix','pack','clone','push','positionOffset','919384Oiwxvz','4820632hDyslg','boundingVolume','16187976jyJbvH','7251996cuPemd','boxBatchIds','positions','packedBuffer','indices','getUnitEllipsoid','cylinderBatchIds','2521940CFxyTM','batchedIndicesOffset','ellipsoidBatchIds','multiplyByScale','spheres','ZERO','offset','attributes','ellipsoids'];a1227_0x4907=function(){return _0x527da0;};return a1227_0x4907();}function createVectorTileGeometries(_0x446841,_0x4a8f6b){var _0x23bcf6=a1227_0x376f87,_0x54791e=a1227_0x219b97(_0x446841[_0x23bcf6(0x10f)])?new Float32Array(_0x446841[_0x23bcf6(0x10f)]):undefined,_0x2d2382=a1227_0x219b97(_0x446841['boxBatchIds'])?new Uint16Array(_0x446841[_0x23bcf6(0x127)]):undefined,_0x155a42=a1227_0x219b97(_0x446841[_0x23bcf6(0x114)])?new Float32Array(_0x446841[_0x23bcf6(0x114)]):undefined,_0x326b62=a1227_0x219b97(_0x446841[_0x23bcf6(0x12c)])?new Uint16Array(_0x446841[_0x23bcf6(0x12c)]):undefined,_0x499b96=a1227_0x219b97(_0x446841['ellipsoids'])?new Float32Array(_0x446841[_0x23bcf6(0x100)]):undefined,_0x34380b=a1227_0x219b97(_0x446841[_0x23bcf6(0x12f)])?new Uint16Array(_0x446841[_0x23bcf6(0x12f)]):undefined,_0x180058=a1227_0x219b97(_0x446841[_0x23bcf6(0xfc)])?new Float32Array(_0x446841[_0x23bcf6(0xfc)]):undefined,_0x408235=a1227_0x219b97(_0x446841[_0x23bcf6(0x118)])?new Uint16Array(_0x446841['sphereBatchIds']):undefined,_0x48c0df=a1227_0x219b97(_0x54791e)?_0x2d2382[_0x23bcf6(0x115)]:0x0,_0x40265e=a1227_0x219b97(_0x155a42)?_0x326b62['length']:0x0,_0x3d13be=a1227_0x219b97(_0x499b96)?_0x34380b['length']:0x0,_0x1b636a=a1227_0x219b97(_0x180058)?_0x408235[_0x23bcf6(0x115)]:0x0,_0x4c6dbd=a1227_0x111313[_0x23bcf6(0x105)](),_0x42ceaa=a1227_0x3e9c55[_0x23bcf6(0x111)](),_0x5be2b8=a1227_0x38093d[_0x23bcf6(0x12b)](),_0x50bd8b=_0x4c6dbd[_0x23bcf6(0xff)][_0x23bcf6(0x107)][_0x23bcf6(0x11a)],_0x509a92=_0x42ceaa[_0x23bcf6(0xff)][_0x23bcf6(0x107)][_0x23bcf6(0x11a)],_0x5c3fa7=_0x5be2b8[_0x23bcf6(0xff)]['position']['values'],_0x11d189=_0x50bd8b[_0x23bcf6(0x115)]*_0x48c0df;_0x11d189+=_0x509a92['length']*_0x40265e,_0x11d189+=_0x5c3fa7['length']*(_0x3d13be+_0x1b636a);var _0x32d0ea=_0x4c6dbd[_0x23bcf6(0x12a)],_0x590c1d=_0x42ceaa[_0x23bcf6(0x12a)],_0x173e22=_0x5be2b8[_0x23bcf6(0x12a)],_0x1de53e=_0x32d0ea['length']*_0x48c0df;_0x1de53e+=_0x590c1d[_0x23bcf6(0x115)]*_0x40265e,_0x1de53e+=_0x173e22[_0x23bcf6(0x115)]*(_0x3d13be+_0x1b636a);var _0x127c8e=new Float32Array(_0x11d189),_0x59af1b=new Uint16Array(_0x11d189/0x3),_0x190e4e=a1227_0x2b7c6c[_0x23bcf6(0x106)](_0x11d189/0x3,_0x1de53e),_0x263a78=_0x48c0df+_0x40265e+_0x3d13be+_0x1b636a,_0x159c89=new Uint16Array(_0x263a78),_0x449414=new Array(_0x263a78),_0x2b68b0=new Uint32Array(_0x263a78),_0x1e610d=new Uint32Array(_0x263a78),_0x58b60b=new Array(_0x263a78);unpackBuffer(_0x446841[_0x23bcf6(0x129)]);var _0x14197c={'batchTableColors':new Uint32Array(_0x446841[_0x23bcf6(0x119)]),'positions':_0x127c8e,'vertexBatchIds':_0x59af1b,'indices':_0x190e4e,'batchIds':_0x159c89,'batchedIndices':_0x449414,'indexOffsets':_0x2b68b0,'indexCounts':_0x1e610d,'boundingVolumes':_0x58b60b,'positionOffset':0x0,'batchIdIndex':0x0,'indexOffset':0x0,'batchedIndicesOffset':0x0,'modelMatrix':scratchMatrix4,'center':scratchCenter};createPrimitive(_0x14197c,_0x54791e,_0x2d2382,_0x4c6dbd,boxModelMatrixAndBoundingVolume),createPrimitive(_0x14197c,_0x155a42,_0x326b62,_0x42ceaa,cylinderModelMatrixAndBoundingVolume),createPrimitive(_0x14197c,_0x499b96,_0x34380b,_0x5be2b8,ellipsoidModelMatrixAndBoundingVolume),createPrimitive(_0x14197c,_0x180058,_0x408235,_0x5be2b8,sphereModelMatrixAndBoundingVolume);var _0x1fb503=packBuffer(_0x190e4e['BYTES_PER_ELEMENT'],_0x449414,_0x58b60b);return _0x4a8f6b[_0x23bcf6(0x120)](_0x127c8e['buffer'],_0x59af1b[_0x23bcf6(0x116)],_0x190e4e[_0x23bcf6(0x116)]),_0x4a8f6b[_0x23bcf6(0x120)](_0x159c89['buffer'],_0x2b68b0[_0x23bcf6(0x116)],_0x1e610d[_0x23bcf6(0x116)]),_0x4a8f6b['push'](_0x1fb503[_0x23bcf6(0x116)]),{'positions':_0x127c8e[_0x23bcf6(0x116)],'vertexBatchIds':_0x59af1b[_0x23bcf6(0x116)],'indices':_0x190e4e['buffer'],'indexOffsets':_0x2b68b0[_0x23bcf6(0x116)],'indexCounts':_0x1e610d[_0x23bcf6(0x116)],'batchIds':_0x159c89[_0x23bcf6(0x116)],'packedBuffer':_0x1fb503[_0x23bcf6(0x116)]};}export default a1227_0x301f62(createVectorTileGeometries);