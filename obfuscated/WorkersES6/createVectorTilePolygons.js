(function(_0x4517e3,_0x45436a){var _0xd0cadb=a1229_0x912e,_0x464633=_0x4517e3();while(!![]){try{var _0x1abb12=-parseInt(_0xd0cadb(0x166))/0x1+-parseInt(_0xd0cadb(0x16c))/0x2+-parseInt(_0xd0cadb(0x17a))/0x3+-parseInt(_0xd0cadb(0x15b))/0x4+parseInt(_0xd0cadb(0x15a))/0x5*(-parseInt(_0xd0cadb(0x16e))/0x6)+-parseInt(_0xd0cadb(0x177))/0x7+-parseInt(_0xd0cadb(0x14d))/0x8*(-parseInt(_0xd0cadb(0x152))/0x9);if(_0x1abb12===_0x45436a)break;else _0x464633['push'](_0x464633['shift']());}catch(_0x5a8146){_0x464633['push'](_0x464633['shift']());}}}(a1229_0x283e,0x59b5a));import a1229_0xd1ed72 from'../Core/AttributeCompression.js';import a1229_0x3eef09 from'../Core/Cartesian3.js';import a1229_0x4adf98 from'../Core/Cartographic.js';import a1229_0x508a08 from'../Core/Color.js';import a1229_0x189a46 from'../Core/defined.js';import a1229_0x1d54f5 from'../Core/Ellipsoid.js';import a1229_0x35a1e5 from'../Core/IndexDatatype.js';import a1229_0x76e509 from'../Core/Math.js';import a1229_0x27b1c5 from'../Core/OrientedBoundingBox.js';import a1229_0x177871 from'../Core/Rectangle.js';import a1229_0x5b162e from'./createTaskProcessorWorker.js';var scratchCenter=new a1229_0x3eef09(),scratchEllipsoid=new a1229_0x1d54f5(),scratchRectangle=new a1229_0x177871(),scratchScalars={'min':undefined,'max':undefined,'indexBytesPerElement':undefined};function a1229_0x912e(_0x1f8baa,_0x4d34ec){var _0x283e03=a1229_0x283e();return a1229_0x912e=function(_0x912eb9,_0x5e1274){_0x912eb9=_0x912eb9-0x147;var _0x1f6c71=_0x283e03[_0x912eb9];return _0x1f6c71;},a1229_0x912e(_0x1f8baa,_0x4d34ec);}function unpackBuffer(_0x39b215){var _0x18e675=a1229_0x912e,_0x28c96d=new Float64Array(_0x39b215),_0x86a7f=0x0;scratchScalars[_0x18e675(0x16b)]=_0x28c96d[_0x86a7f++],scratchScalars['min']=_0x28c96d[_0x86a7f++],scratchScalars['max']=_0x28c96d[_0x86a7f++],a1229_0x3eef09[_0x18e675(0x159)](_0x28c96d,_0x86a7f,scratchCenter),_0x86a7f+=a1229_0x3eef09['packedLength'],a1229_0x1d54f5[_0x18e675(0x159)](_0x28c96d,_0x86a7f,scratchEllipsoid),_0x86a7f+=a1229_0x1d54f5[_0x18e675(0x15f)],a1229_0x177871[_0x18e675(0x159)](_0x28c96d,_0x86a7f,scratchRectangle);}function a1229_0x283e(){var _0x48fc6c=['length','unpack','130NiRHvt','1155888jcfnvI','push','subtract','pack','packedLength','fromRadians','positionLength','fromRgba','min','indexLength','north','99803KDVlaU','hasOwnProperty','indexCounts','multiplyByScalar','geodeticSurfaceNormal','indexBytesPerElement','615190UDtzKO','lerp','156414KEUfDp','BYTES_PER_ELEMENT','maximumHeights','counts','count','subarray','fromRectangle','south','east','3339784upIYft','latitude','indexOffset','203499IPHUPV','cartesianToCartographic','batchIds','indices','add','createTypedArray','scaleToGeodeticSurface','1662952ZxwSfx','POSITIVE_INFINITY','offset','UNSIGNED_INT','buffer','99ReBsTe','color','west','max','positions','NEGATIVE_INFINITY'];a1229_0x283e=function(){return _0x48fc6c;};return a1229_0x283e();}function packedBatchedIndicesLength(_0x4e42d8){var _0x817d6e=a1229_0x912e,_0x557c5b=_0x4e42d8[_0x817d6e(0x158)],_0xe2c50a=0x0;for(var _0x460a18=0x0;_0x460a18<_0x557c5b;++_0x460a18){_0xe2c50a+=a1229_0x508a08[_0x817d6e(0x15f)]+0x3+_0x4e42d8[_0x460a18][_0x817d6e(0x148)][_0x817d6e(0x158)];}return _0xe2c50a;}function packBuffer(_0x4643cd,_0x13fcd8,_0x2a02d7){var _0x160b8d=a1229_0x912e,_0x502dbd=_0x13fcd8[_0x160b8d(0x158)],_0x31fe83=0x1+0x1+_0x502dbd*a1229_0x27b1c5['packedLength']+0x1+packedBatchedIndicesLength(_0x2a02d7),_0x34bebd=new Float64Array(_0x31fe83),_0x27e8f5=0x0;_0x34bebd[_0x27e8f5++]=_0x4643cd,_0x34bebd[_0x27e8f5++]=_0x502dbd;for(var _0x172c77=0x0;_0x172c77<_0x502dbd;++_0x172c77){a1229_0x27b1c5[_0x160b8d(0x15e)](_0x13fcd8[_0x172c77],_0x34bebd,_0x27e8f5),_0x27e8f5+=a1229_0x27b1c5[_0x160b8d(0x15f)];}var _0x31d675=_0x2a02d7['length'];_0x34bebd[_0x27e8f5++]=_0x31d675;for(var _0x4bf727=0x0;_0x4bf727<_0x31d675;++_0x4bf727){var _0x203208=_0x2a02d7[_0x4bf727];a1229_0x508a08[_0x160b8d(0x15e)](_0x203208[_0x160b8d(0x153)],_0x34bebd,_0x27e8f5),_0x27e8f5+=a1229_0x508a08[_0x160b8d(0x15f)],_0x34bebd[_0x27e8f5++]=_0x203208[_0x160b8d(0x14f)],_0x34bebd[_0x27e8f5++]=_0x203208['count'];var _0x40513a=_0x203208['batchIds'],_0x4c6278=_0x40513a[_0x160b8d(0x158)];_0x34bebd[_0x27e8f5++]=_0x4c6278;for(var _0x39f324=0x0;_0x39f324<_0x4c6278;++_0x39f324){_0x34bebd[_0x27e8f5++]=_0x40513a[_0x39f324];}}return _0x34bebd;}var maxShort=0x7fff,scratchEncodedPosition=new a1229_0x3eef09(),scratchNormal=new a1229_0x3eef09(),scratchScaledNormal=new a1229_0x3eef09(),scratchMinHeightPosition=new a1229_0x3eef09(),scratchMaxHeightPosition=new a1229_0x3eef09(),scratchBVCartographic=new a1229_0x4adf98(),scratchBVRectangle=new a1229_0x177871();function createVectorTilePolygons(_0x4787f7,_0x4731f1){var _0x25b8fd=a1229_0x912e;unpackBuffer(_0x4787f7['packedBuffer']);var _0x306125,_0x41f751=scratchScalars[_0x25b8fd(0x16b)];_0x41f751===0x2?_0x306125=new Uint16Array(_0x4787f7[_0x25b8fd(0x149)]):_0x306125=new Uint32Array(_0x4787f7[_0x25b8fd(0x149)]);var _0x587d0d=new Uint16Array(_0x4787f7[_0x25b8fd(0x156)]),_0x23702a=new Uint32Array(_0x4787f7[_0x25b8fd(0x171)]),_0x2c531c=new Uint32Array(_0x4787f7[_0x25b8fd(0x168)]),_0x457100=new Uint32Array(_0x4787f7[_0x25b8fd(0x148)]),_0x18919b=new Uint32Array(_0x4787f7['batchTableColors']),_0x4b4638=new Array(_0x23702a['length']),_0x372d94=scratchCenter,_0x3106aa=scratchEllipsoid,_0x3d1953=scratchRectangle,_0x4c255c=scratchScalars[_0x25b8fd(0x163)],_0x3e82d7=scratchScalars[_0x25b8fd(0x155)],_0x1f8a67=_0x4787f7['minimumHeights'],_0x407fb7=_0x4787f7[_0x25b8fd(0x170)];a1229_0x189a46(_0x1f8a67)&&a1229_0x189a46(_0x407fb7)&&(_0x1f8a67=new Float32Array(_0x1f8a67),_0x407fb7=new Float32Array(_0x407fb7));var _0x2b4188,_0x25a34e,_0x200e5f,_0x3f9c27=_0x587d0d['length']/0x2,_0x1a5bbf=_0x587d0d['subarray'](0x0,_0x3f9c27),_0x2eafbb=_0x587d0d[_0x25b8fd(0x173)](_0x3f9c27,0x2*_0x3f9c27);a1229_0xd1ed72['zigZagDeltaDecode'](_0x1a5bbf,_0x2eafbb);var _0x443368=new Float64Array(_0x3f9c27*0x3);for(_0x2b4188=0x0;_0x2b4188<_0x3f9c27;++_0x2b4188){var _0x1d001b=_0x1a5bbf[_0x2b4188],_0x3f067d=_0x2eafbb[_0x2b4188],_0x403705=a1229_0x76e509[_0x25b8fd(0x16d)](_0x3d1953['west'],_0x3d1953[_0x25b8fd(0x176)],_0x1d001b/maxShort),_0x2a093b=a1229_0x76e509[_0x25b8fd(0x16d)](_0x3d1953[_0x25b8fd(0x175)],_0x3d1953[_0x25b8fd(0x165)],_0x3f067d/maxShort),_0x1ba81d=a1229_0x4adf98[_0x25b8fd(0x160)](_0x403705,_0x2a093b,0x0,scratchBVCartographic),_0x11e787=_0x3106aa['cartographicToCartesian'](_0x1ba81d,scratchEncodedPosition);a1229_0x3eef09['pack'](_0x11e787,_0x443368,_0x2b4188*0x3);}var _0x1308ec=_0x23702a['length'],_0x37ae7d=new Array(_0x1308ec),_0x514aa1=new Array(_0x1308ec),_0x3993e1=0x0,_0x4a334a=0x0;for(_0x2b4188=0x0;_0x2b4188<_0x1308ec;++_0x2b4188){_0x37ae7d[_0x2b4188]=_0x3993e1,_0x514aa1[_0x2b4188]=_0x4a334a,_0x3993e1+=_0x23702a[_0x2b4188],_0x4a334a+=_0x2c531c[_0x2b4188];}var _0x28c1b7=new Float32Array(_0x3f9c27*0x3*0x2),_0x2c9e83=new Uint16Array(_0x3f9c27*0x2),_0x22eee3=new Uint32Array(_0x514aa1['length']),_0x1ad674=new Uint32Array(_0x2c531c['length']),_0x4f52e1=[],_0xa1a24a={};for(_0x2b4188=0x0;_0x2b4188<_0x1308ec;++_0x2b4188){_0x200e5f=_0x18919b[_0x2b4188],!a1229_0x189a46(_0xa1a24a[_0x200e5f])?_0xa1a24a[_0x200e5f]={'positionLength':_0x23702a[_0x2b4188],'indexLength':_0x2c531c[_0x2b4188],'offset':0x0,'indexOffset':0x0,'batchIds':[_0x2b4188]}:(_0xa1a24a[_0x200e5f]['positionLength']+=_0x23702a[_0x2b4188],_0xa1a24a[_0x200e5f]['indexLength']+=_0x2c531c[_0x2b4188],_0xa1a24a[_0x200e5f][_0x25b8fd(0x148)][_0x25b8fd(0x15c)](_0x2b4188));}var _0xf28dfc,_0x28ca4b=0x0,_0x104102=0x0;for(_0x200e5f in _0xa1a24a){if(_0xa1a24a[_0x25b8fd(0x167)](_0x200e5f)){_0xf28dfc=_0xa1a24a[_0x200e5f],_0xf28dfc[_0x25b8fd(0x14f)]=_0x28ca4b,_0xf28dfc[_0x25b8fd(0x179)]=_0x104102;var _0xe4be0a=_0xf28dfc[_0x25b8fd(0x161)]*0x2,_0xebf60f=_0xf28dfc[_0x25b8fd(0x164)]*0x2+_0xf28dfc[_0x25b8fd(0x161)]*0x6;_0x28ca4b+=_0xe4be0a,_0x104102+=_0xebf60f,_0xf28dfc['indexLength']=_0xebf60f;}}var _0x2f9d7d=[];for(_0x200e5f in _0xa1a24a){_0xa1a24a['hasOwnProperty'](_0x200e5f)&&(_0xf28dfc=_0xa1a24a[_0x200e5f],_0x2f9d7d[_0x25b8fd(0x15c)]({'color':a1229_0x508a08[_0x25b8fd(0x162)](parseInt(_0x200e5f)),'offset':_0xf28dfc['indexOffset'],'count':_0xf28dfc[_0x25b8fd(0x164)],'batchIds':_0xf28dfc['batchIds']}));}for(_0x2b4188=0x0;_0x2b4188<_0x1308ec;++_0x2b4188){_0x200e5f=_0x18919b[_0x2b4188],_0xf28dfc=_0xa1a24a[_0x200e5f];var _0x58e84f=_0xf28dfc['offset'],_0x3bfd2d=_0x58e84f*0x3,_0x387b23=_0x58e84f,_0x1663c4=_0x37ae7d[_0x2b4188],_0x3c0156=_0x23702a[_0x2b4188],_0x166bd6=_0x457100[_0x2b4188],_0x2ff50f=_0x4c255c,_0x3dea3f=_0x3e82d7;a1229_0x189a46(_0x1f8a67)&&a1229_0x189a46(_0x407fb7)&&(_0x2ff50f=_0x1f8a67[_0x2b4188],_0x3dea3f=_0x407fb7[_0x2b4188]);var _0x4002ba=Number[_0x25b8fd(0x14e)],_0x2cb5ad=Number[_0x25b8fd(0x157)],_0xdecc0b=Number[_0x25b8fd(0x14e)],_0x1bc10b=Number[_0x25b8fd(0x157)];for(_0x25a34e=0x0;_0x25a34e<_0x3c0156;++_0x25a34e){var _0x3c67eb=a1229_0x3eef09['unpack'](_0x443368,_0x1663c4*0x3+_0x25a34e*0x3,scratchEncodedPosition);_0x3106aa[_0x25b8fd(0x14c)](_0x3c67eb,_0x3c67eb);var _0x4a3601=_0x3106aa[_0x25b8fd(0x147)](_0x3c67eb,scratchBVCartographic),_0x17d2e3=_0x4a3601[_0x25b8fd(0x178)],_0xc3d788=_0x4a3601['longitude'];_0x4002ba=Math[_0x25b8fd(0x163)](_0x17d2e3,_0x4002ba),_0x2cb5ad=Math[_0x25b8fd(0x155)](_0x17d2e3,_0x2cb5ad),_0xdecc0b=Math['min'](_0xc3d788,_0xdecc0b),_0x1bc10b=Math[_0x25b8fd(0x155)](_0xc3d788,_0x1bc10b);var _0x2123b0=_0x3106aa[_0x25b8fd(0x16a)](_0x3c67eb,scratchNormal),_0x10e749=a1229_0x3eef09[_0x25b8fd(0x169)](_0x2123b0,_0x2ff50f,scratchScaledNormal),_0x30d4d1=a1229_0x3eef09[_0x25b8fd(0x14a)](_0x3c67eb,_0x10e749,scratchMinHeightPosition);_0x10e749=a1229_0x3eef09['multiplyByScalar'](_0x2123b0,_0x3dea3f,_0x10e749);var _0x3789e7=a1229_0x3eef09[_0x25b8fd(0x14a)](_0x3c67eb,_0x10e749,scratchMaxHeightPosition);a1229_0x3eef09[_0x25b8fd(0x15d)](_0x3789e7,_0x372d94,_0x3789e7),a1229_0x3eef09[_0x25b8fd(0x15d)](_0x30d4d1,_0x372d94,_0x30d4d1),a1229_0x3eef09[_0x25b8fd(0x15e)](_0x3789e7,_0x28c1b7,_0x3bfd2d),a1229_0x3eef09[_0x25b8fd(0x15e)](_0x30d4d1,_0x28c1b7,_0x3bfd2d+0x3),_0x2c9e83[_0x387b23]=_0x166bd6,_0x2c9e83[_0x387b23+0x1]=_0x166bd6,_0x3bfd2d+=0x6,_0x387b23+=0x2;}_0x3d1953=scratchBVRectangle,_0x3d1953[_0x25b8fd(0x154)]=_0xdecc0b,_0x3d1953['east']=_0x1bc10b,_0x3d1953[_0x25b8fd(0x175)]=_0x4002ba,_0x3d1953[_0x25b8fd(0x165)]=_0x2cb5ad,_0x4b4638[_0x2b4188]=a1229_0x27b1c5[_0x25b8fd(0x174)](_0x3d1953,_0x4c255c,_0x3e82d7,_0x3106aa);var _0x57517f=_0xf28dfc['indexOffset'],_0x302fba=_0x514aa1[_0x2b4188],_0xd150dc=_0x2c531c[_0x2b4188];_0x22eee3[_0x2b4188]=_0x57517f;for(_0x25a34e=0x0;_0x25a34e<_0xd150dc;_0x25a34e+=0x3){var _0x3059c1=_0x306125[_0x302fba+_0x25a34e]-_0x1663c4,_0x466f9c=_0x306125[_0x302fba+_0x25a34e+0x1]-_0x1663c4,_0x40990b=_0x306125[_0x302fba+_0x25a34e+0x2]-_0x1663c4;_0x4f52e1[_0x57517f++]=_0x3059c1*0x2+_0x58e84f,_0x4f52e1[_0x57517f++]=_0x466f9c*0x2+_0x58e84f,_0x4f52e1[_0x57517f++]=_0x40990b*0x2+_0x58e84f,_0x4f52e1[_0x57517f++]=_0x40990b*0x2+0x1+_0x58e84f,_0x4f52e1[_0x57517f++]=_0x466f9c*0x2+0x1+_0x58e84f,_0x4f52e1[_0x57517f++]=_0x3059c1*0x2+0x1+_0x58e84f;}for(_0x25a34e=0x0;_0x25a34e<_0x3c0156;++_0x25a34e){var _0x58e5d0=_0x25a34e,_0x40264a=(_0x25a34e+0x1)%_0x3c0156;_0x4f52e1[_0x57517f++]=_0x58e5d0*0x2+0x1+_0x58e84f,_0x4f52e1[_0x57517f++]=_0x40264a*0x2+_0x58e84f,_0x4f52e1[_0x57517f++]=_0x58e5d0*0x2+_0x58e84f,_0x4f52e1[_0x57517f++]=_0x58e5d0*0x2+0x1+_0x58e84f,_0x4f52e1[_0x57517f++]=_0x40264a*0x2+0x1+_0x58e84f,_0x4f52e1[_0x57517f++]=_0x40264a*0x2+_0x58e84f;}_0xf28dfc[_0x25b8fd(0x14f)]+=_0x3c0156*0x2,_0xf28dfc[_0x25b8fd(0x179)]=_0x57517f,_0x1ad674[_0x2b4188]=_0x57517f-_0x22eee3[_0x2b4188];}_0x4f52e1=a1229_0x35a1e5[_0x25b8fd(0x14b)](_0x28c1b7[_0x25b8fd(0x158)]/0x3,_0x4f52e1);var _0x406cae=_0x2f9d7d[_0x25b8fd(0x158)];for(var _0x1e4a6a=0x0;_0x1e4a6a<_0x406cae;++_0x1e4a6a){var _0x501db3=_0x2f9d7d[_0x1e4a6a][_0x25b8fd(0x148)],_0x23c0a8=0x0,_0x36ca08=_0x501db3[_0x25b8fd(0x158)];for(var _0x13f78e=0x0;_0x13f78e<_0x36ca08;++_0x13f78e){_0x23c0a8+=_0x1ad674[_0x501db3[_0x13f78e]];}_0x2f9d7d[_0x1e4a6a][_0x25b8fd(0x172)]=_0x23c0a8;}var _0x1822b5=_0x4f52e1[_0x25b8fd(0x16f)]===0x2?a1229_0x35a1e5['UNSIGNED_SHORT']:a1229_0x35a1e5[_0x25b8fd(0x150)],_0x355bee=packBuffer(_0x1822b5,_0x4b4638,_0x2f9d7d);return _0x4731f1[_0x25b8fd(0x15c)](_0x28c1b7[_0x25b8fd(0x151)],_0x4f52e1[_0x25b8fd(0x151)],_0x22eee3[_0x25b8fd(0x151)],_0x1ad674['buffer'],_0x2c9e83[_0x25b8fd(0x151)],_0x355bee[_0x25b8fd(0x151)]),{'positions':_0x28c1b7[_0x25b8fd(0x151)],'indices':_0x4f52e1[_0x25b8fd(0x151)],'indexOffsets':_0x22eee3[_0x25b8fd(0x151)],'indexCounts':_0x1ad674[_0x25b8fd(0x151)],'batchIds':_0x2c9e83['buffer'],'packedBuffer':_0x355bee[_0x25b8fd(0x151)]};}export default a1229_0x5b162e(createVectorTilePolygons);