var a1237_0x1df8e9=a1237_0x7dbf;function a1237_0x7dbf(_0x44de18,_0x16bd9b){var _0x199931=a1237_0x1999();return a1237_0x7dbf=function(_0x7dbf91,_0x2cbcb0){_0x7dbf91=_0x7dbf91-0x12e;var _0x49c5af=_0x199931[_0x7dbf91];return _0x49c5af;},a1237_0x7dbf(_0x44de18,_0x16bd9b);}(function(_0x174cb7,_0x503dd6){var _0x3d9856=a1237_0x7dbf,_0x2f2a82=_0x174cb7();while(!![]){try{var _0x86a722=-parseInt(_0x3d9856(0x148))/0x1+parseInt(_0x3d9856(0x134))/0x2*(-parseInt(_0x3d9856(0x14e))/0x3)+-parseInt(_0x3d9856(0x131))/0x4*(parseInt(_0x3d9856(0x13f))/0x5)+parseInt(_0x3d9856(0x152))/0x6+-parseInt(_0x3d9856(0x150))/0x7+-parseInt(_0x3d9856(0x14d))/0x8+parseInt(_0x3d9856(0x130))/0x9;if(_0x86a722===_0x503dd6)break;else _0x2f2a82['push'](_0x2f2a82['shift']());}catch(_0x41b05c){_0x2f2a82['push'](_0x2f2a82['shift']());}}}(a1237_0x1999,0xaaabc));import a1237_0x16f07f from'../Core/decodeGoogleEarthEnterpriseData.js';import a1237_0x1552be from'../Core/GoogleEarthEnterpriseTileInformation.js';import a1237_0x459ab3 from'../Core/RuntimeError.js';import a1237_0x5db9ca from'../ThirdParty/pako.js';import a1237_0x175b8e from'./createTaskProcessorWorker.js';var sizeOfUint16=Uint16Array[a1237_0x1df8e9(0x137)],sizeOfInt32=Int32Array['BYTES_PER_ELEMENT'],sizeOfUint32=Uint32Array['BYTES_PER_ELEMENT'],Types={'METADATA':0x0,'TERRAIN':0x1,'DBROOT':0x2};Types[a1237_0x1df8e9(0x133)]=function(_0x56fcf8){var _0x48e8c2=a1237_0x1df8e9;if(_0x56fcf8===_0x48e8c2(0x14a))return Types[_0x48e8c2(0x140)];else{if(_0x56fcf8===_0x48e8c2(0x13c))return Types[_0x48e8c2(0x13e)];else{if(_0x56fcf8==='DbRoot')return Types[_0x48e8c2(0x142)];}}};function decodeGoogleEarthEnterprisePacket(_0x176e45,_0x43e454){var _0x2077d2=a1237_0x1df8e9,_0x3df0c2=Types[_0x2077d2(0x133)](_0x176e45[_0x2077d2(0x135)]),_0x30c267=_0x176e45[_0x2077d2(0x132)];a1237_0x16f07f(_0x176e45['key'],_0x30c267);var _0x53a39a=uncompressPacket(_0x30c267);_0x30c267=_0x53a39a['buffer'];var _0x299574=_0x53a39a[_0x2077d2(0x144)];switch(_0x3df0c2){case Types['METADATA']:return processMetadata(_0x30c267,_0x299574,_0x176e45[_0x2077d2(0x151)]);case Types[_0x2077d2(0x13e)]:return processTerrain(_0x30c267,_0x299574,_0x43e454);case Types[_0x2077d2(0x142)]:_0x43e454[_0x2077d2(0x147)](_0x30c267);return{'buffer':_0x30c267};}}var qtMagic=0x7e2d;function processMetadata(_0x3f6122,_0x429765,_0x1be633){var _0x2726bf=a1237_0x1df8e9,_0x5db314=new DataView(_0x3f6122),_0xa02df8=0x0,_0x45d699=_0x5db314[_0x2726bf(0x13b)](_0xa02df8,!![]);_0xa02df8+=sizeOfUint32;if(_0x45d699!==qtMagic)throw new a1237_0x459ab3('Invalid\x20magic');var _0x4bbc20=_0x5db314[_0x2726bf(0x13b)](_0xa02df8,!![]);_0xa02df8+=sizeOfUint32;if(_0x4bbc20!==0x1)throw new a1237_0x459ab3('Invalid\x20data\x20type.\x20Must\x20be\x201\x20for\x20QuadTreePacket');var _0x47d89f=_0x5db314[_0x2726bf(0x13b)](_0xa02df8,!![]);_0xa02df8+=sizeOfUint32;if(_0x47d89f!==0x2)throw new a1237_0x459ab3(_0x2726bf(0x12e));var _0x526e49=_0x5db314[_0x2726bf(0x13d)](_0xa02df8,!![]);_0xa02df8+=sizeOfInt32;var _0xfd7fc5=_0x5db314[_0x2726bf(0x13d)](_0xa02df8,!![]);_0xa02df8+=sizeOfInt32;if(_0xfd7fc5!==0x20)throw new a1237_0x459ab3(_0x2726bf(0x14b));var _0xe3b285=_0x5db314[_0x2726bf(0x13d)](_0xa02df8,!![]);_0xa02df8+=sizeOfInt32;var _0x1b1d60=_0x5db314['getInt32'](_0xa02df8,!![]);_0xa02df8+=sizeOfInt32;var _0x37703b=_0x5db314['getInt32'](_0xa02df8,!![]);_0xa02df8+=sizeOfInt32;if(_0xe3b285!==_0x526e49*_0xfd7fc5+_0xa02df8)throw new a1237_0x459ab3(_0x2726bf(0x146));if(_0xe3b285+_0x1b1d60+_0x37703b!==_0x429765)throw new a1237_0x459ab3(_0x2726bf(0x143));var _0x51f357=[];for(var _0x3bee6e=0x0;_0x3bee6e<_0x526e49;++_0x3bee6e){var _0x4d9642=_0x5db314[_0x2726bf(0x149)](_0xa02df8);++_0xa02df8,++_0xa02df8;var _0x1b7f8c=_0x5db314[_0x2726bf(0x145)](_0xa02df8,!![]);_0xa02df8+=sizeOfUint16;var _0x12f1ba=_0x5db314['getUint16'](_0xa02df8,!![]);_0xa02df8+=sizeOfUint16;var _0x5bb140=_0x5db314[_0x2726bf(0x145)](_0xa02df8,!![]);_0xa02df8+=sizeOfUint16,_0xa02df8+=sizeOfUint16,_0xa02df8+=sizeOfUint16,_0xa02df8+=sizeOfInt32,_0xa02df8+=sizeOfInt32,_0xa02df8+=0x8;var _0x129e4d=_0x5db314['getUint8'](_0xa02df8++),_0x3191a3=_0x5db314['getUint8'](_0xa02df8++);_0xa02df8+=sizeOfUint16,_0x51f357['push'](new a1237_0x1552be(_0x4d9642,_0x1b7f8c,_0x12f1ba,_0x5bb140,_0x129e4d,_0x3191a3));}var _0x341a34=[],_0x309b82=0x0;function _0x197a80(_0x22b007,_0x4bcfa8,_0x51c086){var _0x40f3e8=_0x2726bf,_0x5d8ec0=![];if(_0x51c086===0x4){if(_0x4bcfa8[_0x40f3e8(0x14f)]())return;_0x5d8ec0=!![];}for(var _0x1b52ef=0x0;_0x1b52ef<0x4;++_0x1b52ef){var _0x5f25d6=_0x22b007+_0x1b52ef[_0x40f3e8(0x136)]();if(_0x5d8ec0)_0x341a34[_0x5f25d6]=null;else{if(_0x51c086<0x4){if(!_0x4bcfa8[_0x40f3e8(0x141)](_0x1b52ef))_0x341a34[_0x5f25d6]=null;else{if(_0x309b82===_0x526e49){console['log'](_0x40f3e8(0x12f));return;}var _0x5254c0=_0x51f357[_0x309b82++];_0x341a34[_0x5f25d6]=_0x5254c0,_0x197a80(_0x5f25d6,_0x5254c0,_0x51c086+0x1);}}}}}var _0x2111ce=0x0,_0x12ffa9=_0x51f357[_0x309b82++];return _0x1be633===''?++_0x2111ce:_0x341a34[_0x1be633]=_0x12ffa9,_0x197a80(_0x1be633,_0x12ffa9,_0x2111ce),_0x341a34;}function a1237_0x1999(){var _0x5e3371=['2055046NJEuSC','quadKey','5784786VjbQau','Invalid\x20QuadTreePacket\x20version.\x20Only\x20version\x202\x20is\x20supported.','Incorrect\x20number\x20of\x20instances','32559021tbRSQX','4wfWsLj','buffer','fromString','2ndfZab','type','toString','BYTES_PER_ELEMENT','slice','Invalid\x20magic','Size\x20of\x20packet\x20doesn\x27t\x20match\x20header','getUint32','Terrain','getInt32','TERRAIN','4559605rFdHcE','METADATA','hasChild','DBROOT','Invalid\x20packet\x20offsets','length','getUint16','Invalid\x20dataBufferOffset','push','776624nfjHmJ','getUint8','Metadata','Invalid\x20instance\x20size.','inflate','6329664YJIdnM','3328203EDkovz','hasSubtree'];a1237_0x1999=function(){return _0x5e3371;};return a1237_0x1999();}var numMeshesPerPacket=0x5,numSubMeshesPerMesh=0x4;function processTerrain(_0x415855,_0x5a7888,_0x318d23){var _0x447723=a1237_0x1df8e9,_0x29423d=new DataView(_0x415855),_0x44db7c=function(_0x1d29e4){for(var _0x3b9409=0x0;_0x3b9409<numSubMeshesPerMesh;++_0x3b9409){var _0x4553fe=_0x29423d['getUint32'](_0x1d29e4,!![]);_0x1d29e4+=sizeOfUint32,_0x1d29e4+=_0x4553fe;if(_0x1d29e4>_0x5a7888)throw new a1237_0x459ab3('Malformed\x20terrain\x20packet\x20found.');}return _0x1d29e4;},_0x51325a=0x0,_0x1a9e54=[];while(_0x1a9e54[_0x447723(0x144)]<numMeshesPerPacket){var _0x2cc496=_0x51325a;_0x51325a=_0x44db7c(_0x51325a);var _0x5f40e2=_0x415855[_0x447723(0x138)](_0x2cc496,_0x51325a);_0x318d23[_0x447723(0x147)](_0x5f40e2),_0x1a9e54[_0x447723(0x147)](_0x5f40e2);}return _0x1a9e54;}var compressedMagic=0x7468dead,compressedMagicSwap=0xadde6874;function uncompressPacket(_0x2df472){var _0x33a731=a1237_0x1df8e9,_0x175297=new DataView(_0x2df472),_0x449d78=0x0,_0x260be=_0x175297[_0x33a731(0x13b)](_0x449d78,!![]);_0x449d78+=sizeOfUint32;if(_0x260be!==compressedMagic&&_0x260be!==compressedMagicSwap)throw new a1237_0x459ab3(_0x33a731(0x139));var _0x4d5506=_0x175297[_0x33a731(0x13b)](_0x449d78,_0x260be===compressedMagic);_0x449d78+=sizeOfUint32;var _0x5e5665=new Uint8Array(_0x2df472,_0x449d78),_0x38fe50=a1237_0x5db9ca[_0x33a731(0x14c)](_0x5e5665);if(_0x38fe50[_0x33a731(0x144)]!==_0x4d5506)throw new a1237_0x459ab3(_0x33a731(0x13a));return _0x38fe50;}export default a1237_0x175b8e(decodeGoogleEarthEnterprisePacket);