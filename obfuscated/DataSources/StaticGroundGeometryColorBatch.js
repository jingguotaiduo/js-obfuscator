var a360_0x2094e6=a360_0x4c8e;(function(_0x4e519c,_0x368c5e){var _0x5608c4=a360_0x4c8e,_0x452c02=_0x4e519c();while(!![]){try{var _0x5f1b58=-parseInt(_0x5608c4(0x103))/0x1*(-parseInt(_0x5608c4(0x107))/0x2)+parseInt(_0x5608c4(0xff))/0x3+-parseInt(_0x5608c4(0xe6))/0x4*(parseInt(_0x5608c4(0x114))/0x5)+-parseInt(_0x5608c4(0x11b))/0x6*(parseInt(_0x5608c4(0x10a))/0x7)+parseInt(_0x5608c4(0x108))/0x8*(-parseInt(_0x5608c4(0xe3))/0x9)+parseInt(_0x5608c4(0x11d))/0xa*(-parseInt(_0x5608c4(0xfa))/0xb)+parseInt(_0x5608c4(0xf0))/0xc*(parseInt(_0x5608c4(0x115))/0xd);if(_0x5f1b58===_0x368c5e)break;else _0x452c02['push'](_0x452c02['shift']());}catch(_0x1dbd7a){_0x452c02['push'](_0x452c02['shift']());}}}(a360_0x1300,0x7a45d));function a360_0x4c8e(_0x4b6a8c,_0x232f38){var _0x1300e6=a360_0x1300();return a360_0x4c8e=function(_0x4c8e4b,_0x35fd02){_0x4c8e4b=_0x4c8e4b-0xd5;var _0x1c7fda=_0x1300e6[_0x4c8e4b];return _0x1c7fda;},a360_0x4c8e(_0x4b6a8c,_0x232f38);}import a360_0xf31ed4 from'../Core/AssociativeArray.js';import a360_0x5edc71 from'../Core/Color.js';import a360_0x5f53c4 from'../Core/ColorGeometryInstanceAttribute.js';import a360_0x158cfb from'../Core/defined.js';import a360_0x516de1 from'../Core/DistanceDisplayCondition.js';import a360_0x278a3d from'../Core/DistanceDisplayConditionGeometryInstanceAttribute.js';import a360_0x27de46 from'../Core/ShowGeometryInstanceAttribute.js';import a360_0x13cda2 from'../Scene/GroundPrimitive.js';import a360_0x15e77e from'./BoundingSphereState.js';import a360_0x4ef3ba from'./Property.js';import a360_0x49bd19 from'../Core/RectangleCollisionChecker.js';var colorScratch=new a360_0x5edc71(),distanceDisplayConditionScratch=new a360_0x516de1(),defaultDistanceDisplayCondition=new a360_0x516de1();function Batch(_0x2236a9,_0x37b899,_0x342ba9,_0x3b8513){var _0x1dd5ce=a360_0x4c8e;this[_0x1dd5ce(0xed)]=_0x2236a9,this[_0x1dd5ce(0xee)]=_0x3b8513,this[_0x1dd5ce(0xe2)]=_0x37b899,this['color']=_0x342ba9,this[_0x1dd5ce(0x118)]=![],this[_0x1dd5ce(0xda)]=![],this['primitive']=undefined,this['oldPrimitive']=undefined,this['geometry']=new a360_0xf31ed4(),this[_0x1dd5ce(0x116)]=new a360_0xf31ed4(),this[_0x1dd5ce(0xd6)]=new a360_0xf31ed4(),this[_0x1dd5ce(0x10c)]=new a360_0xf31ed4(),this[_0x1dd5ce(0x112)]=new a360_0xf31ed4(),this[_0x1dd5ce(0xdc)]=new a360_0xf31ed4(),this['itemsToRemove']=[],this[_0x1dd5ce(0xdd)]=![],this[_0x1dd5ce(0x111)]=new a360_0x49bd19();}Batch[a360_0x2094e6(0xdb)]['overlapping']=function(_0x2a2d3e){return this['rectangleCollisionCheck']['collides'](_0x2a2d3e);},Batch[a360_0x2094e6(0xdb)][a360_0x2094e6(0x105)]=function(_0x7c9f96,_0x40ef05){var _0x2ebb68=a360_0x2094e6,_0x5eaf1e=_0x7c9f96['id'];this[_0x2ebb68(0x118)]=!![],this['geometry']['set'](_0x5eaf1e,_0x40ef05),this[_0x2ebb68(0x116)][_0x2ebb68(0xfe)](_0x5eaf1e,_0x7c9f96),this[_0x2ebb68(0x111)][_0x2ebb68(0x110)](_0x5eaf1e,_0x40ef05[_0x2ebb68(0xe8)][_0x2ebb68(0x10f)]);if(!_0x7c9f96[_0x2ebb68(0xf5)]||!_0x7c9f96[_0x2ebb68(0xe0)][_0x2ebb68(0x101)]||!a360_0x4ef3ba[_0x2ebb68(0x101)](_0x7c9f96['distanceDisplayConditionProperty']))this[_0x2ebb68(0xd6)][_0x2ebb68(0xfe)](_0x5eaf1e,_0x7c9f96);else{var _0x2353d9=this;this[_0x2ebb68(0x112)][_0x2ebb68(0xfe)](_0x5eaf1e,_0x7c9f96['entity'][_0x2ebb68(0xe4)]['addEventListener'](function(_0x6535c7,_0xe44848,_0x4a9977,_0x52ca7b){var _0x1f368a=_0x2ebb68;_0xe44848==='isShowing'&&_0x2353d9[_0x1f368a(0xdc)][_0x1f368a(0xfe)](_0x7c9f96['id'],_0x7c9f96);}));}},Batch['prototype'][a360_0x2094e6(0x10d)]=function(_0x3d656f){var _0x1018d7=a360_0x2094e6,_0x223f44=_0x3d656f['id'],_0x29ba71=this[_0x1018d7(0xe8)][_0x1018d7(0xe5)](_0x223f44);this[_0x1018d7(0x118)]=this[_0x1018d7(0xe8)][_0x1018d7(0x10d)](_0x223f44)||this[_0x1018d7(0x118)];if(this[_0x1018d7(0x116)]['remove'](_0x223f44)){this['rectangleCollisionCheck'][_0x1018d7(0x10d)](_0x223f44,_0x29ba71['geometry'][_0x1018d7(0x10f)]),this[_0x1018d7(0xd6)][_0x1018d7(0x10d)](_0x223f44);var _0x472fd8=this[_0x1018d7(0x112)][_0x1018d7(0xe5)](_0x223f44);return a360_0x158cfb(_0x472fd8)&&(_0x472fd8(),this[_0x1018d7(0x112)][_0x1018d7(0x10d)](_0x223f44),this[_0x1018d7(0xdc)]['remove'](_0x223f44)),!![];}return![];},Batch['prototype'][a360_0x2094e6(0xdf)]=function(_0x47226){var _0x478739=a360_0x2094e6,_0x1237a2=!![],_0x149ca4=0x0,_0x71ecea=this[_0x478739(0x11c)],_0x1edb9e=this[_0x478739(0xed)],_0x26fada;if(this[_0x478739(0x118)]){var _0x1b059b=this['geometry'][_0x478739(0x100)],_0x167f79=_0x1b059b[_0x478739(0xd9)];if(_0x167f79>0x0)a360_0x158cfb(_0x71ecea)&&(!a360_0x158cfb(this['oldPrimitive'])?this[_0x478739(0xf1)]=_0x71ecea:_0x1edb9e['remove'](_0x71ecea)),_0x71ecea=new a360_0x13cda2({'show':![],'asynchronous':!![],'geometryInstances':_0x1b059b[_0x478739(0xf7)](),'classificationType':this[_0x478739(0xe2)]}),_0x1edb9e[_0x478739(0x105)](_0x71ecea,this[_0x478739(0xee)]),_0x1237a2=![];else{a360_0x158cfb(_0x71ecea)&&(_0x1edb9e[_0x478739(0x10d)](_0x71ecea),_0x71ecea=undefined);var _0x1f8551=this['oldPrimitive'];a360_0x158cfb(_0x1f8551)&&(_0x1edb9e['remove'](_0x1f8551),this[_0x478739(0xf1)]=undefined);}this[_0x478739(0x10c)][_0x478739(0xf8)](),this['primitive']=_0x71ecea,this['createPrimitive']=![],this[_0x478739(0xda)]=!![];}else{if(a360_0x158cfb(_0x71ecea)&&_0x71ecea['ready']){_0x71ecea[_0x478739(0x10b)]=!![];a360_0x158cfb(this[_0x478739(0xf1)])&&(_0x1edb9e[_0x478739(0x10d)](this['oldPrimitive']),this[_0x478739(0xf1)]=undefined);var _0x57a3ad=this[_0x478739(0xd6)]['values'],_0x5a535e=_0x57a3ad[_0x478739(0xd9)],_0x14f47c=this['waitingOnCreate'];for(_0x26fada=0x0;_0x26fada<_0x5a535e;_0x26fada++){var _0x4e1af9=_0x57a3ad[_0x26fada],_0x4d8081=this[_0x478739(0xe8)][_0x478739(0xe5)](_0x4e1af9['id']),_0x2c6dc3=this[_0x478739(0x10c)][_0x478739(0xe5)](_0x4d8081['id']['id']);!a360_0x158cfb(_0x2c6dc3)&&(_0x2c6dc3=_0x71ecea[_0x478739(0x102)](_0x4d8081['id']),this[_0x478739(0x10c)]['set'](_0x4d8081['id']['id'],_0x2c6dc3));if(!_0x4e1af9[_0x478739(0xe0)][_0x478739(0x101)]||_0x14f47c){var _0x128416=_0x4e1af9[_0x478739(0xe0)][_0x478739(0xef)],_0x430269=a360_0x4ef3ba[_0x478739(0xea)](_0x128416,_0x47226,a360_0x5edc71[_0x478739(0xd8)],colorScratch);!a360_0x5edc71[_0x478739(0x119)](_0x2c6dc3[_0x478739(0x10e)],_0x430269)&&(_0x2c6dc3[_0x478739(0x10e)]=a360_0x5edc71[_0x478739(0xfd)](_0x430269,_0x2c6dc3[_0x478739(0x10e)]),_0x2c6dc3[_0x478739(0xef)]=a360_0x5f53c4['toValue'](_0x430269,_0x2c6dc3[_0x478739(0xef)]));}var _0x315bf2=_0x4e1af9[_0x478739(0xeb)][_0x478739(0xf3)]&&(_0x4e1af9[_0x478739(0xf5)]||_0x4e1af9[_0x478739(0xfc)](_0x47226)),_0x1a62a1=_0x2c6dc3['show'][0x0]===0x1;_0x315bf2!==_0x1a62a1&&(_0x2c6dc3[_0x478739(0x10b)]=a360_0x27de46[_0x478739(0xf4)](_0x315bf2,_0x2c6dc3['show']));var _0x59c3a4=_0x4e1af9[_0x478739(0x11e)];if(!a360_0x4ef3ba['isConstant'](_0x59c3a4)){var _0x39bc34=a360_0x4ef3ba[_0x478739(0xea)](_0x59c3a4,_0x47226,defaultDistanceDisplayCondition,distanceDisplayConditionScratch);!a360_0x516de1['equals'](_0x39bc34,_0x2c6dc3[_0x478739(0x11a)])&&(_0x2c6dc3[_0x478739(0x11a)]=a360_0x516de1['clone'](_0x39bc34,_0x2c6dc3[_0x478739(0x11a)]),_0x2c6dc3[_0x478739(0xfb)]=a360_0x278a3d[_0x478739(0xf4)](_0x39bc34,_0x2c6dc3[_0x478739(0xfb)]));}}this[_0x478739(0x117)](_0x71ecea),this[_0x478739(0xda)]=![];}else a360_0x158cfb(_0x71ecea)&&!_0x71ecea['ready']&&(_0x1237a2=![]);}return this[_0x478739(0x109)]['length']=_0x149ca4,_0x1237a2;},Batch[a360_0x2094e6(0xdb)][a360_0x2094e6(0x117)]=function(_0x1fc6cf){var _0x4f4b78=a360_0x2094e6,_0x1b3937=this['showsUpdated'][_0x4f4b78(0x100)],_0x4cfb4b=_0x1b3937['length'];for(var _0x359576=0x0;_0x359576<_0x4cfb4b;_0x359576++){var _0x351a21=_0x1b3937[_0x359576],_0x12c6ec=this[_0x4f4b78(0xe8)][_0x4f4b78(0xe5)](_0x351a21['id']),_0xbd9393=this['attributes'][_0x4f4b78(0xe5)](_0x12c6ec['id']['id']);!a360_0x158cfb(_0xbd9393)&&(_0xbd9393=_0x1fc6cf[_0x4f4b78(0x102)](_0x12c6ec['id']),this[_0x4f4b78(0x10c)][_0x4f4b78(0xfe)](_0x12c6ec['id']['id'],_0xbd9393));var _0x1c3318=_0x351a21[_0x4f4b78(0xeb)]['isShowing'],_0x3ba8a7=_0xbd9393[_0x4f4b78(0x10b)][0x0]===0x1;_0x1c3318!==_0x3ba8a7&&(_0xbd9393[_0x4f4b78(0x10b)]=a360_0x27de46[_0x4f4b78(0xf4)](_0x1c3318,_0xbd9393[_0x4f4b78(0x10b)]),_0x12c6ec[_0x4f4b78(0x10c)][_0x4f4b78(0x10b)][_0x4f4b78(0xe1)][0x0]=_0xbd9393[_0x4f4b78(0x10b)][0x0]);}this[_0x4f4b78(0xdc)][_0x4f4b78(0xf8)]();},Batch[a360_0x2094e6(0xdb)][a360_0x2094e6(0xd5)]=function(_0x15bbcb){var _0x494331=a360_0x2094e6;return this['updaters'][_0x494331(0xd5)](_0x15bbcb['id']);},Batch[a360_0x2094e6(0xdb)][a360_0x2094e6(0xe7)]=function(_0x49df4b,_0x4c7d08){var _0x451f97=a360_0x2094e6,_0x43b6b8=this['primitive'];if(!_0x43b6b8[_0x451f97(0x113)])return a360_0x15e77e[_0x451f97(0xde)];var _0x47b64b=_0x43b6b8[_0x451f97(0xe7)](_0x49df4b[_0x451f97(0xeb)]);if(!a360_0x158cfb(_0x47b64b))return a360_0x15e77e['FAILED'];return _0x47b64b[_0x451f97(0xfd)](_0x4c7d08),a360_0x15e77e['DONE'];},Batch[a360_0x2094e6(0xdb)][a360_0x2094e6(0xd7)]=function(){var _0x48267d=a360_0x2094e6,_0x5ce2c8=this['primitives'],_0x3dbc69=this['primitive'];a360_0x158cfb(_0x3dbc69)&&(_0x5ce2c8[_0x48267d(0x10d)](_0x3dbc69),this['primitive']=undefined,this[_0x48267d(0xe8)]['removeAll'](),this['updaters'][_0x48267d(0xf8)]());var _0x23d077=this[_0x48267d(0xf1)];a360_0x158cfb(_0x23d077)&&(_0x5ce2c8[_0x48267d(0x10d)](_0x23d077),this['oldPrimitive']=undefined);};function a360_0x1300(){var _0x48f4b1=['isConstant','getGeometryInstanceAttributes','8535jjokVe','splice','add','push','90SelYnw','8bVjOrg','itemsToRemove','1736mjzGOL','show','attributes','remove','_lastColor','rectangle','insert','rectangleCollisionCheck','subscriptions','ready','5krlPnD','44031irbOLL','updaters','updateShows','createPrimitive','equals','_lastDistanceDisplayCondition','13518FsxQbJ','primitive','640TkyNIj','distanceDisplayConditionProperty','contains','updatersWithAttributes','removeAllPrimitives','WHITE','length','waitingOnCreate','prototype','showsUpdated','isDirty','PENDING','update','fillMaterialProperty','value','classificationType','2498787JHNyTd','definitionChanged','get','1428364gEEUng','getBoundingSphere','geometry','_batches','getValueOrDefault','entity','FAILED','primitives','zIndex','color','5292hUTXXK','oldPrimitive','_classificationType','isShowing','toValue','hasConstantFill','overlapping','slice','removeAll','_primitives','55176XbzZmQ','distanceDisplayCondition','isFilled','clone','set','412767fPrsJZ','values'];a360_0x1300=function(){return _0x48f4b1;};return a360_0x1300();}function StaticGroundGeometryColorBatch(_0x14d674,_0x4ab166){var _0x5d67c4=a360_0x2094e6;this[_0x5d67c4(0xe9)]=[],this[_0x5d67c4(0xf9)]=_0x14d674,this['_classificationType']=_0x4ab166;}StaticGroundGeometryColorBatch[a360_0x2094e6(0xdb)]['add']=function(_0x65c3e0,_0x23fd37){var _0x1404e9=a360_0x2094e6,_0x5ecf02=_0x23fd37['createFillGeometryInstance'](_0x65c3e0),_0x1b24ce=this['_batches'],_0xf003de=a360_0x4ef3ba[_0x1404e9(0xea)](_0x23fd37['zIndex'],0x0),_0x147b09,_0x33d84f=_0x1b24ce[_0x1404e9(0xd9)];for(var _0xca6a20=0x0;_0xca6a20<_0x33d84f;++_0xca6a20){var _0x2167b8=_0x1b24ce[_0xca6a20];if(_0x2167b8[_0x1404e9(0xee)]===_0xf003de&&!_0x2167b8[_0x1404e9(0xf6)](_0x5ecf02[_0x1404e9(0xe8)][_0x1404e9(0x10f)])){_0x147b09=_0x2167b8;break;}}return!a360_0x158cfb(_0x147b09)&&(_0x147b09=new Batch(this['_primitives'],this[_0x1404e9(0xf2)],_0x5ecf02['attributes']['color'][_0x1404e9(0xe1)],_0xf003de),_0x1b24ce[_0x1404e9(0x106)](_0x147b09)),_0x147b09['add'](_0x23fd37,_0x5ecf02),_0x147b09;},StaticGroundGeometryColorBatch[a360_0x2094e6(0xdb)][a360_0x2094e6(0x10d)]=function(_0x1d3837){var _0x217a49=a360_0x2094e6,_0x3e4aba=this[_0x217a49(0xe9)],_0x544e67=_0x3e4aba[_0x217a49(0xd9)];for(var _0xef9650=0x0;_0xef9650<_0x544e67;++_0xef9650){if(_0x3e4aba[_0xef9650]['remove'](_0x1d3837))return;}},StaticGroundGeometryColorBatch[a360_0x2094e6(0xdb)][a360_0x2094e6(0xdf)]=function(_0x1d7455){var _0x51c546=a360_0x2094e6,_0x65776c,_0x120570,_0x517a75=!![],_0x27a9d5=this['_batches'],_0x4e9ba7=_0x27a9d5[_0x51c546(0xd9)];for(_0x65776c=0x0;_0x65776c<_0x4e9ba7;++_0x65776c){_0x517a75=_0x27a9d5[_0x65776c]['update'](_0x1d7455)&&_0x517a75;}for(_0x65776c=0x0;_0x65776c<_0x4e9ba7;++_0x65776c){var _0x4ec36b=_0x27a9d5[_0x65776c],_0x4b87c0=_0x4ec36b['itemsToRemove'],_0x47ed64=_0x4b87c0[_0x51c546(0xd9)];for(var _0x2ee5b5=0x0;_0x2ee5b5<_0x47ed64;_0x2ee5b5++){_0x120570=_0x4b87c0[_0x2ee5b5],_0x4ec36b['remove'](_0x120570);var _0x2493a7=this[_0x51c546(0x105)](_0x1d7455,_0x120570);_0x4ec36b[_0x51c546(0xdd)]=!![],_0x2493a7[_0x51c546(0xdd)]=!![];}}for(_0x65776c=_0x4e9ba7-0x1;_0x65776c>=0x0;--_0x65776c){var _0x1ac65f=_0x27a9d5[_0x65776c];_0x1ac65f['isDirty']&&(_0x517a75=_0x27a9d5[_0x65776c][_0x51c546(0xdf)](_0x1d7455)&&_0x517a75,_0x1ac65f[_0x51c546(0xdd)]=![]),_0x1ac65f[_0x51c546(0xe8)][_0x51c546(0xd9)]===0x0&&_0x27a9d5[_0x51c546(0x104)](_0x65776c,0x1);}return _0x517a75;},StaticGroundGeometryColorBatch[a360_0x2094e6(0xdb)]['getBoundingSphere']=function(_0x518743,_0x2a36c1){var _0x13db08=a360_0x2094e6,_0x35b782=this[_0x13db08(0xe9)],_0x20ebf1=_0x35b782[_0x13db08(0xd9)];for(var _0x121780=0x0;_0x121780<_0x20ebf1;++_0x121780){var _0x39f76f=_0x35b782[_0x121780];if(_0x39f76f[_0x13db08(0xd5)](_0x518743))return _0x39f76f[_0x13db08(0xe7)](_0x518743,_0x2a36c1);}return a360_0x15e77e[_0x13db08(0xec)];},StaticGroundGeometryColorBatch[a360_0x2094e6(0xdb)][a360_0x2094e6(0xd7)]=function(){var _0x5db4a6=a360_0x2094e6,_0x384b9e=this[_0x5db4a6(0xe9)],_0x16a75c=_0x384b9e[_0x5db4a6(0xd9)];for(var _0x2a1175=0x0;_0x2a1175<_0x16a75c;++_0x2a1175){_0x384b9e[_0x2a1175][_0x5db4a6(0xd7)]();}};export default StaticGroundGeometryColorBatch;