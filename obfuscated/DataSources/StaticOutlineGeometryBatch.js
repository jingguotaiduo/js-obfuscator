var a363_0x5f1b6c=a363_0x5809;(function(_0x2ee321,_0x172424){var _0x3bf84f=a363_0x5809,_0x1c144f=_0x2ee321();while(!![]){try{var _0x329ad3=-parseInt(_0x3bf84f(0x184))/0x1+-parseInt(_0x3bf84f(0x19e))/0x2+-parseInt(_0x3bf84f(0x191))/0x3+parseInt(_0x3bf84f(0x189))/0x4+-parseInt(_0x3bf84f(0x197))/0x5+parseInt(_0x3bf84f(0x17d))/0x6*(-parseInt(_0x3bf84f(0x1a2))/0x7)+parseInt(_0x3bf84f(0x1a1))/0x8*(parseInt(_0x3bf84f(0x1a7))/0x9);if(_0x329ad3===_0x172424)break;else _0x1c144f['push'](_0x1c144f['shift']());}catch(_0x3f2953){_0x1c144f['push'](_0x1c144f['shift']());}}}(a363_0x1a79,0x2f322));import a363_0x5642d0 from'../Core/AssociativeArray.js';import a363_0x4c13f5 from'../Core/Cartesian3.js';import a363_0x35a41a from'../Core/Color.js';import a363_0x156924 from'../Core/ColorGeometryInstanceAttribute.js';import a363_0x2fc86f from'../Core/defined.js';import a363_0x3bee96 from'../Core/DistanceDisplayCondition.js';import a363_0x41e375 from'../Core/DistanceDisplayConditionGeometryInstanceAttribute.js';import a363_0x3f7fa8 from'../Core/OffsetGeometryInstanceAttribute.js';import a363_0x76785d from'../Core/ShowGeometryInstanceAttribute.js';import a363_0x351b53 from'../Scene/PerInstanceColorAppearance.js';import a363_0x27cd82 from'../Scene/Primitive.js';function a363_0x5809(_0x3e6be5,_0x97c67f){var _0x1a797c=a363_0x1a79();return a363_0x5809=function(_0x580985,_0x32a45c){_0x580985=_0x580985-0x166;var _0x2ddc22=_0x1a797c[_0x580985];return _0x2ddc22;},a363_0x5809(_0x3e6be5,_0x97c67f);}function a363_0x1a79(){var _0x33f127=['isOutlineVisible','definitionChanged','getGeometryInstanceAttributes','clone','45VkiIKa','_lastColor','updatersWithAttributes','getBoundingSphere','_shadows','equals','getValueOrDefault','color','translucent','toValue','createPrimitive','WHITE','boundingSphere','_lastDistanceDisplayCondition','width','contains','outlineColorProperty','update','remove','outlineWidth','updateShows','geometry','removeAll','subscriptions','set','oldPrimitive','length','updaters','_lastOffset','414HSuxUO','PENDING','primitive','DONE','value','prototype','itemsToRemove','173191NmBahC','createOutlineGeometryInstance','_solidBatches','isConstant','hasConstantOutline','225776QadzFI','slice','entity','_translucentBatches','terrainOffsetProperty','removeAllPrimitives','show','attributes','488508ePAfaM','distanceDisplayConditionProperty','values','showsUpdated','clampLineWidth','offset','1739480YHPsOn','ready','primitives','FAILED','add','_primitives','waitingOnCreate','739668wpZWiJ','get','isShowing','2148104uicpRF','15414bARQxk'];a363_0x1a79=function(){return _0x33f127;};return a363_0x1a79();}import a363_0x41a8e1 from'./BoundingSphereState.js';import a363_0x1765ed from'./Property.js';var colorScratch=new a363_0x35a41a(),distanceDisplayConditionScratch=new a363_0x3bee96(),defaultDistanceDisplayCondition=new a363_0x3bee96(),defaultOffset=a363_0x4c13f5['ZERO'],offsetScratch=new a363_0x4c13f5();function Batch(_0x777773,_0x3b0f43,_0x5f3cbf,_0x306e10){var _0x19c880=a363_0x5809;this[_0x19c880(0x168)]=_0x3b0f43,this[_0x19c880(0x16e)]=_0x5f3cbf,this['shadows']=_0x306e10,this[_0x19c880(0x199)]=_0x777773,this['createPrimitive']=![],this[_0x19c880(0x19d)]=![],this[_0x19c880(0x17f)]=undefined,this[_0x19c880(0x179)]=undefined,this[_0x19c880(0x175)]=new a363_0x5642d0(),this['updaters']=new a363_0x5642d0(),this[_0x19c880(0x1a9)]=new a363_0x5642d0(),this[_0x19c880(0x190)]=new a363_0x5642d0(),this['itemsToRemove']=[],this[_0x19c880(0x177)]=new a363_0x5642d0(),this[_0x19c880(0x194)]=new a363_0x5642d0();}Batch[a363_0x5f1b6c(0x182)][a363_0x5f1b6c(0x19b)]=function(_0x5331fd,_0x38ff05){var _0x56de58=a363_0x5f1b6c,_0x330258=_0x5331fd['id'];this[_0x56de58(0x16a)]=!![],this[_0x56de58(0x175)][_0x56de58(0x178)](_0x330258,_0x38ff05),this[_0x56de58(0x17b)]['set'](_0x330258,_0x5331fd);if(!_0x5331fd['hasConstantOutline']||!_0x5331fd[_0x56de58(0x170)]['isConstant']||!a363_0x1765ed[_0x56de58(0x187)](_0x5331fd[_0x56de58(0x192)])||!a363_0x1765ed['isConstant'](_0x5331fd[_0x56de58(0x18d)]))this[_0x56de58(0x1a9)][_0x56de58(0x178)](_0x330258,_0x5331fd);else{var _0x2696ce=this;this[_0x56de58(0x177)][_0x56de58(0x178)](_0x330258,_0x5331fd[_0x56de58(0x18b)][_0x56de58(0x1a4)]['addEventListener'](function(_0x22ff4f,_0x10bdfa,_0x1f9e46,_0x2f9a68){var _0x2547da=_0x56de58;_0x10bdfa===_0x2547da(0x1a0)&&_0x2696ce['showsUpdated'][_0x2547da(0x178)](_0x5331fd['id'],_0x5331fd);}));}},Batch[a363_0x5f1b6c(0x182)][a363_0x5f1b6c(0x172)]=function(_0x57ffb3){var _0x14425f=a363_0x5f1b6c,_0x36ae81=_0x57ffb3['id'];this['createPrimitive']=this[_0x14425f(0x175)]['remove'](_0x36ae81)||this['createPrimitive'];if(this[_0x14425f(0x17b)][_0x14425f(0x172)](_0x36ae81)){this[_0x14425f(0x1a9)]['remove'](_0x36ae81);var _0x322ce7=this[_0x14425f(0x177)][_0x14425f(0x19f)](_0x36ae81);return a363_0x2fc86f(_0x322ce7)&&(_0x322ce7(),this['subscriptions'][_0x14425f(0x172)](_0x36ae81),this[_0x14425f(0x194)][_0x14425f(0x172)](_0x36ae81)),!![];}return![];},Batch[a363_0x5f1b6c(0x182)][a363_0x5f1b6c(0x171)]=function(_0x1ad6fb){var _0x1c791c=a363_0x5f1b6c,_0x2d4a0d=!![],_0x424f14=0x0,_0x10a84a=this[_0x1c791c(0x17f)],_0x181fab=this[_0x1c791c(0x199)],_0x27dcc1;if(this[_0x1c791c(0x16a)]){var _0x4e4302=this[_0x1c791c(0x175)][_0x1c791c(0x193)],_0x3865fa=_0x4e4302[_0x1c791c(0x17a)];if(_0x3865fa>0x0)a363_0x2fc86f(_0x10a84a)&&(!a363_0x2fc86f(this['oldPrimitive'])?this['oldPrimitive']=_0x10a84a:_0x181fab['remove'](_0x10a84a)),_0x10a84a=new a363_0x27cd82({'show':![],'asynchronous':!![],'geometryInstances':_0x4e4302[_0x1c791c(0x18a)](),'appearance':new a363_0x351b53({'flat':!![],'translucent':this['translucent'],'renderState':{'lineWidth':this[_0x1c791c(0x16e)]}}),'shadows':this['shadows']}),_0x181fab[_0x1c791c(0x19b)](_0x10a84a),_0x2d4a0d=![];else{a363_0x2fc86f(_0x10a84a)&&(_0x181fab[_0x1c791c(0x172)](_0x10a84a),_0x10a84a=undefined);var _0x433ff1=this['oldPrimitive'];a363_0x2fc86f(_0x433ff1)&&(_0x181fab[_0x1c791c(0x172)](_0x433ff1),this['oldPrimitive']=undefined);}this[_0x1c791c(0x190)][_0x1c791c(0x176)](),this[_0x1c791c(0x17f)]=_0x10a84a,this['createPrimitive']=![],this[_0x1c791c(0x19d)]=!![];}else{if(a363_0x2fc86f(_0x10a84a)&&_0x10a84a[_0x1c791c(0x198)]){_0x10a84a[_0x1c791c(0x18f)]=!![];a363_0x2fc86f(this[_0x1c791c(0x179)])&&(_0x181fab[_0x1c791c(0x172)](this[_0x1c791c(0x179)]),this[_0x1c791c(0x179)]=undefined);var _0x57b5de=this['updatersWithAttributes'][_0x1c791c(0x193)],_0x1d7479=_0x57b5de['length'],_0x155044=this['waitingOnCreate'];for(_0x27dcc1=0x0;_0x27dcc1<_0x1d7479;_0x27dcc1++){var _0x16df51=_0x57b5de[_0x27dcc1],_0x44008d=this[_0x1c791c(0x175)][_0x1c791c(0x19f)](_0x16df51['id']),_0x1745eb=this[_0x1c791c(0x190)][_0x1c791c(0x19f)](_0x44008d['id']['id']);!a363_0x2fc86f(_0x1745eb)&&(_0x1745eb=_0x10a84a[_0x1c791c(0x1a5)](_0x44008d['id']),this[_0x1c791c(0x190)][_0x1c791c(0x178)](_0x44008d['id']['id'],_0x1745eb));if(!_0x16df51[_0x1c791c(0x170)][_0x1c791c(0x187)]||_0x155044){var _0x3b31e1=_0x16df51['outlineColorProperty'],_0x9e485e=a363_0x1765ed['getValueOrDefault'](_0x3b31e1,_0x1ad6fb,a363_0x35a41a[_0x1c791c(0x16b)],colorScratch);!a363_0x35a41a[_0x1c791c(0x1ac)](_0x1745eb[_0x1c791c(0x1a8)],_0x9e485e)&&(_0x1745eb['_lastColor']=a363_0x35a41a[_0x1c791c(0x1a6)](_0x9e485e,_0x1745eb[_0x1c791c(0x1a8)]),_0x1745eb[_0x1c791c(0x167)]=a363_0x156924[_0x1c791c(0x169)](_0x9e485e,_0x1745eb[_0x1c791c(0x167)]),(this[_0x1c791c(0x168)]&&_0x1745eb[_0x1c791c(0x167)][0x3]===0xff||!this[_0x1c791c(0x168)]&&_0x1745eb[_0x1c791c(0x167)][0x3]!==0xff)&&(this['itemsToRemove'][_0x424f14++]=_0x16df51));}var _0x19c1ac=_0x16df51['entity']['isShowing']&&(_0x16df51[_0x1c791c(0x188)]||_0x16df51[_0x1c791c(0x1a3)](_0x1ad6fb)),_0x414e0d=_0x1745eb[_0x1c791c(0x18f)][0x0]===0x1;_0x19c1ac!==_0x414e0d&&(_0x1745eb[_0x1c791c(0x18f)]=a363_0x76785d[_0x1c791c(0x169)](_0x19c1ac,_0x1745eb[_0x1c791c(0x18f)]));var _0x3435ac=_0x16df51[_0x1c791c(0x192)];if(!a363_0x1765ed[_0x1c791c(0x187)](_0x3435ac)){var _0x3852df=a363_0x1765ed[_0x1c791c(0x166)](_0x3435ac,_0x1ad6fb,defaultDistanceDisplayCondition,distanceDisplayConditionScratch);!a363_0x3bee96[_0x1c791c(0x1ac)](_0x3852df,_0x1745eb[_0x1c791c(0x16d)])&&(_0x1745eb[_0x1c791c(0x16d)]=a363_0x3bee96[_0x1c791c(0x1a6)](_0x3852df,_0x1745eb['_lastDistanceDisplayCondition']),_0x1745eb['distanceDisplayCondition']=a363_0x41e375[_0x1c791c(0x169)](_0x3852df,_0x1745eb['distanceDisplayCondition']));}var _0xaca580=_0x16df51[_0x1c791c(0x18d)];if(!a363_0x1765ed[_0x1c791c(0x187)](_0xaca580)){var _0x592eb1=a363_0x1765ed[_0x1c791c(0x166)](_0xaca580,_0x1ad6fb,defaultOffset,offsetScratch);!a363_0x4c13f5['equals'](_0x592eb1,_0x1745eb[_0x1c791c(0x17c)])&&(_0x1745eb['_lastOffset']=a363_0x4c13f5[_0x1c791c(0x1a6)](_0x592eb1,_0x1745eb[_0x1c791c(0x17c)]),_0x1745eb[_0x1c791c(0x196)]=a363_0x3f7fa8[_0x1c791c(0x169)](_0x592eb1,_0x1745eb[_0x1c791c(0x196)]));}}this[_0x1c791c(0x174)](_0x10a84a),this[_0x1c791c(0x19d)]=![];}else a363_0x2fc86f(_0x10a84a)&&!_0x10a84a['ready']&&(_0x2d4a0d=![]);}return this['itemsToRemove']['length']=_0x424f14,_0x2d4a0d;},Batch[a363_0x5f1b6c(0x182)][a363_0x5f1b6c(0x174)]=function(_0x429faa){var _0x450431=a363_0x5f1b6c,_0x4da7da=this['showsUpdated'][_0x450431(0x193)],_0x505a12=_0x4da7da[_0x450431(0x17a)];for(var _0x296031=0x0;_0x296031<_0x505a12;_0x296031++){var _0x36f61b=_0x4da7da[_0x296031],_0xed218=this['geometry'][_0x450431(0x19f)](_0x36f61b['id']),_0x12056c=this[_0x450431(0x190)][_0x450431(0x19f)](_0xed218['id']['id']);!a363_0x2fc86f(_0x12056c)&&(_0x12056c=_0x429faa[_0x450431(0x1a5)](_0xed218['id']),this[_0x450431(0x190)][_0x450431(0x178)](_0xed218['id']['id'],_0x12056c));var _0x1da13a=_0x36f61b[_0x450431(0x18b)][_0x450431(0x1a0)],_0x58fa62=_0x12056c[_0x450431(0x18f)][0x0]===0x1;_0x1da13a!==_0x58fa62&&(_0x12056c[_0x450431(0x18f)]=a363_0x76785d[_0x450431(0x169)](_0x1da13a,_0x12056c[_0x450431(0x18f)]),_0xed218[_0x450431(0x190)][_0x450431(0x18f)][_0x450431(0x181)][0x0]=_0x12056c[_0x450431(0x18f)][0x0]);}this[_0x450431(0x194)][_0x450431(0x176)]();},Batch[a363_0x5f1b6c(0x182)][a363_0x5f1b6c(0x16f)]=function(_0x11b004){var _0x31543c=a363_0x5f1b6c;return this[_0x31543c(0x17b)][_0x31543c(0x16f)](_0x11b004['id']);},Batch['prototype'][a363_0x5f1b6c(0x1aa)]=function(_0x21ee1e,_0x328bc3){var _0x1dee4a=a363_0x5f1b6c,_0xd50b1a=this[_0x1dee4a(0x17f)];if(!_0xd50b1a[_0x1dee4a(0x198)])return a363_0x41a8e1[_0x1dee4a(0x17e)];var _0x13882d=_0xd50b1a[_0x1dee4a(0x1a5)](_0x21ee1e[_0x1dee4a(0x18b)]);if(!a363_0x2fc86f(_0x13882d)||!a363_0x2fc86f(_0x13882d[_0x1dee4a(0x16c)])||a363_0x2fc86f(_0x13882d[_0x1dee4a(0x18f)])&&_0x13882d[_0x1dee4a(0x18f)][0x0]===0x0)return a363_0x41a8e1[_0x1dee4a(0x19a)];return _0x13882d['boundingSphere'][_0x1dee4a(0x1a6)](_0x328bc3),a363_0x41a8e1[_0x1dee4a(0x180)];},Batch['prototype']['removeAllPrimitives']=function(){var _0x6080d8=a363_0x5f1b6c,_0x57d05c=this[_0x6080d8(0x199)],_0x3e78a9=this[_0x6080d8(0x17f)];a363_0x2fc86f(_0x3e78a9)&&(_0x57d05c[_0x6080d8(0x172)](_0x3e78a9),this[_0x6080d8(0x17f)]=undefined,this['geometry'][_0x6080d8(0x176)](),this[_0x6080d8(0x17b)][_0x6080d8(0x176)]());var _0x3758b8=this[_0x6080d8(0x179)];a363_0x2fc86f(_0x3758b8)&&(_0x57d05c[_0x6080d8(0x172)](_0x3758b8),this[_0x6080d8(0x179)]=undefined);};function StaticOutlineGeometryBatch(_0x118ae6,_0x9c45e2,_0x2e5514){var _0x2c1d8d=a363_0x5f1b6c;this[_0x2c1d8d(0x19c)]=_0x118ae6,this['_scene']=_0x9c45e2,this[_0x2c1d8d(0x1ab)]=_0x2e5514,this[_0x2c1d8d(0x186)]=new a363_0x5642d0(),this[_0x2c1d8d(0x18c)]=new a363_0x5642d0();}StaticOutlineGeometryBatch['prototype'][a363_0x5f1b6c(0x19b)]=function(_0x1a2404,_0x3b4ff7){var _0xe28c27=a363_0x5f1b6c,_0x543aaa=_0x3b4ff7[_0xe28c27(0x185)](_0x1a2404),_0x28eda1=this['_scene'][_0xe28c27(0x195)](_0x3b4ff7[_0xe28c27(0x173)]),_0xa1426c,_0x2f74f;_0x543aaa['attributes'][_0xe28c27(0x167)][_0xe28c27(0x181)][0x3]===0xff?(_0xa1426c=this[_0xe28c27(0x186)],_0x2f74f=_0xa1426c[_0xe28c27(0x19f)](_0x28eda1),!a363_0x2fc86f(_0x2f74f)&&(_0x2f74f=new Batch(this[_0xe28c27(0x19c)],![],_0x28eda1,this[_0xe28c27(0x1ab)]),_0xa1426c['set'](_0x28eda1,_0x2f74f)),_0x2f74f['add'](_0x3b4ff7,_0x543aaa)):(_0xa1426c=this[_0xe28c27(0x18c)],_0x2f74f=_0xa1426c[_0xe28c27(0x19f)](_0x28eda1),!a363_0x2fc86f(_0x2f74f)&&(_0x2f74f=new Batch(this[_0xe28c27(0x19c)],!![],_0x28eda1,this[_0xe28c27(0x1ab)]),_0xa1426c[_0xe28c27(0x178)](_0x28eda1,_0x2f74f)),_0x2f74f[_0xe28c27(0x19b)](_0x3b4ff7,_0x543aaa));},StaticOutlineGeometryBatch[a363_0x5f1b6c(0x182)]['remove']=function(_0x44b28f){var _0x433eb7=a363_0x5f1b6c,_0x1e1136,_0xa5fffd=this[_0x433eb7(0x186)][_0x433eb7(0x193)],_0x6b76b=_0xa5fffd[_0x433eb7(0x17a)];for(_0x1e1136=0x0;_0x1e1136<_0x6b76b;_0x1e1136++){if(_0xa5fffd[_0x1e1136]['remove'](_0x44b28f))return;}var _0x4f304c=this[_0x433eb7(0x18c)][_0x433eb7(0x193)],_0x13e1ca=_0x4f304c[_0x433eb7(0x17a)];for(_0x1e1136=0x0;_0x1e1136<_0x13e1ca;_0x1e1136++){if(_0x4f304c[_0x1e1136][_0x433eb7(0x172)](_0x44b28f))return;}},StaticOutlineGeometryBatch[a363_0x5f1b6c(0x182)][a363_0x5f1b6c(0x171)]=function(_0x237267){var _0x77e05e=a363_0x5f1b6c,_0xc867da,_0x49821d,_0x30b32e,_0x346d20,_0x208592=this[_0x77e05e(0x186)][_0x77e05e(0x193)],_0x1126ce=_0x208592[_0x77e05e(0x17a)],_0x4fbefb=this['_translucentBatches']['values'],_0xea0b6d=_0x4fbefb[_0x77e05e(0x17a)],_0x4d43ba,_0x711a39=!![],_0x3e6b6f=![];do{_0x3e6b6f=![];for(_0x49821d=0x0;_0x49821d<_0x1126ce;_0x49821d++){_0x346d20=_0x208592[_0x49821d],_0x711a39=_0x346d20[_0x77e05e(0x171)](_0x237267),_0x4d43ba=_0x346d20[_0x77e05e(0x183)];var _0xbf83eb=_0x4d43ba['length'];if(_0xbf83eb>0x0){_0x3e6b6f=!![];for(_0xc867da=0x0;_0xc867da<_0xbf83eb;_0xc867da++){_0x30b32e=_0x4d43ba[_0xc867da],_0x346d20[_0x77e05e(0x172)](_0x30b32e),this[_0x77e05e(0x19b)](_0x237267,_0x30b32e);}}}for(_0x49821d=0x0;_0x49821d<_0xea0b6d;_0x49821d++){_0x346d20=_0x4fbefb[_0x49821d],_0x711a39=_0x346d20[_0x77e05e(0x171)](_0x237267),_0x4d43ba=_0x346d20[_0x77e05e(0x183)];var _0x1b9921=_0x4d43ba[_0x77e05e(0x17a)];if(_0x1b9921>0x0){_0x3e6b6f=!![];for(_0xc867da=0x0;_0xc867da<_0x1b9921;_0xc867da++){_0x30b32e=_0x4d43ba[_0xc867da],_0x346d20['remove'](_0x30b32e),this[_0x77e05e(0x19b)](_0x237267,_0x30b32e);}}}}while(_0x3e6b6f);return _0x711a39;},StaticOutlineGeometryBatch['prototype']['getBoundingSphere']=function(_0xf28452,_0x1564b5){var _0x212890=a363_0x5f1b6c,_0x18f2fa,_0x147f67=this[_0x212890(0x186)][_0x212890(0x193)],_0x38aecd=_0x147f67[_0x212890(0x17a)];for(_0x18f2fa=0x0;_0x18f2fa<_0x38aecd;_0x18f2fa++){var _0x315d5e=_0x147f67[_0x18f2fa];if(_0x315d5e[_0x212890(0x16f)](_0xf28452))return _0x315d5e['getBoundingSphere'](_0xf28452,_0x1564b5);}var _0x2718c7=this['_translucentBatches'][_0x212890(0x193)],_0x303e43=_0x2718c7[_0x212890(0x17a)];for(_0x18f2fa=0x0;_0x18f2fa<_0x303e43;_0x18f2fa++){var _0xfe35d6=_0x2718c7[_0x18f2fa];if(_0xfe35d6['contains'](_0xf28452))return _0xfe35d6[_0x212890(0x1aa)](_0xf28452,_0x1564b5);}return a363_0x41a8e1[_0x212890(0x19a)];},StaticOutlineGeometryBatch[a363_0x5f1b6c(0x182)][a363_0x5f1b6c(0x18e)]=function(){var _0x1c005c=a363_0x5f1b6c,_0x20ba6b,_0x3dc5ad=this['_solidBatches'][_0x1c005c(0x193)],_0x38420c=_0x3dc5ad[_0x1c005c(0x17a)];for(_0x20ba6b=0x0;_0x20ba6b<_0x38420c;_0x20ba6b++){_0x3dc5ad[_0x20ba6b][_0x1c005c(0x18e)]();}var _0x1d881f=this[_0x1c005c(0x18c)][_0x1c005c(0x193)],_0xfe18d5=_0x1d881f[_0x1c005c(0x17a)];for(_0x20ba6b=0x0;_0x20ba6b<_0xfe18d5;_0x20ba6b++){_0x1d881f[_0x20ba6b][_0x1c005c(0x18e)]();}};export default StaticOutlineGeometryBatch;