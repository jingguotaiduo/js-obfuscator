var a366_0x41216e=a366_0x1e37;(function(_0x202a3d,_0x268aa3){var _0x37c3ad=a366_0x1e37,_0x570380=_0x202a3d();while(!![]){try{var _0x3dcc1d=parseInt(_0x37c3ad(0x137))/0x1*(-parseInt(_0x37c3ad(0x15c))/0x2)+parseInt(_0x37c3ad(0x13f))/0x3*(parseInt(_0x37c3ad(0x14e))/0x4)+parseInt(_0x37c3ad(0x139))/0x5*(-parseInt(_0x37c3ad(0x150))/0x6)+-parseInt(_0x37c3ad(0x143))/0x7+parseInt(_0x37c3ad(0x136))/0x8*(-parseInt(_0x37c3ad(0x162))/0x9)+parseInt(_0x37c3ad(0x157))/0xa+parseInt(_0x37c3ad(0x13c))/0xb;if(_0x3dcc1d===_0x268aa3)break;else _0x570380['push'](_0x570380['shift']());}catch(_0x7532a3){_0x570380['push'](_0x570380['shift']());}}}(a366_0x1202,0x56dd8));import a366_0x257608 from'../Core/Cartesian3.js';function a366_0x1202(){var _0x26b9e5=['162ehnoiO','_removeModeListener','equals','getValue','SCENE3D','232752AfvsXA','7477WBDPMm','_positionProperty','1135CnHWLF','_definitionChanged','cartesianToCartographic','12387507dMhTHR','multiplyByScalar','_extrudedHeightReference','19779ewrDaD','ZERO','globe','raiseEvent','4552660rVvVIB','MINIMUM_VALUE','NONE','positionProperty','_cartographicPosition','_removeEventListener','isDestroyed','_updateClamping','_scene','isConstant','geodeticSurfaceNormal','212QwIRTD','_position','2922mgkXMM','addEventListener','EPSILON10','_terrainHeight','_removeCallbackFunc','height','getValueOrDefault','6957220KlUdyt','morphComplete','defined','updateHeight','prototype','142ixarGJ','getHeight','equalsEpsilon','_normal','clone','ellipsoid'];a366_0x1202=function(){return _0x26b9e5;};return a366_0x1202();}import a366_0x243793 from'../Core/Cartographic.js';import a366_0x234a32 from'../Core/Check.js';import a366_0x1a8456 from'../Core/defined.js';import a366_0x598334 from'../Core/destroyObject.js';import a366_0x190b58 from'../Core/Event.js';import a366_0x82f01e from'../Core/Iso8601.js';import a366_0x557a09 from'../Core/Math.js';import a366_0x8c7569 from'../Scene/HeightReference.js';import a366_0x3e9f3d from'../Scene/SceneMode.js';import a366_0x440eb9 from'./Property.js';var scratchPosition=new a366_0x257608(),scratchCarto=new a366_0x243793();function a366_0x1e37(_0x117f2c,_0x4e0891){var _0x120215=a366_0x1202();return a366_0x1e37=function(_0x1e37f5,_0x3b68c0){_0x1e37f5=_0x1e37f5-0x133;var _0x3560d9=_0x120215[_0x1e37f5];return _0x3560d9;},a366_0x1e37(_0x117f2c,_0x4e0891);}function TerrainOffsetProperty(_0x40388c,_0x5689a4,_0x3450fa,_0x467310){var _0x355701=a366_0x1e37;a366_0x234a32[_0x355701(0x159)]('scene',_0x40388c),a366_0x234a32[_0x355701(0x159)](_0x355701(0x146),_0x5689a4),this[_0x355701(0x14b)]=_0x40388c,this['_heightReference']=_0x3450fa,this[_0x355701(0x13e)]=_0x467310,this[_0x355701(0x138)]=_0x5689a4,this[_0x355701(0x14f)]=new a366_0x257608(),this[_0x355701(0x147)]=new a366_0x243793(),this[_0x355701(0x15f)]=new a366_0x257608(),this[_0x355701(0x13a)]=new a366_0x190b58(),this[_0x355701(0x153)]=0x0,this[_0x355701(0x154)]=undefined,this[_0x355701(0x148)]=undefined,this[_0x355701(0x163)]=undefined;var _0x3e72dc=this;a366_0x1a8456(_0x40388c[_0x355701(0x141)])&&(this[_0x355701(0x148)]=_0x40388c['terrainProviderChanged'][_0x355701(0x151)](function(){var _0xe3c223=_0x355701;_0x3e72dc[_0xe3c223(0x14a)]();}),this[_0x355701(0x163)]=_0x40388c[_0x355701(0x158)][_0x355701(0x151)](function(){var _0x29816b=_0x355701;_0x3e72dc[_0x29816b(0x14a)]();}));if(_0x5689a4[_0x355701(0x14c)]){var _0xbcd962=_0x5689a4[_0x355701(0x134)](a366_0x82f01e[_0x355701(0x144)],scratchPosition);if(!a366_0x1a8456(_0xbcd962)||a366_0x257608[_0x355701(0x133)](_0xbcd962,a366_0x257608[_0x355701(0x140)])||!a366_0x1a8456(_0x40388c['globe']))return;this[_0x355701(0x14f)]=a366_0x257608[_0x355701(0x160)](_0xbcd962,this[_0x355701(0x14f)]),this['_updateClamping'](),this[_0x355701(0x15f)]=_0x40388c[_0x355701(0x141)][_0x355701(0x161)]['geodeticSurfaceNormal'](_0xbcd962,this['_normal']);}}Object['defineProperties'](TerrainOffsetProperty[a366_0x41216e(0x15b)],{'isConstant':{'get':function(){return![];}},'definitionChanged':{'get':function(){var _0x451d85=a366_0x41216e;return this[_0x451d85(0x13a)];}}}),TerrainOffsetProperty[a366_0x41216e(0x15b)][a366_0x41216e(0x14a)]=function(){var _0x3f11aa=a366_0x41216e;a366_0x1a8456(this[_0x3f11aa(0x154)])&&this[_0x3f11aa(0x154)]();var _0x4b60c1=this[_0x3f11aa(0x14b)],_0x89b82c=_0x4b60c1['globe'],_0x3bdfdd=this[_0x3f11aa(0x14f)];if(!a366_0x1a8456(_0x89b82c)||a366_0x257608[_0x3f11aa(0x133)](_0x3bdfdd,a366_0x257608['ZERO'])){this['_terrainHeight']=0x0;return;}var _0x1944e3=_0x89b82c[_0x3f11aa(0x161)],_0x2cbbe6=_0x89b82c['_surface'],_0x299f12=this,_0x1b6265=_0x1944e3[_0x3f11aa(0x13b)](_0x3bdfdd,this['_cartographicPosition']),_0x4f57fe=_0x89b82c[_0x3f11aa(0x15d)](_0x1b6265);a366_0x1a8456(_0x4f57fe)?this[_0x3f11aa(0x153)]=_0x4f57fe:this[_0x3f11aa(0x153)]=0x0;function _0x297ed5(_0xbcfab9){var _0x361608=_0x3f11aa;if(_0x4b60c1['mode']===a366_0x3e9f3d[_0x361608(0x135)]){var _0x2e181f=_0x1944e3[_0x361608(0x13b)](_0xbcfab9,scratchCarto);_0x299f12[_0x361608(0x153)]=_0x2e181f[_0x361608(0x155)];}else _0x299f12['_terrainHeight']=_0xbcfab9['x'];_0x299f12['definitionChanged'][_0x361608(0x142)]();}this[_0x3f11aa(0x154)]=_0x2cbbe6[_0x3f11aa(0x15a)](_0x1b6265,_0x297ed5);},TerrainOffsetProperty[a366_0x41216e(0x15b)][a366_0x41216e(0x134)]=function(_0x7c5cba,_0x593279){var _0x5850e7=a366_0x41216e,_0x11a4e8=a366_0x440eb9[_0x5850e7(0x156)](this['_heightReference'],_0x7c5cba,a366_0x8c7569[_0x5850e7(0x145)]),_0x4f68e0=a366_0x440eb9[_0x5850e7(0x156)](this[_0x5850e7(0x13e)],_0x7c5cba,a366_0x8c7569[_0x5850e7(0x145)]);if(_0x11a4e8===a366_0x8c7569[_0x5850e7(0x145)]&&_0x4f68e0!==a366_0x8c7569['RELATIVE_TO_GROUND'])return this[_0x5850e7(0x14f)]=a366_0x257608[_0x5850e7(0x160)](a366_0x257608[_0x5850e7(0x140)],this[_0x5850e7(0x14f)]),a366_0x257608[_0x5850e7(0x160)](a366_0x257608['ZERO'],_0x593279);if(this['_positionProperty']['isConstant'])return a366_0x257608[_0x5850e7(0x13d)](this['_normal'],this[_0x5850e7(0x153)],_0x593279);var _0x452f3c=this['_scene'],_0x51e06d=this[_0x5850e7(0x138)]['getValue'](_0x7c5cba,scratchPosition);if(!a366_0x1a8456(_0x51e06d)||a366_0x257608[_0x5850e7(0x133)](_0x51e06d,a366_0x257608['ZERO'])||!a366_0x1a8456(_0x452f3c[_0x5850e7(0x141)]))return a366_0x257608['clone'](a366_0x257608[_0x5850e7(0x140)],_0x593279);if(a366_0x257608[_0x5850e7(0x15e)](this[_0x5850e7(0x14f)],_0x51e06d,a366_0x557a09[_0x5850e7(0x152)]))return a366_0x257608['multiplyByScalar'](this[_0x5850e7(0x15f)],this[_0x5850e7(0x153)],_0x593279);this[_0x5850e7(0x14f)]=a366_0x257608[_0x5850e7(0x160)](_0x51e06d,this[_0x5850e7(0x14f)]),this[_0x5850e7(0x14a)]();var _0x4dcf4d=_0x452f3c[_0x5850e7(0x141)][_0x5850e7(0x161)][_0x5850e7(0x14d)](_0x51e06d,this[_0x5850e7(0x15f)]);return a366_0x257608['multiplyByScalar'](_0x4dcf4d,this['_terrainHeight'],_0x593279);},TerrainOffsetProperty[a366_0x41216e(0x15b)][a366_0x41216e(0x149)]=function(){return![];},TerrainOffsetProperty[a366_0x41216e(0x15b)]['destroy']=function(){var _0x7cd566=a366_0x41216e;return a366_0x1a8456(this[_0x7cd566(0x148)])&&this[_0x7cd566(0x148)](),a366_0x1a8456(this[_0x7cd566(0x163)])&&this[_0x7cd566(0x163)](),a366_0x1a8456(this[_0x7cd566(0x154)])&&this['_removeCallbackFunc'](),a366_0x598334(this);};export default TerrainOffsetProperty;