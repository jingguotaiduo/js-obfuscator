var a343_0x9830e1=a343_0x75ab;function a343_0x49aa(){var _0x5d44a3=['destroy','29036781OCFeOv','1779280GhGtvL','_primitives','_subscriptions','add','collectionChanged','entity','push','getValue','8060Uewoig','shadowsProperty','isDynamic','fillEnabled','removeEventListener','removeAll','clone','2105OaRIbN','length','_addedObjects','_changedObjects','_onCollectionChanged','FAILED','prototype','_materialBatches','geometryChanged','defined','get','values','NUMBER_OF_SHADOW_MODES','isDestroyed','_batches','203OcMjIK','662443IIkfhk','DONE','_scene','remove','_groundBatches','_entityCollection','1465072vQtYjb','_dynamicBatch','_removedObjects','update','time','_colorBatches','_updaters','NUMBER_OF_CLASSIFICATION_TYPES','depthFailMaterialProperty','_onGeometryChanged','set','getBoundingSphere','73026tmCIdU','1557060eDabFd','result','clampToGround','entityCollection'];a343_0x49aa=function(){return _0x5d44a3;};return a343_0x49aa();}(function(_0x37b53a,_0x4d0c37){var _0x6ee446=a343_0x75ab,_0x507b77=_0x37b53a();while(!![]){try{var _0x25e9c1=-parseInt(_0x6ee446(0x16c))/0x1+-parseInt(_0x6ee446(0x185))/0x2+-parseInt(_0x6ee446(0x17f))/0x3+parseInt(_0x6ee446(0x18d))/0x4*(-parseInt(_0x6ee446(0x194))/0x5)+parseInt(_0x6ee446(0x17e))/0x6*(parseInt(_0x6ee446(0x16b))/0x7)+-parseInt(_0x6ee446(0x172))/0x8+parseInt(_0x6ee446(0x184))/0x9;if(_0x25e9c1===_0x4d0c37)break;else _0x507b77['push'](_0x507b77['shift']());}catch(_0x1e0b4f){_0x507b77['push'](_0x507b77['shift']());}}}(a343_0x49aa,0x7462c));import a343_0x3498d8 from'../Core/AssociativeArray.js';import a343_0x286e21 from'../Core/BoundingSphere.js';function a343_0x75ab(_0x3c2249,_0xaa8259){var _0x49aa24=a343_0x49aa();return a343_0x75ab=function(_0x75ab43,_0x4e3c6c){_0x75ab43=_0x75ab43-0x168;var _0x472187=_0x49aa24[_0x75ab43];return _0x472187;},a343_0x75ab(_0x3c2249,_0xaa8259);}import a343_0x236f17 from'../Core/Check.js';import a343_0x54a126 from'../Core/defaultValue.js';import a343_0x40aa46 from'../Core/defined.js';import a343_0x323ed5 from'../Core/destroyObject.js';import a343_0x3d8ede from'../Scene/ClassificationType.js';import a343_0xcbb648 from'../Scene/PolylineColorAppearance.js';import a343_0x5df937 from'../Scene/PolylineMaterialAppearance.js';import a343_0x523a7e from'../Scene/ShadowMode.js';import a343_0x1f201c from'./BoundingSphereState.js';import a343_0x9a298a from'./ColorMaterialProperty.js';import a343_0x3d6b2e from'./DynamicGeometryBatch.js';import a343_0x1a755b from'./PolylineGeometryUpdater.js';import a343_0x28829a from'./StaticGeometryColorBatch.js';import a343_0x3b3d1b from'./StaticGeometryPerMaterialBatch.js';import a343_0x3a4c2f from'./StaticGroundPolylinePerMaterialBatch.js';var emptyArray=[];function removeUpdater(_0xbea66b,_0xa6fa27){var _0x338cde=a343_0x75ab,_0x2204f7=_0xbea66b[_0x338cde(0x16a)],_0x1a3213=_0x2204f7[_0x338cde(0x195)];for(var _0x41b238=0x0;_0x41b238<_0x1a3213;_0x41b238++){_0x2204f7[_0x41b238][_0x338cde(0x16f)](_0xa6fa27);}}function insertUpdaterIntoBatch(_0x1b8606,_0x44899d,_0xec78a8){var _0x56dbdf=a343_0x75ab;if(_0xec78a8[_0x56dbdf(0x18f)]){_0x1b8606[_0x56dbdf(0x173)][_0x56dbdf(0x188)](_0x44899d,_0xec78a8);return;}if(_0xec78a8[_0x56dbdf(0x181)]&&_0xec78a8[_0x56dbdf(0x190)]){var _0x1e6afd=_0xec78a8['classificationTypeProperty'][_0x56dbdf(0x18c)](_0x44899d);_0x1b8606[_0x56dbdf(0x170)][_0x1e6afd][_0x56dbdf(0x188)](_0x44899d,_0xec78a8);return;}var _0x32e759;_0xec78a8[_0x56dbdf(0x190)]&&(_0x32e759=_0xec78a8[_0x56dbdf(0x18e)][_0x56dbdf(0x18c)](_0x44899d));var _0x246229=0x0;a343_0x40aa46(_0xec78a8[_0x56dbdf(0x17a)])&&(_0x246229=_0xec78a8[_0x56dbdf(0x17a)]instanceof a343_0x9a298a?0x1:0x2);var _0x10650c;a343_0x40aa46(_0x32e759)&&(_0x10650c=_0x32e759+_0x246229*a343_0x523a7e[_0x56dbdf(0x168)]),_0xec78a8[_0x56dbdf(0x190)]&&(_0xec78a8['fillMaterialProperty']instanceof a343_0x9a298a?_0x1b8606['_colorBatches'][_0x10650c][_0x56dbdf(0x188)](_0x44899d,_0xec78a8):_0x1b8606[_0x56dbdf(0x19b)][_0x10650c][_0x56dbdf(0x188)](_0x44899d,_0xec78a8));}function PolylineVisualizer(_0x2d48e6,_0x168e61,_0x383b66,_0x47c740){var _0x5f52eb=a343_0x75ab;a343_0x236f17[_0x5f52eb(0x19d)]('scene',_0x2d48e6),a343_0x236f17[_0x5f52eb(0x19d)](_0x5f52eb(0x182),_0x168e61),_0x47c740=a343_0x54a126(_0x47c740,_0x2d48e6['groundPrimitives']),_0x383b66=a343_0x54a126(_0x383b66,_0x2d48e6['primitives']),this[_0x5f52eb(0x16e)]=_0x2d48e6,this[_0x5f52eb(0x186)]=_0x383b66,this[_0x5f52eb(0x171)]=undefined,this[_0x5f52eb(0x196)]=new a343_0x3498d8(),this['_removedObjects']=new a343_0x3498d8(),this[_0x5f52eb(0x197)]=new a343_0x3498d8();var _0x139cc3,_0x26bccf=a343_0x523a7e[_0x5f52eb(0x168)];this[_0x5f52eb(0x177)]=new Array(_0x26bccf*0x3),this[_0x5f52eb(0x19b)]=new Array(_0x26bccf*0x3);for(_0x139cc3=0x0;_0x139cc3<_0x26bccf;++_0x139cc3){this[_0x5f52eb(0x177)][_0x139cc3]=new a343_0x28829a(_0x383b66,a343_0xcbb648,undefined,![],_0x139cc3),this[_0x5f52eb(0x19b)][_0x139cc3]=new a343_0x3b3d1b(_0x383b66,a343_0x5df937,undefined,![],_0x139cc3),this['_colorBatches'][_0x139cc3+_0x26bccf]=new a343_0x28829a(_0x383b66,a343_0xcbb648,a343_0xcbb648,![],_0x139cc3),this['_materialBatches'][_0x139cc3+_0x26bccf]=new a343_0x3b3d1b(_0x383b66,a343_0x5df937,a343_0xcbb648,![],_0x139cc3),this[_0x5f52eb(0x177)][_0x139cc3+_0x26bccf*0x2]=new a343_0x28829a(_0x383b66,a343_0xcbb648,a343_0x5df937,![],_0x139cc3),this[_0x5f52eb(0x19b)][_0x139cc3+_0x26bccf*0x2]=new a343_0x3b3d1b(_0x383b66,a343_0x5df937,a343_0x5df937,![],_0x139cc3);}this[_0x5f52eb(0x173)]=new a343_0x3d6b2e(_0x383b66,_0x47c740);var _0x196435=a343_0x3d8ede[_0x5f52eb(0x179)];this['_groundBatches']=new Array(_0x196435);for(_0x139cc3=0x0;_0x139cc3<_0x196435;++_0x139cc3){this[_0x5f52eb(0x170)][_0x139cc3]=new a343_0x3a4c2f(_0x47c740,_0x139cc3);}this[_0x5f52eb(0x16a)]=this['_colorBatches']['concat'](this[_0x5f52eb(0x19b)],this[_0x5f52eb(0x173)],this['_groundBatches']),this[_0x5f52eb(0x187)]=new a343_0x3498d8(),this[_0x5f52eb(0x178)]=new a343_0x3498d8(),this[_0x5f52eb(0x171)]=_0x168e61,_0x168e61[_0x5f52eb(0x189)]['addEventListener'](PolylineVisualizer[_0x5f52eb(0x19a)][_0x5f52eb(0x198)],this),this[_0x5f52eb(0x198)](_0x168e61,_0x168e61['values'],emptyArray);}PolylineVisualizer[a343_0x9830e1(0x19a)]['update']=function(_0x45237f){var _0x589bc7=a343_0x9830e1;a343_0x236f17[_0x589bc7(0x19d)](_0x589bc7(0x176),_0x45237f);var _0x2ecdc8=this[_0x589bc7(0x196)],_0x4efd8a=_0x2ecdc8[_0x589bc7(0x19f)],_0xd6880e=this[_0x589bc7(0x174)],_0x58182f=_0xd6880e[_0x589bc7(0x19f)],_0x26f718=this[_0x589bc7(0x197)],_0x73b51e=_0x26f718[_0x589bc7(0x19f)],_0x4210cf,_0x27c5b7,_0xd71693,_0x148938;for(_0x4210cf=_0x73b51e[_0x589bc7(0x195)]-0x1;_0x4210cf>-0x1;_0x4210cf--){_0x27c5b7=_0x73b51e[_0x4210cf],_0xd71693=_0x27c5b7['id'],_0x148938=this['_updaters'][_0x589bc7(0x19e)](_0xd71693),_0x148938[_0x589bc7(0x18a)]===_0x27c5b7?(removeUpdater(this,_0x148938),insertUpdaterIntoBatch(this,_0x45237f,_0x148938)):(_0x58182f['push'](_0x27c5b7),_0x4efd8a[_0x589bc7(0x18b)](_0x27c5b7));}for(_0x4210cf=_0x58182f[_0x589bc7(0x195)]-0x1;_0x4210cf>-0x1;_0x4210cf--){_0x27c5b7=_0x58182f[_0x4210cf],_0xd71693=_0x27c5b7['id'],_0x148938=this['_updaters']['get'](_0xd71693),removeUpdater(this,_0x148938),_0x148938[_0x589bc7(0x183)](),this['_updaters'][_0x589bc7(0x16f)](_0xd71693),this[_0x589bc7(0x187)]['get'](_0xd71693)(),this[_0x589bc7(0x187)][_0x589bc7(0x16f)](_0xd71693);}for(_0x4210cf=_0x4efd8a[_0x589bc7(0x195)]-0x1;_0x4210cf>-0x1;_0x4210cf--){_0x27c5b7=_0x4efd8a[_0x4210cf],_0xd71693=_0x27c5b7['id'],_0x148938=new a343_0x1a755b(_0x27c5b7,this['_scene']),this[_0x589bc7(0x178)][_0x589bc7(0x17c)](_0xd71693,_0x148938),insertUpdaterIntoBatch(this,_0x45237f,_0x148938),this[_0x589bc7(0x187)]['set'](_0xd71693,_0x148938[_0x589bc7(0x19c)]['addEventListener'](PolylineVisualizer['_onGeometryChanged'],this));}_0x2ecdc8[_0x589bc7(0x192)](),_0xd6880e[_0x589bc7(0x192)](),_0x26f718[_0x589bc7(0x192)]();var _0x5d824a=!![],_0x279ca0=this[_0x589bc7(0x16a)],_0x53b458=_0x279ca0['length'];for(_0x4210cf=0x0;_0x4210cf<_0x53b458;_0x4210cf++){_0x5d824a=_0x279ca0[_0x4210cf][_0x589bc7(0x175)](_0x45237f)&&_0x5d824a;}return _0x5d824a;};var getBoundingSphereArrayScratch=[],getBoundingSphereBoundingSphereScratch=new a343_0x286e21();PolylineVisualizer['prototype']['getBoundingSphere']=function(_0xf7ee78,_0x28fdd5){var _0x1f9703=a343_0x9830e1;a343_0x236f17[_0x1f9703(0x19d)](_0x1f9703(0x18a),_0xf7ee78),a343_0x236f17['defined'](_0x1f9703(0x180),_0x28fdd5);var _0x173119=getBoundingSphereArrayScratch,_0x421b64=getBoundingSphereBoundingSphereScratch,_0x3cde32=0x0,_0x12b8d7=a343_0x1f201c[_0x1f9703(0x16d)],_0x76504f=this[_0x1f9703(0x16a)],_0x54e991=_0x76504f[_0x1f9703(0x195)],_0x24be65=this['_updaters'][_0x1f9703(0x19e)](_0xf7ee78['id']);for(var _0x4a996f=0x0;_0x4a996f<_0x54e991;_0x4a996f++){_0x12b8d7=_0x76504f[_0x4a996f][_0x1f9703(0x17d)](_0x24be65,_0x421b64);if(_0x12b8d7===a343_0x1f201c['PENDING'])return a343_0x1f201c['PENDING'];else _0x12b8d7===a343_0x1f201c[_0x1f9703(0x16d)]&&(_0x173119[_0x3cde32]=a343_0x286e21[_0x1f9703(0x193)](_0x421b64,_0x173119[_0x3cde32]),_0x3cde32++);}if(_0x3cde32===0x0)return a343_0x1f201c[_0x1f9703(0x199)];return _0x173119[_0x1f9703(0x195)]=_0x3cde32,a343_0x286e21['fromBoundingSpheres'](_0x173119,_0x28fdd5),a343_0x1f201c['DONE'];},PolylineVisualizer[a343_0x9830e1(0x19a)][a343_0x9830e1(0x169)]=function(){return![];},PolylineVisualizer[a343_0x9830e1(0x19a)][a343_0x9830e1(0x183)]=function(){var _0x2d58a9=a343_0x9830e1;this[_0x2d58a9(0x171)][_0x2d58a9(0x189)][_0x2d58a9(0x191)](PolylineVisualizer[_0x2d58a9(0x19a)][_0x2d58a9(0x198)],this),this[_0x2d58a9(0x196)][_0x2d58a9(0x192)](),this[_0x2d58a9(0x174)][_0x2d58a9(0x192)]();var _0x54d7a6,_0x40bc4c=this[_0x2d58a9(0x16a)],_0x1aa76e=_0x40bc4c['length'];for(_0x54d7a6=0x0;_0x54d7a6<_0x1aa76e;_0x54d7a6++){_0x40bc4c[_0x54d7a6]['removeAllPrimitives']();}var _0x39146f=this[_0x2d58a9(0x187)][_0x2d58a9(0x19f)];_0x1aa76e=_0x39146f[_0x2d58a9(0x195)];for(_0x54d7a6=0x0;_0x54d7a6<_0x1aa76e;_0x54d7a6++){_0x39146f[_0x54d7a6]();}return this[_0x2d58a9(0x187)]['removeAll'](),a343_0x323ed5(this);},PolylineVisualizer[a343_0x9830e1(0x17b)]=function(_0xeeccad){var _0x2b1c5f=a343_0x9830e1,_0x201d8c=this[_0x2b1c5f(0x174)],_0x1f5ef2=this[_0x2b1c5f(0x197)],_0x3ad21e=_0xeeccad['entity'],_0x49f070=_0x3ad21e['id'];!a343_0x40aa46(_0x201d8c[_0x2b1c5f(0x19e)](_0x49f070))&&!a343_0x40aa46(_0x1f5ef2[_0x2b1c5f(0x19e)](_0x49f070))&&_0x1f5ef2[_0x2b1c5f(0x17c)](_0x49f070,_0x3ad21e);},PolylineVisualizer['prototype'][a343_0x9830e1(0x198)]=function(_0x34e066,_0x354c4e,_0xc96e4f){var _0x2d860c=a343_0x9830e1,_0x3de35d=this[_0x2d860c(0x196)],_0x4ec86a=this[_0x2d860c(0x174)],_0x21cd28=this[_0x2d860c(0x197)],_0x3df946,_0x8a1c43,_0x1ba2d5;for(_0x3df946=_0xc96e4f['length']-0x1;_0x3df946>-0x1;_0x3df946--){_0x1ba2d5=_0xc96e4f[_0x3df946],_0x8a1c43=_0x1ba2d5['id'],!_0x3de35d['remove'](_0x8a1c43)&&(_0x4ec86a['set'](_0x8a1c43,_0x1ba2d5),_0x21cd28[_0x2d860c(0x16f)](_0x8a1c43));}for(_0x3df946=_0x354c4e['length']-0x1;_0x3df946>-0x1;_0x3df946--){_0x1ba2d5=_0x354c4e[_0x3df946],_0x8a1c43=_0x1ba2d5['id'],_0x4ec86a['remove'](_0x8a1c43)?_0x21cd28[_0x2d860c(0x17c)](_0x8a1c43,_0x1ba2d5):_0x3de35d['set'](_0x8a1c43,_0x1ba2d5);}};export default PolylineVisualizer;