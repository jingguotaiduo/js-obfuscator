var a415_0x271dd2=a415_0x34f2;(function(_0x2c3082,_0x5d0ab9){var _0x4f8892=a415_0x34f2,_0x658ffa=_0x2c3082();while(!![]){try{var _0x4620b1=-parseInt(_0x4f8892(0xc9))/0x1+-parseInt(_0x4f8892(0xcc))/0x2+-parseInt(_0x4f8892(0xba))/0x3*(-parseInt(_0x4f8892(0xc7))/0x4)+parseInt(_0x4f8892(0xc1))/0x5*(-parseInt(_0x4f8892(0xdc))/0x6)+parseInt(_0x4f8892(0xd2))/0x7+parseInt(_0x4f8892(0xdf))/0x8*(-parseInt(_0x4f8892(0xd4))/0x9)+parseInt(_0x4f8892(0xb9))/0xa;if(_0x4620b1===_0x5d0ab9)break;else _0x658ffa['push'](_0x658ffa['shift']());}catch(_0x2c1edf){_0x658ffa['push'](_0x658ffa['shift']());}}}(a415_0x1ae4,0xf24fe));import a415_0x5c4c0d from'../Core/Check.js';import a415_0x17e0d9 from'../Core/ComponentDatatype.js';import a415_0x2ab702 from'../Core/defaultValue.js';import a415_0x353ab1 from'../Core/defined.js';import a415_0x134585 from'../Core/destroyObject.js';import a415_0x2eb23c from'../Core/DeveloperError.js';import a415_0x53235f from'../Core/Math.js';import a415_0x23ea38 from'./Buffer.js';import a415_0x1ba92e from'./BufferUsage.js';import a415_0x4e9d26 from'./VertexArray.js';function VertexArrayFacade(_0x29afea,_0x4bf4a4,_0x5cd995,_0x512077){var _0x36b7ee=a415_0x34f2;a415_0x5c4c0d[_0x36b7ee(0xb2)](_0x36b7ee(0xcd),_0x29afea);if(!_0x4bf4a4||_0x4bf4a4['length']===0x0)throw new a415_0x2eb23c(_0x36b7ee(0xd5));var _0x337b10=VertexArrayFacade[_0x36b7ee(0xd0)](_0x4bf4a4);_0x5cd995=a415_0x2ab702(_0x5cd995,0x0);var _0x365e26=[],_0x1fd8b3={},_0x57824d,_0x2782f0,_0x5c1b88=_0x337b10[_0x36b7ee(0xc5)];for(var _0x3e9734=0x0;_0x3e9734<_0x5c1b88;++_0x3e9734){var _0x1054f7=_0x337b10[_0x3e9734];if(_0x1054f7['vertexBuffer']){_0x365e26[_0x36b7ee(0xaa)](_0x1054f7);continue;}_0x2782f0=_0x1054f7['usage'],_0x57824d=_0x1fd8b3[_0x2782f0],!a415_0x353ab1(_0x57824d)&&(_0x57824d=_0x1fd8b3[_0x2782f0]=[]),_0x57824d[_0x36b7ee(0xaa)](_0x1054f7);}function _0x2aaf78(_0x1496ca,_0x2ef3d0){var _0x3f2e18=_0x36b7ee;return a415_0x17e0d9['getSizeInBytes'](_0x2ef3d0['componentDatatype'])-a415_0x17e0d9[_0x3f2e18(0xb6)](_0x1496ca[_0x3f2e18(0xb7)]);}this[_0x36b7ee(0xb4)]=[];for(_0x2782f0 in _0x1fd8b3){if(_0x1fd8b3['hasOwnProperty'](_0x2782f0)){_0x57824d=_0x1fd8b3[_0x2782f0],_0x57824d[_0x36b7ee(0xb5)](_0x2aaf78);var _0x531075=VertexArrayFacade[_0x36b7ee(0xe0)](_0x57824d),_0x3d52bf=_0x57824d[0x0]['usage'],_0x476f40={'vertexSizeInBytes':_0x531075,'vertexBuffer':undefined,'usage':_0x3d52bf,'needsCommit':![],'arrayBuffer':undefined,'arrayViews':VertexArrayFacade['_createArrayViews'](_0x57824d,_0x531075)};this[_0x36b7ee(0xb4)][_0x36b7ee(0xaa)](_0x476f40);}}this[_0x36b7ee(0xdb)]=0x0,this[_0x36b7ee(0xcf)]=a415_0x2ab702(_0x512077,![]),this['_precreated']=_0x365e26,this[_0x36b7ee(0xc0)]=_0x29afea,this[_0x36b7ee(0xc6)]=undefined,this['va']=undefined,this['resize'](_0x5cd995);}VertexArrayFacade[a415_0x271dd2(0xd0)]=function(_0x414d38){var _0x5d38d8=a415_0x271dd2,_0x2168e0=[];for(var _0x166646=0x0;_0x166646<_0x414d38[_0x5d38d8(0xc5)];++_0x166646){var _0x1bf932=_0x414d38[_0x166646],_0x2db1aa={'index':a415_0x2ab702(_0x1bf932[_0x5d38d8(0xde)],_0x166646),'enabled':a415_0x2ab702(_0x1bf932[_0x5d38d8(0xe1)],!![]),'componentsPerAttribute':_0x1bf932[_0x5d38d8(0xc8)],'componentDatatype':a415_0x2ab702(_0x1bf932[_0x5d38d8(0xb7)],a415_0x17e0d9['FLOAT']),'normalize':a415_0x2ab702(_0x1bf932[_0x5d38d8(0xb1)],![]),'vertexBuffer':_0x1bf932[_0x5d38d8(0xc2)],'usage':a415_0x2ab702(_0x1bf932[_0x5d38d8(0xac)],a415_0x1ba92e['STATIC_DRAW'])};_0x2168e0[_0x5d38d8(0xaa)](_0x2db1aa);if(_0x2db1aa[_0x5d38d8(0xc8)]!==0x1&&_0x2db1aa['componentsPerAttribute']!==0x2&&_0x2db1aa[_0x5d38d8(0xc8)]!==0x3&&_0x2db1aa[_0x5d38d8(0xc8)]!==0x4)throw new a415_0x2eb23c(_0x5d38d8(0xb0));var _0x1ade37=_0x2db1aa[_0x5d38d8(0xb7)];if(!a415_0x17e0d9['validate'](_0x1ade37))throw new a415_0x2eb23c('Attribute\x20must\x20have\x20a\x20valid\x20componentDatatype\x20or\x20not\x20specify\x20it.');if(!a415_0x1ba92e[_0x5d38d8(0xd8)](_0x2db1aa[_0x5d38d8(0xac)]))throw new a415_0x2eb23c('Attribute\x20must\x20have\x20a\x20valid\x20usage\x20or\x20not\x20specify\x20it.');}var _0x55b86c=new Array(_0x2168e0[_0x5d38d8(0xc5)]);for(var _0x3ed3db=0x0;_0x3ed3db<_0x2168e0[_0x5d38d8(0xc5)];++_0x3ed3db){var _0x59d2f6=_0x2168e0[_0x3ed3db],_0x1643aa=_0x59d2f6[_0x5d38d8(0xde)];if(_0x55b86c[_0x1643aa])throw new a415_0x2eb23c('Index\x20'+_0x1643aa+_0x5d38d8(0xbc));_0x55b86c[_0x1643aa]=!![];}return _0x2168e0;},VertexArrayFacade[a415_0x271dd2(0xe0)]=function(_0x5a3877){var _0x57b73e=a415_0x271dd2,_0x2ca39d=0x0,_0x5a030f=_0x5a3877[_0x57b73e(0xc5)];for(var _0x3a3c1b=0x0;_0x3a3c1b<_0x5a030f;++_0x3a3c1b){var _0x57ae19=_0x5a3877[_0x3a3c1b];_0x2ca39d+=_0x57ae19['componentsPerAttribute']*a415_0x17e0d9[_0x57b73e(0xb6)](_0x57ae19['componentDatatype']);}var _0x54e487=_0x5a030f>0x0?a415_0x17e0d9[_0x57b73e(0xb6)](_0x5a3877[0x0][_0x57b73e(0xb7)]):0x0,_0x22db7d=_0x54e487>0x0?_0x2ca39d%_0x54e487:0x0,_0x381455=_0x22db7d===0x0?0x0:_0x54e487-_0x22db7d;return _0x2ca39d+=_0x381455,_0x2ca39d;},VertexArrayFacade[a415_0x271dd2(0xbd)]=function(_0x1b0b55,_0x176b57){var _0x2c2f39=a415_0x271dd2,_0x46ad67=[],_0x5beec4=0x0,_0x31586c=_0x1b0b55['length'];for(var _0x2dddf3=0x0;_0x2dddf3<_0x31586c;++_0x2dddf3){var _0x5100de=_0x1b0b55[_0x2dddf3],_0xbf845=_0x5100de[_0x2c2f39(0xb7)];_0x46ad67[_0x2c2f39(0xaa)]({'index':_0x5100de[_0x2c2f39(0xde)],'enabled':_0x5100de['enabled'],'componentsPerAttribute':_0x5100de[_0x2c2f39(0xc8)],'componentDatatype':_0xbf845,'normalize':_0x5100de[_0x2c2f39(0xb1)],'offsetInBytes':_0x5beec4,'vertexSizeInComponentType':_0x176b57/a415_0x17e0d9['getSizeInBytes'](_0xbf845),'view':undefined}),_0x5beec4+=_0x5100de[_0x2c2f39(0xc8)]*a415_0x17e0d9[_0x2c2f39(0xb6)](_0xbf845);}return _0x46ad67;},VertexArrayFacade[a415_0x271dd2(0xaf)]['resize']=function(_0x40780b){var _0x140bdf=a415_0x271dd2;this['_size']=_0x40780b;var _0x40d4d9=this[_0x140bdf(0xb4)];this[_0x140bdf(0xc6)]=[];for(var _0x86812=0x0,_0xa35c4c=_0x40d4d9['length'];_0x86812<_0xa35c4c;++_0x86812){var _0x51edcb=_0x40d4d9[_0x86812];VertexArrayFacade['_resize'](_0x51edcb,this[_0x140bdf(0xdb)]),VertexArrayFacade[_0x140bdf(0xbf)](this[_0x140bdf(0xc6)],_0x51edcb);}destroyVA(this);},VertexArrayFacade[a415_0x271dd2(0xd9)]=function(_0x3934eb,_0x336a67){var _0x1f74be=a415_0x271dd2;if(_0x3934eb[_0x1f74be(0xca)]>0x0){var _0x2944bf=new ArrayBuffer(_0x336a67*_0x3934eb['vertexSizeInBytes']);if(a415_0x353ab1(_0x3934eb['arrayBuffer'])){var _0x5d9cd3=new Uint8Array(_0x2944bf),_0x2c83dd=new Uint8Array(_0x3934eb['arrayBuffer']),_0x1fbd74=_0x2c83dd[_0x1f74be(0xc5)];for(var _0x1d5428=0x0;_0x1d5428<_0x1fbd74;++_0x1d5428){_0x5d9cd3[_0x1d5428]=_0x2c83dd[_0x1d5428];}}var _0x2d5afc=_0x3934eb['arrayViews'],_0x53ae60=_0x2d5afc['length'];for(var _0x50290e=0x0;_0x50290e<_0x53ae60;++_0x50290e){var _0x35333e=_0x2d5afc[_0x50290e];_0x35333e[_0x1f74be(0xae)]=a415_0x17e0d9[_0x1f74be(0xd1)](_0x35333e[_0x1f74be(0xb7)],_0x2944bf,_0x35333e[_0x1f74be(0xd3)]);}_0x3934eb[_0x1f74be(0xc4)]=_0x2944bf;}};var createWriters=[function(_0x583ba8,_0x51d702,_0x37aa74){return function(_0xef455c,_0x214488){_0x51d702[_0xef455c*_0x37aa74]=_0x214488,_0x583ba8['needsCommit']=!![];};},function(_0xeee0cc,_0x5f491e,_0x3cbe84){return function(_0x18056f,_0x3ad18f,_0x49ef9f){var _0x48c555=a415_0x34f2,_0xf4305a=_0x18056f*_0x3cbe84;_0x5f491e[_0xf4305a]=_0x3ad18f,_0x5f491e[_0xf4305a+0x1]=_0x49ef9f,_0xeee0cc[_0x48c555(0xdd)]=!![];};},function(_0x4836da,_0x1e745c,_0x2e104a){return function(_0x3ad296,_0x36ef4d,_0x281ee1,_0x4560cb){var _0x46a7b4=a415_0x34f2,_0x163ce8=_0x3ad296*_0x2e104a;_0x1e745c[_0x163ce8]=_0x36ef4d,_0x1e745c[_0x163ce8+0x1]=_0x281ee1,_0x1e745c[_0x163ce8+0x2]=_0x4560cb,_0x4836da[_0x46a7b4(0xdd)]=!![];};},function(_0x2f148f,_0x5e98c1,_0x5e4c5a){return function(_0x3a91ec,_0x4f2949,_0x4ef56d,_0x2a6dc8,_0x3add5b){var _0x4729aa=_0x3a91ec*_0x5e4c5a;_0x5e98c1[_0x4729aa]=_0x4f2949,_0x5e98c1[_0x4729aa+0x1]=_0x4ef56d,_0x5e98c1[_0x4729aa+0x2]=_0x2a6dc8,_0x5e98c1[_0x4729aa+0x3]=_0x3add5b,_0x2f148f['needsCommit']=!![];};}];function a415_0x34f2(_0xf31673,_0x570d26){var _0x1ae481=a415_0x1ae4();return a415_0x34f2=function(_0x34f273,_0x2e0bfc){_0x34f273=_0x34f273-0xa9;var _0x6f468a=_0x1ae481[_0x34f273];return _0x6f468a;},a415_0x34f2(_0xf31673,_0x570d26);}VertexArrayFacade[a415_0x271dd2(0xbf)]=function(_0x3bf41e,_0x343f82){var _0x27dc24=a415_0x271dd2,_0x1af612=_0x343f82[_0x27dc24(0xb8)],_0x2302ea=_0x1af612[_0x27dc24(0xc5)];for(var _0x1324ac=0x0;_0x1324ac<_0x2302ea;++_0x1324ac){var _0x218ccd=_0x1af612[_0x1324ac];_0x3bf41e[_0x218ccd['index']]=createWriters[_0x218ccd['componentsPerAttribute']-0x1](_0x343f82,_0x218ccd[_0x27dc24(0xae)],_0x218ccd['vertexSizeInComponentType']);}},VertexArrayFacade[a415_0x271dd2(0xaf)]['commit']=function(_0x54e835){var _0xf0f453=a415_0x271dd2,_0x14b244=![],_0x591d7f=this[_0xf0f453(0xb4)],_0x3562bd,_0xe8ba5e,_0x3484b4;for(_0xe8ba5e=0x0,_0x3484b4=_0x591d7f[_0xf0f453(0xc5)];_0xe8ba5e<_0x3484b4;++_0xe8ba5e){_0x3562bd=_0x591d7f[_0xe8ba5e],_0x14b244=commit(this,_0x3562bd)||_0x14b244;}if(_0x14b244||!a415_0x353ab1(this['va'])){destroyVA(this);var _0x4a5730=this['va']=[],_0x394e19=a415_0x53235f[_0xf0f453(0xce)]-0x4,_0xc7047d=a415_0x353ab1(_0x54e835)&&!this[_0xf0f453(0xcf)]?Math[_0xf0f453(0xab)](this[_0xf0f453(0xdb)]/_0x394e19):0x1;for(var _0x3d2d83=0x0;_0x3d2d83<_0xc7047d;++_0x3d2d83){var _0x57dab1=[];for(_0xe8ba5e=0x0,_0x3484b4=_0x591d7f[_0xf0f453(0xc5)];_0xe8ba5e<_0x3484b4;++_0xe8ba5e){_0x3562bd=_0x591d7f[_0xe8ba5e];var _0x5088a1=_0x3d2d83*(_0x3562bd[_0xf0f453(0xca)]*_0x394e19);VertexArrayFacade[_0xf0f453(0xb3)](_0x57dab1,_0x3562bd,_0x5088a1,this[_0xf0f453(0xcf)]);}_0x57dab1=_0x57dab1['concat'](this[_0xf0f453(0xcb)]),_0x4a5730[_0xf0f453(0xaa)]({'va':new a415_0x4e9d26({'context':this['_context'],'attributes':_0x57dab1,'indexBuffer':_0x54e835}),'indicesCount':1.5*(_0x3d2d83!==_0xc7047d-0x1?_0x394e19:this['_size']%_0x394e19)});}}};function commit(_0x4e64ce,_0x5d2d5b){var _0x2755e6=a415_0x271dd2;if(_0x5d2d5b[_0x2755e6(0xdd)]&&_0x5d2d5b['vertexSizeInBytes']>0x0){_0x5d2d5b[_0x2755e6(0xdd)]=![];var _0x237743=_0x5d2d5b[_0x2755e6(0xc2)],_0x4c87ae=_0x4e64ce['_size']*_0x5d2d5b[_0x2755e6(0xca)],_0x1543c2=a415_0x353ab1(_0x237743);if(!_0x1543c2||_0x237743['sizeInBytes']<_0x4c87ae)return _0x1543c2&&_0x237743[_0x2755e6(0xad)](),_0x5d2d5b['vertexBuffer']=a415_0x23ea38[_0x2755e6(0xbb)]({'context':_0x4e64ce[_0x2755e6(0xc0)],'typedArray':_0x5d2d5b[_0x2755e6(0xc4)],'usage':_0x5d2d5b[_0x2755e6(0xac)]}),_0x5d2d5b['vertexBuffer'][_0x2755e6(0xc3)]=![],!![];_0x5d2d5b['vertexBuffer']['copyFromArrayView'](_0x5d2d5b[_0x2755e6(0xc4)]);}return![];}VertexArrayFacade['_appendAttributes']=function(_0x28fe4f,_0x139db4,_0x211304,_0x47ee47){var _0x5bae85=a415_0x271dd2,_0x425c1a=_0x139db4['arrayViews'],_0x5b520d=_0x425c1a[_0x5bae85(0xc5)];for(var _0x466ad0=0x0;_0x466ad0<_0x5b520d;++_0x466ad0){var _0x243767=_0x425c1a[_0x466ad0];_0x28fe4f['push']({'index':_0x243767['index'],'enabled':_0x243767[_0x5bae85(0xe1)],'componentsPerAttribute':_0x243767[_0x5bae85(0xc8)],'componentDatatype':_0x243767[_0x5bae85(0xb7)],'normalize':_0x243767[_0x5bae85(0xb1)],'vertexBuffer':_0x139db4[_0x5bae85(0xc2)],'offsetInBytes':_0x211304+_0x243767[_0x5bae85(0xd3)],'strideInBytes':_0x139db4[_0x5bae85(0xca)],'instanceDivisor':_0x47ee47?0x1:0x0});}},VertexArrayFacade['prototype'][a415_0x271dd2(0xda)]=function(_0x34b5ad,_0x118f7f){var _0x11a1c9=a415_0x271dd2;if(_0x34b5ad<0x0||_0x34b5ad>=this[_0x11a1c9(0xdb)])throw new a415_0x2eb23c(_0x11a1c9(0xd6));if(_0x34b5ad+_0x118f7f>this[_0x11a1c9(0xdb)])throw new a415_0x2eb23c('offsetInVertices\x20+\x20lengthInVertices\x20cannot\x20exceed\x20the\x20vertex\x20array\x20size.');var _0x2a64e1=this[_0x11a1c9(0xb4)];for(var _0x4271eb=0x0,_0x268415=_0x2a64e1[_0x11a1c9(0xc5)];_0x4271eb<_0x268415;++_0x4271eb){subCommit(_0x2a64e1[_0x4271eb],_0x34b5ad,_0x118f7f);}};function subCommit(_0x1b6c15,_0x5c1226,_0x4d002e){var _0x349620=a415_0x271dd2;if(_0x1b6c15[_0x349620(0xdd)]&&_0x1b6c15['vertexSizeInBytes']>0x0){var _0x28c286=_0x1b6c15[_0x349620(0xca)]*_0x5c1226,_0x4f7da6=_0x1b6c15[_0x349620(0xca)]*_0x4d002e;_0x1b6c15[_0x349620(0xc2)][_0x349620(0xa9)](new Uint8Array(_0x1b6c15['arrayBuffer'],_0x28c286,_0x4f7da6),_0x28c286);}}VertexArrayFacade[a415_0x271dd2(0xaf)][a415_0x271dd2(0xd7)]=function(){var _0x2445ad=a415_0x271dd2,_0x41f22e=this[_0x2445ad(0xb4)];for(var _0x43b48d=0x0,_0x308381=_0x41f22e[_0x2445ad(0xc5)];_0x43b48d<_0x308381;++_0x43b48d){_0x41f22e[_0x43b48d]['needsCommit']=![];}};function destroyVA(_0x3334bb){var _0x3ab33b=a415_0x271dd2,_0xdc6ae=_0x3334bb['va'];if(!a415_0x353ab1(_0xdc6ae))return;var _0x6b7372=_0xdc6ae[_0x3ab33b(0xc5)];for(var _0x5561e2=0x0;_0x5561e2<_0x6b7372;++_0x5561e2){_0xdc6ae[_0x5561e2]['va'][_0x3ab33b(0xad)]();}_0x3334bb['va']=undefined;}VertexArrayFacade[a415_0x271dd2(0xaf)][a415_0x271dd2(0xbe)]=function(){return![];},VertexArrayFacade[a415_0x271dd2(0xaf)][a415_0x271dd2(0xad)]=function(){var _0x4ebb17=a415_0x271dd2,_0x178a26=this[_0x4ebb17(0xb4)];for(var _0x153a56=0x0,_0x5d4607=_0x178a26['length'];_0x153a56<_0x5d4607;++_0x153a56){var _0x2597ae=_0x178a26[_0x153a56];_0x2597ae[_0x4ebb17(0xc2)]=_0x2597ae[_0x4ebb17(0xc2)]&&_0x2597ae[_0x4ebb17(0xc2)][_0x4ebb17(0xad)]();}return destroyVA(this),a415_0x134585(this);};function a415_0x1ae4(){var _0xb45502=['\x20is\x20used\x20by\x20more\x20than\x20one\x20attribute.','_createArrayViews','isDestroyed','_appendWriters','_context','175160bSNAlI','vertexBuffer','vertexArrayDestroyable','arrayBuffer','length','writers','20sTuirV','componentsPerAttribute','1439363xWBwoF','vertexSizeInBytes','_precreated','2660032XUtycK','context','SIXTY_FOUR_KILOBYTES','_instanced','_verifyAttributes','createArrayBufferView','277151oGZGhm','offsetInBytes','2324043kumutA','At\x20least\x20one\x20attribute\x20is\x20required.','offsetInVertices\x20must\x20be\x20greater\x20than\x20or\x20equal\x20to\x20zero\x20and\x20less\x20than\x20the\x20vertex\x20array\x20size.','endSubCommits','validate','_resize','subCommit','_size','204kjVHBs','needsCommit','index','56clCXvX','_vertexSizeInBytes','enabled','copyFromArrayView','push','ceil','usage','destroy','view','prototype','attribute.componentsPerAttribute\x20must\x20be\x20in\x20the\x20range\x20[1,\x204].','normalize','defined','_appendAttributes','_allBuffers','sort','getSizeInBytes','componentDatatype','arrayViews','61224480hVLuNT','359115JBhSOq','createVertexBuffer'];a415_0x1ae4=function(){return _0xb45502;};return a415_0x1ae4();}export default VertexArrayFacade;