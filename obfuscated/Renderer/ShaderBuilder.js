var a401_0x37486e=a401_0x40b0;function a401_0x45db(){var _0x17246c=['string','lines','_structs','fragmentLines','attribute\x20','_nextAttributeLocation','clone','uniform\x20','functionIds','6CRford','defineLines','signature','typeOf','1389530TdVBGg','_vertexShaderParts','30jvQJkG','setPositionAttribute()\x20must\x20be\x20called\x20exactly\x20once\x20for\x20the\x20attribute\x20used\x20for\x20gl_Position.\x20For\x20other\x20attributes,\x20use\x20addAttribute()','_attributeLocations','structIds','buildShaderProgram','96stfVCp','uniformLines','generateGlslLines','join','defineProperties','toString','addVertexLines','destination','varyingLines','varying\x20','66qzVegY','addUniform','1237716tCzIaL','BOTH','_fragmentShaderParts','vertexLines','includesFragmentShader','number','addFragmentLines','addFunctionLines','489069pFTRzl','setPositionAttribute','structId','addStructField','type','includesVertexShader','addFunction','3300664FSlcBc','fromCache','prototype','functionName','length','2886490PQChLH','21589uUTieW','object','_attributeLines','_functions','_positionAttributeLine','12791667uacUCN','addVarying','apply','push','identifier','shaderLines'];a401_0x45db=function(){return _0x17246c;};return a401_0x45db();}(function(_0xb098ee,_0x21bb8b){var _0x41e795=a401_0x40b0,_0x3f63fa=_0xb098ee();while(!![]){try{var _0x414a77=-parseInt(_0x41e795(0x164))/0x1*(-parseInt(_0x41e795(0x17e))/0x2)+-parseInt(_0x41e795(0x18f))/0x3+parseInt(_0x41e795(0x15e))/0x4+parseInt(_0x41e795(0x163))/0x5+-parseInt(_0x41e795(0x178))/0x6*(parseInt(_0x41e795(0x169))/0x7)+parseInt(_0x41e795(0x183))/0x8*(parseInt(_0x41e795(0x157))/0x9)+-parseInt(_0x41e795(0x17c))/0xa*(-parseInt(_0x41e795(0x18d))/0xb);if(_0x414a77===_0x21bb8b)break;else _0x3f63fa['push'](_0x3f63fa['shift']());}catch(_0x36245a){_0x3f63fa['push'](_0x3f63fa['shift']());}}}(a401_0x45db,0xed57c));import a401_0x10bbdb from'../Core/Check.js';import a401_0x5b4f95 from'../Core/clone.js';import a401_0xe353c7 from'../Core/defined.js';import a401_0x299a64 from'../Core/defaultValue.js';import a401_0x4fd449 from'../Core/DeveloperError.js';import a401_0x59d2d1 from'./ShaderDestination.js';import a401_0x4781e8 from'./ShaderProgram.js';import a401_0x59c68c from'./ShaderSource.js';import a401_0x133189 from'./ShaderStruct.js';import a401_0x3d90b1 from'./ShaderFunction.js';function a401_0x40b0(_0x897a1b,_0x47f454){var _0x45dbf=a401_0x45db();return a401_0x40b0=function(_0x40b0d2,_0x4a38e4){_0x40b0d2=_0x40b0d2-0x154;var _0x150817=_0x45dbf[_0x40b0d2];return _0x150817;},a401_0x40b0(_0x897a1b,_0x47f454);}export default function ShaderBuilder(){var _0x27683b=a401_0x40b0;this[_0x27683b(0x168)]=undefined,this[_0x27683b(0x174)]=0x1,this['_attributeLocations']={},this[_0x27683b(0x166)]=[],this['_structs']={},this[_0x27683b(0x167)]={},this[_0x27683b(0x17d)]={'defineLines':[],'uniformLines':[],'shaderLines':[],'varyingLines':[],'structIds':[],'functionIds':[]},this['_fragmentShaderParts']={'defineLines':[],'uniformLines':[],'shaderLines':[],'varyingLines':[],'structIds':[],'functionIds':[]};}Object[a401_0x37486e(0x187)](ShaderBuilder[a401_0x37486e(0x160)],{'attributeLocations':{'get':function(){return this['_attributeLocations'];}}}),ShaderBuilder['prototype']['addDefine']=function(_0x5001f0,_0x246588,_0x28c674){var _0x38b333=a401_0x37486e;a401_0x10bbdb[_0x38b333(0x17b)][_0x38b333(0x16f)](_0x38b333(0x16d),_0x5001f0),_0x28c674=a401_0x299a64(_0x28c674,a401_0x59d2d1[_0x38b333(0x190)]);var _0x548311=_0x5001f0;a401_0xe353c7(_0x246588)&&(_0x548311+='\x20'+_0x246588[_0x38b333(0x188)]()),a401_0x59d2d1[_0x38b333(0x15c)](_0x28c674)&&this[_0x38b333(0x17d)]['defineLines'][_0x38b333(0x16c)](_0x548311),a401_0x59d2d1[_0x38b333(0x193)](_0x28c674)&&this[_0x38b333(0x191)][_0x38b333(0x179)][_0x38b333(0x16c)](_0x548311);},ShaderBuilder[a401_0x37486e(0x160)]['addStruct']=function(_0x582189,_0x5d1596,_0x3c978f){var _0x9aee3b=a401_0x37486e;a401_0x10bbdb[_0x9aee3b(0x17b)]['string'](_0x9aee3b(0x159),_0x582189),a401_0x10bbdb[_0x9aee3b(0x17b)][_0x9aee3b(0x16f)]('structName',_0x5d1596),a401_0x10bbdb[_0x9aee3b(0x17b)]['number']('destination',_0x3c978f),this['_structs'][_0x582189]=new a401_0x133189(_0x5d1596),a401_0x59d2d1[_0x9aee3b(0x15c)](_0x3c978f)&&this['_vertexShaderParts'][_0x9aee3b(0x181)]['push'](_0x582189),a401_0x59d2d1[_0x9aee3b(0x193)](_0x3c978f)&&this['_fragmentShaderParts'][_0x9aee3b(0x181)][_0x9aee3b(0x16c)](_0x582189);},ShaderBuilder[a401_0x37486e(0x160)][a401_0x37486e(0x15a)]=function(_0x4c22aa,_0x25704e,_0x1c65ed){var _0x22c54e=a401_0x37486e;a401_0x10bbdb[_0x22c54e(0x17b)]['string']('structId',_0x4c22aa),a401_0x10bbdb[_0x22c54e(0x17b)][_0x22c54e(0x16f)]('type',_0x25704e),a401_0x10bbdb[_0x22c54e(0x17b)][_0x22c54e(0x16f)](_0x22c54e(0x16d),_0x1c65ed),this[_0x22c54e(0x171)][_0x4c22aa]['addField'](_0x25704e,_0x1c65ed);},ShaderBuilder[a401_0x37486e(0x160)][a401_0x37486e(0x15d)]=function(_0x54ccb8,_0x1b2e08,_0x3ef40f){var _0x5d266f=a401_0x37486e;a401_0x10bbdb[_0x5d266f(0x17b)][_0x5d266f(0x16f)](_0x5d266f(0x161),_0x54ccb8),a401_0x10bbdb[_0x5d266f(0x17b)][_0x5d266f(0x16f)](_0x5d266f(0x17a),_0x1b2e08),a401_0x10bbdb['typeOf'][_0x5d266f(0x154)](_0x5d266f(0x18a),_0x3ef40f),this[_0x5d266f(0x167)][_0x54ccb8]=new a401_0x3d90b1(_0x1b2e08),a401_0x59d2d1[_0x5d266f(0x15c)](_0x3ef40f)&&this['_vertexShaderParts'][_0x5d266f(0x177)][_0x5d266f(0x16c)](_0x54ccb8),a401_0x59d2d1['includesFragmentShader'](_0x3ef40f)&&this['_fragmentShaderParts'][_0x5d266f(0x177)][_0x5d266f(0x16c)](_0x54ccb8);},ShaderBuilder[a401_0x37486e(0x160)][a401_0x37486e(0x156)]=function(_0x43fe23,_0x538757){var _0x49749f=a401_0x37486e;a401_0x10bbdb['typeOf']['string']('functionName',_0x43fe23),a401_0x10bbdb[_0x49749f(0x17b)][_0x49749f(0x165)](_0x49749f(0x170),_0x538757),this[_0x49749f(0x167)][_0x43fe23]['addLines'](_0x538757);},ShaderBuilder[a401_0x37486e(0x160)][a401_0x37486e(0x18e)]=function(_0x175803,_0x21c1b7,_0x26af42){var _0x337dda=a401_0x37486e;a401_0x10bbdb[_0x337dda(0x17b)]['string'](_0x337dda(0x15b),_0x175803),a401_0x10bbdb[_0x337dda(0x17b)][_0x337dda(0x16f)](_0x337dda(0x16d),_0x21c1b7),_0x26af42=a401_0x299a64(_0x26af42,a401_0x59d2d1['BOTH']);var _0x5a5619=_0x337dda(0x176)+_0x175803+'\x20'+_0x21c1b7+';';a401_0x59d2d1['includesVertexShader'](_0x26af42)&&this[_0x337dda(0x17d)][_0x337dda(0x184)]['push'](_0x5a5619),a401_0x59d2d1[_0x337dda(0x193)](_0x26af42)&&this['_fragmentShaderParts'][_0x337dda(0x184)]['push'](_0x5a5619);},ShaderBuilder[a401_0x37486e(0x160)][a401_0x37486e(0x158)]=function(_0x391645,_0x185650){var _0x14fe91=a401_0x37486e;a401_0x10bbdb[_0x14fe91(0x17b)]['string'](_0x14fe91(0x15b),_0x391645),a401_0x10bbdb[_0x14fe91(0x17b)][_0x14fe91(0x16f)](_0x14fe91(0x16d),_0x185650);if(a401_0xe353c7(this['_positionAttributeLine']))throw new a401_0x4fd449(_0x14fe91(0x17f));return this['_positionAttributeLine']=_0x14fe91(0x173)+_0x391645+'\x20'+_0x185650+';',this[_0x14fe91(0x180)][_0x185650]=0x0,0x0;},ShaderBuilder['prototype']['addAttribute']=function(_0x28d1f2,_0x27cc46){var _0x4733a2=a401_0x37486e;a401_0x10bbdb[_0x4733a2(0x17b)][_0x4733a2(0x16f)](_0x4733a2(0x15b),_0x28d1f2),a401_0x10bbdb[_0x4733a2(0x17b)]['string'](_0x4733a2(0x16d),_0x27cc46);var _0x2267db=_0x4733a2(0x173)+_0x28d1f2+'\x20'+_0x27cc46+';';this[_0x4733a2(0x166)][_0x4733a2(0x16c)](_0x2267db);var _0xa0f952=this[_0x4733a2(0x174)];return this[_0x4733a2(0x180)][_0x27cc46]=_0xa0f952,this[_0x4733a2(0x174)]++,_0xa0f952;},ShaderBuilder[a401_0x37486e(0x160)][a401_0x37486e(0x16a)]=function(_0x135047,_0x29d1f7){var _0x3dc3a6=a401_0x37486e;a401_0x10bbdb[_0x3dc3a6(0x17b)][_0x3dc3a6(0x16f)]('type',_0x135047),a401_0x10bbdb[_0x3dc3a6(0x17b)][_0x3dc3a6(0x16f)](_0x3dc3a6(0x16d),_0x29d1f7);var _0x502379=_0x3dc3a6(0x18c)+_0x135047+'\x20'+_0x29d1f7+';';this[_0x3dc3a6(0x17d)][_0x3dc3a6(0x18b)]['push'](_0x502379),this[_0x3dc3a6(0x191)][_0x3dc3a6(0x18b)][_0x3dc3a6(0x16c)](_0x502379);},ShaderBuilder[a401_0x37486e(0x160)][a401_0x37486e(0x189)]=function(_0x1b7c7c){var _0x25a98c=a401_0x37486e;a401_0x10bbdb[_0x25a98c(0x17b)][_0x25a98c(0x165)](_0x25a98c(0x170),_0x1b7c7c),Array[_0x25a98c(0x160)]['push'][_0x25a98c(0x16b)](this[_0x25a98c(0x17d)][_0x25a98c(0x16e)],_0x1b7c7c);},ShaderBuilder[a401_0x37486e(0x160)][a401_0x37486e(0x155)]=function(_0x65c5b){var _0x201984=a401_0x37486e;a401_0x10bbdb['typeOf'][_0x201984(0x165)](_0x201984(0x170),_0x65c5b),Array[_0x201984(0x160)][_0x201984(0x16c)][_0x201984(0x16b)](this[_0x201984(0x191)]['shaderLines'],_0x65c5b);},ShaderBuilder[a401_0x37486e(0x160)][a401_0x37486e(0x182)]=function(_0x585509){var _0x2e4bb2=a401_0x37486e;a401_0x10bbdb[_0x2e4bb2(0x17b)]['object']('context',_0x585509);var _0x451f39=a401_0xe353c7(this[_0x2e4bb2(0x168)])?[this[_0x2e4bb2(0x168)]]:[],_0x455244=generateStructLines(this),_0x4e7373=generateFunctionLines(this),_0x3908bf=_0x451f39['concat'](this[_0x2e4bb2(0x166)],this[_0x2e4bb2(0x17d)]['uniformLines'],this[_0x2e4bb2(0x17d)][_0x2e4bb2(0x18b)],_0x455244[_0x2e4bb2(0x192)],_0x4e7373['vertexLines'],this[_0x2e4bb2(0x17d)][_0x2e4bb2(0x16e)])[_0x2e4bb2(0x186)]('\x0a'),_0x2421b2=new a401_0x59c68c({'defines':this[_0x2e4bb2(0x17d)][_0x2e4bb2(0x179)],'sources':[_0x3908bf]}),_0x41aea9=this[_0x2e4bb2(0x191)][_0x2e4bb2(0x184)]['concat'](this[_0x2e4bb2(0x191)][_0x2e4bb2(0x18b)],_0x455244[_0x2e4bb2(0x172)],_0x4e7373[_0x2e4bb2(0x172)],this[_0x2e4bb2(0x191)][_0x2e4bb2(0x16e)])[_0x2e4bb2(0x186)]('\x0a'),_0x381d7c=new a401_0x59c68c({'defines':this[_0x2e4bb2(0x191)]['defineLines'],'sources':[_0x41aea9]});return a401_0x4781e8[_0x2e4bb2(0x15f)]({'context':_0x585509,'vertexShaderSource':_0x2421b2,'fragmentShaderSource':_0x381d7c,'attributeLocations':this[_0x2e4bb2(0x180)]});},ShaderBuilder[a401_0x37486e(0x160)][a401_0x37486e(0x175)]=function(){return a401_0x5b4f95(this,!![]);};function generateStructLines(_0x50b32a){var _0x2d8b69=a401_0x37486e,_0x4a3163=[],_0x4d39d0=[],_0x2cc8e4,_0x49a11a=_0x50b32a['_vertexShaderParts'][_0x2d8b69(0x181)],_0x50e49e,_0x285b96,_0x1a552f;for(_0x2cc8e4=0x0;_0x2cc8e4<_0x49a11a[_0x2d8b69(0x162)];_0x2cc8e4++){_0x50e49e=_0x49a11a[_0x2cc8e4],_0x285b96=_0x50b32a[_0x2d8b69(0x171)][_0x50e49e],_0x1a552f=_0x285b96[_0x2d8b69(0x185)](),_0x4a3163[_0x2d8b69(0x16c)][_0x2d8b69(0x16b)](_0x4a3163,_0x1a552f);}_0x49a11a=_0x50b32a[_0x2d8b69(0x191)]['structIds'];for(_0x2cc8e4=0x0;_0x2cc8e4<_0x49a11a[_0x2d8b69(0x162)];_0x2cc8e4++){_0x50e49e=_0x49a11a[_0x2cc8e4],_0x285b96=_0x50b32a['_structs'][_0x50e49e],_0x1a552f=_0x285b96[_0x2d8b69(0x185)](),_0x4d39d0[_0x2d8b69(0x16c)][_0x2d8b69(0x16b)](_0x4d39d0,_0x1a552f);}return{'vertexLines':_0x4a3163,'fragmentLines':_0x4d39d0};}function generateFunctionLines(_0xbc4d4a){var _0x1c8418=a401_0x37486e,_0x156caf=[],_0x45364c=[],_0x20b15c,_0xb14441=_0xbc4d4a[_0x1c8418(0x17d)][_0x1c8418(0x177)],_0x1b3e6c,_0x245472,_0x3b74e0;for(_0x20b15c=0x0;_0x20b15c<_0xb14441[_0x1c8418(0x162)];_0x20b15c++){_0x1b3e6c=_0xb14441[_0x20b15c],_0x245472=_0xbc4d4a['_functions'][_0x1b3e6c],_0x3b74e0=_0x245472[_0x1c8418(0x185)](),_0x156caf['push'][_0x1c8418(0x16b)](_0x156caf,_0x3b74e0);}_0xb14441=_0xbc4d4a[_0x1c8418(0x191)][_0x1c8418(0x177)];for(_0x20b15c=0x0;_0x20b15c<_0xb14441['length'];_0x20b15c++){_0x1b3e6c=_0xb14441[_0x20b15c],_0x245472=_0xbc4d4a[_0x1c8418(0x167)][_0x1b3e6c],_0x3b74e0=_0x245472['generateGlslLines'](),_0x45364c[_0x1c8418(0x16c)][_0x1c8418(0x16b)](_0x45364c,_0x3b74e0);}return{'vertexLines':_0x156caf,'fragmentLines':_0x45364c};}