var a507_0x94384f=a507_0x4dcb;(function(_0x287fb5,_0x16d431){var _0x5bc12b=a507_0x4dcb,_0x584b46=_0x287fb5();while(!![]){try{var _0x208cbe=parseInt(_0x5bc12b(0xe4))/0x1+parseInt(_0x5bc12b(0xd2))/0x2+-parseInt(_0x5bc12b(0xf4))/0x3*(parseInt(_0x5bc12b(0xd0))/0x4)+parseInt(_0x5bc12b(0xd7))/0x5*(-parseInt(_0x5bc12b(0xe0))/0x6)+-parseInt(_0x5bc12b(0xca))/0x7+parseInt(_0x5bc12b(0xf6))/0x8+parseInt(_0x5bc12b(0xee))/0x9*(parseInt(_0x5bc12b(0xfb))/0xa);if(_0x208cbe===_0x16d431)break;else _0x584b46['push'](_0x584b46['shift']());}catch(_0x589609){_0x584b46['push'](_0x584b46['shift']());}}}(a507_0x483a,0xdb7fa));import a507_0x5bdbfb from'../Core/defaultValue.js';import a507_0x11f099 from'../Core/defined.js';import a507_0x158819 from'../Core/destroyObject.js';import a507_0xbcb7a0 from'../Core/DeveloperError.js';import a507_0x1db5d5 from'../Core/Event.js';import a507_0x58ff73 from'../Core/getTimestamp.js';function a507_0x483a(){var _0x1e986a=['webkitHidden','185JyAvXx','scene','pause','minimumFrameRateDuringWarmup','fromScene','_hiddenPropertyName','_needsQuietPeriod','lowFrameRate','mozvisibilitychange','267402woIqwp','SECONDS_PER_MILLISECOND','visibilitychange','_pauseCount','361562AoUkZb','_quietPeriodEndTime','options.scene\x20is\x20required.','_preUpdateRemoveListener','removeEventListener','_frameTimes','samplingWindow','msvisibilitychange','defaultSettings','msHidden','99hgHuHV','length','addEventListener','prototype','scene\x20is\x20required.','hidden','3kNbnSv','_scene','2301056WxDQTK','push','quietPeriod','_lastFramesPerSecond','_warmupPeriodEndTime','2546910LzaNYj','unpause','minimumFrameRateAfterWarmup','isDestroyed','destroy','_frameRateMonitor','3712282yXrlUy','warmupPeriod','_frameRateIsLow','_nominalFrameRate','mozHidden','raiseEvent','6779744YQLSZW','_visibilityChangeRemoveListener','2645024YQTfcJ','shift','_lowFrameRate','webkitvisibilitychange'];a507_0x483a=function(){return _0x1e986a;};return a507_0x483a();}function a507_0x4dcb(_0x96b1ca,_0x4ad57b){var _0x483ad5=a507_0x483a();return a507_0x4dcb=function(_0x4dcbba,_0x8bb032){_0x4dcbba=_0x4dcbba-0xca;var _0x1dd1ae=_0x483ad5[_0x4dcbba];return _0x1dd1ae;},a507_0x4dcb(_0x96b1ca,_0x4ad57b);}import a507_0x3ccc84 from'../Core/TimeConstants.js';function FrameRateMonitor(_0x33d5f5){var _0x18e3d6=a507_0x4dcb;if(!a507_0x11f099(_0x33d5f5)||!a507_0x11f099(_0x33d5f5['scene']))throw new a507_0xbcb7a0(_0x18e3d6(0xe6));this['_scene']=_0x33d5f5[_0x18e3d6(0xd8)],this['samplingWindow']=a507_0x5bdbfb(_0x33d5f5[_0x18e3d6(0xea)],FrameRateMonitor[_0x18e3d6(0xec)][_0x18e3d6(0xea)]),this[_0x18e3d6(0xf8)]=a507_0x5bdbfb(_0x33d5f5[_0x18e3d6(0xf8)],FrameRateMonitor[_0x18e3d6(0xec)][_0x18e3d6(0xf8)]),this[_0x18e3d6(0xcb)]=a507_0x5bdbfb(_0x33d5f5[_0x18e3d6(0xcb)],FrameRateMonitor[_0x18e3d6(0xec)][_0x18e3d6(0xcb)]),this[_0x18e3d6(0xda)]=a507_0x5bdbfb(_0x33d5f5[_0x18e3d6(0xda)],FrameRateMonitor['defaultSettings'][_0x18e3d6(0xda)]),this[_0x18e3d6(0xfd)]=a507_0x5bdbfb(_0x33d5f5['minimumFrameRateAfterWarmup'],FrameRateMonitor[_0x18e3d6(0xec)][_0x18e3d6(0xfd)]),this['_lowFrameRate']=new a507_0x1db5d5(),this[_0x18e3d6(0xcd)]=new a507_0x1db5d5(),this[_0x18e3d6(0xe9)]=[],this[_0x18e3d6(0xdd)]=!![],this[_0x18e3d6(0xe5)]=0x0,this[_0x18e3d6(0xfa)]=0x0,this[_0x18e3d6(0xcc)]=![],this[_0x18e3d6(0xf9)]=undefined,this['_pauseCount']=0x0;var _0x223268=this;this[_0x18e3d6(0xe7)]=this[_0x18e3d6(0xf5)]['preUpdate']['addEventListener'](function(_0x3110fa,_0x341f45){update(_0x223268,_0x341f45);}),this[_0x18e3d6(0xdc)]=document['hidden']!==undefined?_0x18e3d6(0xf3):document['mozHidden']!==undefined?_0x18e3d6(0xce):document[_0x18e3d6(0xed)]!==undefined?_0x18e3d6(0xed):document[_0x18e3d6(0xd6)]!==undefined?_0x18e3d6(0xd6):undefined;var _0x2002fc=document[_0x18e3d6(0xf3)]!==undefined?_0x18e3d6(0xe2):document['mozHidden']!==undefined?_0x18e3d6(0xdf):document['msHidden']!==undefined?_0x18e3d6(0xeb):document[_0x18e3d6(0xd6)]!==undefined?_0x18e3d6(0xd5):undefined;function _0x2a4655(){visibilityChanged(_0x223268);}this[_0x18e3d6(0xd1)]=undefined,a507_0x11f099(_0x2002fc)&&(document[_0x18e3d6(0xf0)](_0x2002fc,_0x2a4655,![]),this[_0x18e3d6(0xd1)]=function(){var _0x538990=_0x18e3d6;document[_0x538990(0xe8)](_0x2002fc,_0x2a4655,![]);});}FrameRateMonitor[a507_0x94384f(0xec)]={'samplingWindow':0x5,'quietPeriod':0x2,'warmupPeriod':0x5,'minimumFrameRateDuringWarmup':0x4,'minimumFrameRateAfterWarmup':0x8},FrameRateMonitor[a507_0x94384f(0xdb)]=function(_0x4a7783){var _0x2629bb=a507_0x94384f;if(!a507_0x11f099(_0x4a7783))throw new a507_0xbcb7a0(_0x2629bb(0xf2));return(!a507_0x11f099(_0x4a7783['_frameRateMonitor'])||_0x4a7783['_frameRateMonitor'][_0x2629bb(0xfe)]())&&(_0x4a7783[_0x2629bb(0x100)]=new FrameRateMonitor({'scene':_0x4a7783})),_0x4a7783[_0x2629bb(0x100)];},Object['defineProperties'](FrameRateMonitor[a507_0x94384f(0xf1)],{'scene':{'get':function(){var _0x586783=a507_0x94384f;return this[_0x586783(0xf5)];}},'lowFrameRate':{'get':function(){var _0x34baa6=a507_0x94384f;return this[_0x34baa6(0xd4)];}},'nominalFrameRate':{'get':function(){return this['_nominalFrameRate'];}},'lastFramesPerSecond':{'get':function(){var _0x271aa9=a507_0x94384f;return this[_0x271aa9(0xf9)];}}}),FrameRateMonitor[a507_0x94384f(0xf1)]['pause']=function(){var _0x47768f=a507_0x94384f;++this[_0x47768f(0xe3)],this[_0x47768f(0xe3)]===0x1&&(this[_0x47768f(0xe9)][_0x47768f(0xef)]=0x0,this[_0x47768f(0xf9)]=undefined);},FrameRateMonitor['prototype'][a507_0x94384f(0xfc)]=function(){var _0x29966a=a507_0x94384f;--this[_0x29966a(0xe3)],this['_pauseCount']<=0x0&&(this['_pauseCount']=0x0,this[_0x29966a(0xdd)]=!![]);},FrameRateMonitor['prototype'][a507_0x94384f(0xfe)]=function(){return![];},FrameRateMonitor[a507_0x94384f(0xf1)][a507_0x94384f(0xff)]=function(){var _0x37f47c=a507_0x94384f;return this[_0x37f47c(0xe7)](),a507_0x11f099(this[_0x37f47c(0xd1)])&&this[_0x37f47c(0xd1)](),a507_0x158819(this);};function update(_0x3c6982,_0x5e8624){var _0x4b276f=a507_0x94384f;if(_0x3c6982[_0x4b276f(0xe3)]>0x0)return;var _0x5b510c=a507_0x58ff73();if(_0x3c6982[_0x4b276f(0xdd)])_0x3c6982[_0x4b276f(0xdd)]=![],_0x3c6982[_0x4b276f(0xe9)][_0x4b276f(0xef)]=0x0,_0x3c6982[_0x4b276f(0xe5)]=_0x5b510c+_0x3c6982[_0x4b276f(0xf8)]/a507_0x3ccc84['SECONDS_PER_MILLISECOND'],_0x3c6982[_0x4b276f(0xfa)]=_0x3c6982[_0x4b276f(0xe5)]+(_0x3c6982[_0x4b276f(0xcb)]+_0x3c6982[_0x4b276f(0xea)])/a507_0x3ccc84[_0x4b276f(0xe1)];else{if(_0x5b510c>=_0x3c6982[_0x4b276f(0xe5)]){_0x3c6982[_0x4b276f(0xe9)][_0x4b276f(0xf7)](_0x5b510c);var _0x3e2800=_0x5b510c-_0x3c6982[_0x4b276f(0xea)]/a507_0x3ccc84[_0x4b276f(0xe1)];if(_0x3c6982[_0x4b276f(0xe9)]['length']>=0x2&&_0x3c6982['_frameTimes'][0x0]<=_0x3e2800){while(_0x3c6982[_0x4b276f(0xe9)]['length']>=0x2&&_0x3c6982['_frameTimes'][0x1]<_0x3e2800){_0x3c6982[_0x4b276f(0xe9)][_0x4b276f(0xd3)]();}var _0x31bc3f=(_0x5b510c-_0x3c6982['_frameTimes'][0x0])/(_0x3c6982['_frameTimes'][_0x4b276f(0xef)]-0x1);_0x3c6982['_lastFramesPerSecond']=0x3e8/_0x31bc3f;var _0x283065=0x3e8/(_0x5b510c>_0x3c6982[_0x4b276f(0xfa)]?_0x3c6982[_0x4b276f(0xfd)]:_0x3c6982[_0x4b276f(0xda)]);if(_0x31bc3f>_0x283065)!_0x3c6982[_0x4b276f(0xcc)]&&(_0x3c6982['_frameRateIsLow']=!![],_0x3c6982[_0x4b276f(0xdd)]=!![],_0x3c6982[_0x4b276f(0xde)][_0x4b276f(0xcf)](_0x3c6982[_0x4b276f(0xd8)],_0x3c6982[_0x4b276f(0xf9)]));else _0x3c6982[_0x4b276f(0xcc)]&&(_0x3c6982[_0x4b276f(0xcc)]=![],_0x3c6982[_0x4b276f(0xdd)]=!![],_0x3c6982['nominalFrameRate'][_0x4b276f(0xcf)](_0x3c6982[_0x4b276f(0xd8)],_0x3c6982[_0x4b276f(0xf9)]));}}}}function visibilityChanged(_0x4cb083){var _0x2634a2=a507_0x94384f;document[_0x4cb083[_0x2634a2(0xdc)]]?_0x4cb083[_0x2634a2(0xd9)]():_0x4cb083[_0x2634a2(0xfc)]();}export default FrameRateMonitor;