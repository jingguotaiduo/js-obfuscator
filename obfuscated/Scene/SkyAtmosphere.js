var a727_0x553306=a727_0x5610;(function(_0x3cdc11,_0x461eb7){var _0x3fef6b=a727_0x5610,_0x2aea40=_0x3cdc11();while(!![]){try{var _0x258da2=-parseInt(_0x3fef6b(0x1dc))/0x1+parseInt(_0x3fef6b(0x1cf))/0x2+parseInt(_0x3fef6b(0x1d2))/0x3+-parseInt(_0x3fef6b(0x1db))/0x4+-parseInt(_0x3fef6b(0x1f2))/0x5+parseInt(_0x3fef6b(0x1f5))/0x6*(parseInt(_0x3fef6b(0x1c6))/0x7)+-parseInt(_0x3fef6b(0x1d0))/0x8*(-parseInt(_0x3fef6b(0x1ef))/0x9);if(_0x258da2===_0x461eb7)break;else _0x2aea40['push'](_0x2aea40['shift']());}catch(_0x42def2){_0x2aea40['push'](_0x2aea40['shift']());}}}(a727_0x5631,0xe678f));import a727_0x6f93ae from'../Core/Cartesian3.js';import a727_0x14fdf7 from'../Core/defaultValue.js';import a727_0x1d8d75 from'../Core/defined.js';import a727_0x5f0a21 from'../Core/destroyObject.js';import a727_0xd9ef85 from'../Core/Ellipsoid.js';import a727_0x3225f2 from'../Core/EllipsoidGeometry.js';import a727_0x4a3be6 from'../Core/GeometryPipeline.js';import a727_0x563a49 from'../Core/Math.js';import a727_0x4b3823 from'../Core/Matrix4.js';import a727_0x2d1d0f from'../Core/VertexFormat.js';function a727_0x5610(_0x35bb2c,_0x3c43fd){var _0x563178=a727_0x5631();return a727_0x5610=function(_0x5610c6,_0x556257){_0x5610c6=_0x5610c6-0x1bd;var _0x1a55be=_0x563178[_0x5610c6];return _0x1a55be;},a727_0x5610(_0x35bb2c,_0x3c43fd);}import a727_0x56300e from'../Renderer/BufferUsage.js';import a727_0x59323 from'../Renderer/DrawCommand.js';import a727_0xa14e03 from'../Renderer/RenderState.js';import a727_0x1ac02b from'../Renderer/ShaderProgram.js';import a727_0x3cde81 from'../Renderer/ShaderSource.js';import a727_0x357177 from'../Renderer/VertexArray.js';import a727_0x391e8a from'../Shaders/SkyAtmosphereCommon.js';import a727_0x46cdf9 from'../Shaders/SkyAtmosphereFS.js';function a727_0x5631(){var _0x2bb6b3=['GLOBE_TRANSLUCENT','fromGeometry','_scaleMatrix','2477472Gdealb','1484363PyUbgJ','mode','SKY_FROM_SPACE','fromRotationTranslation','ALPHA_BLEND','SCENE3D','ZERO','context','multiply','brightnessShift','WGS84','_spSkyFromSpace','SKY_FROM_ATMOSPHERE','destroy','multiplyTransformation','FRONT','uniformMap','_radiiAndDynamicAtmosphereColor','PER_FRAGMENT_ATMOSPHERE','18ABCsTR','_command','globeTranslucencyState','7488905gYEVSJ','magnitude','_spSkyFromAtmosphere','6aZFwio','update','EPSILON7','multiplyByScalar','show','shaderProgram','uniformState','_flags','vertexArray','perFragmentAtmosphere','concat','Y_UP_TO_Z_UP','hueShift','saturationShift','COLOR_CORRECT','fromCache','equalsEpsilon','clone','2804753waIbEC','_modelMatrix','POSITION_ONLY','positionWC','_ellipsoid','inverseViewRotation','defineProperties','_hueSaturationBrightness','push','2014278AXuift','11354272hTdMjv','createAttributeLocations','897423YdsIvv','STATIC_DRAW','maximumRadius','radii','prototype','translucent'];a727_0x5631=function(){return _0x2bb6b3;};return a727_0x5631();}import a727_0xc08dd8 from'../Shaders/SkyAtmosphereVS.js';import a727_0x3e76cc from'./Axis.js';import a727_0x19fd1b from'./BlendingState.js';import a727_0xb606c8 from'./CullFace.js';import a727_0x26ecf8 from'./SceneMode.js';function SkyAtmosphere(_0x1e8b33){var _0x4e5e4d=a727_0x5610;_0x1e8b33=a727_0x14fdf7(_0x1e8b33,a727_0xd9ef85[_0x4e5e4d(0x1e6)]),this[_0x4e5e4d(0x1f9)]=!![],this[_0x4e5e4d(0x1bd)]=![],this['_ellipsoid']=_0x1e8b33;var _0x479a3c=1.025,_0x7e1982=a727_0x6f93ae[_0x4e5e4d(0x1f8)](_0x1e8b33[_0x4e5e4d(0x1d5)],_0x479a3c,new a727_0x6f93ae());this[_0x4e5e4d(0x1da)]=a727_0x4b3823['fromScale'](_0x7e1982),this[_0x4e5e4d(0x1c7)]=new a727_0x4b3823(),this['_command']=new a727_0x59323({'owner':this,'modelMatrix':this[_0x4e5e4d(0x1c7)]}),this[_0x4e5e4d(0x1e7)]=undefined,this[_0x4e5e4d(0x1f4)]=undefined,this['_flags']=undefined,this[_0x4e5e4d(0x1c0)]=0x0,this[_0x4e5e4d(0x1c1)]=0x0,this[_0x4e5e4d(0x1e5)]=0x0,this[_0x4e5e4d(0x1cd)]=new a727_0x6f93ae();var _0x29b798=new a727_0x6f93ae();_0x29b798['x']=_0x1e8b33[_0x4e5e4d(0x1d4)]*_0x479a3c,_0x29b798['y']=_0x1e8b33[_0x4e5e4d(0x1d4)],_0x29b798['z']=0x0,this[_0x4e5e4d(0x1ed)]=_0x29b798;var _0x2eac8c=this;this['_command'][_0x4e5e4d(0x1ec)]={'u_radiiAndDynamicAtmosphereColor':function(){var _0x2671b1=_0x4e5e4d;return _0x2eac8c[_0x2671b1(0x1ed)];},'u_hsbShift':function(){var _0x251cf7=_0x4e5e4d;return _0x2eac8c['_hueSaturationBrightness']['x']=_0x2eac8c[_0x251cf7(0x1c0)],_0x2eac8c[_0x251cf7(0x1cd)]['y']=_0x2eac8c[_0x251cf7(0x1c1)],_0x2eac8c[_0x251cf7(0x1cd)]['z']=_0x2eac8c['brightnessShift'],_0x2eac8c[_0x251cf7(0x1cd)];}};}Object[a727_0x553306(0x1cc)](SkyAtmosphere[a727_0x553306(0x1d6)],{'ellipsoid':{'get':function(){var _0x25e9cd=a727_0x553306;return this[_0x25e9cd(0x1ca)];}}}),SkyAtmosphere['prototype']['setDynamicAtmosphereColor']=function(_0xe88a68,_0x205e27){var _0x425ed4=a727_0x553306,_0x575828=_0xe88a68?_0x205e27?0x2:0x1:0x0;this[_0x425ed4(0x1ed)]['z']=_0x575828;};var scratchModelMatrix=new a727_0x4b3823();SkyAtmosphere[a727_0x553306(0x1d6)][a727_0x553306(0x1f6)]=function(_0x6fe697,_0x581483){var _0x24f026=a727_0x553306;if(!this[_0x24f026(0x1f9)])return undefined;var _0x179d62=_0x6fe697[_0x24f026(0x1dd)];if(_0x179d62!==a727_0x26ecf8[_0x24f026(0x1e1)]&&_0x179d62!==a727_0x26ecf8['MORPHING'])return undefined;if(!_0x6fe697['passes']['render'])return undefined;var _0x2aa9ed=a727_0x4b3823[_0x24f026(0x1df)](_0x6fe697[_0x24f026(0x1e3)][_0x24f026(0x1fb)][_0x24f026(0x1cb)],a727_0x6f93ae[_0x24f026(0x1e2)],scratchModelMatrix),_0x5716d5=a727_0x4b3823[_0x24f026(0x1ea)](_0x2aa9ed,a727_0x3e76cc[_0x24f026(0x1bf)],scratchModelMatrix),_0xd05af5=a727_0x4b3823[_0x24f026(0x1e4)](this[_0x24f026(0x1da)],_0x5716d5,scratchModelMatrix);a727_0x4b3823[_0x24f026(0x1c5)](_0xd05af5,this[_0x24f026(0x1c7)]);var _0x4b4b44=_0x6fe697[_0x24f026(0x1e3)],_0x3ca25e=hasColorCorrection(this),_0xfb3927=_0x6fe697[_0x24f026(0x1f1)][_0x24f026(0x1d7)],_0x3e8e6a=this[_0x24f026(0x1bd)]||_0xfb3927||!a727_0x1d8d75(_0x581483)||!_0x581483[_0x24f026(0x1f9)],_0x51c829=this[_0x24f026(0x1f0)];if(!a727_0x1d8d75(_0x51c829[_0x24f026(0x1fd)])){var _0xa0bee1=a727_0x3225f2['createGeometry'](new a727_0x3225f2({'radii':new a727_0x6f93ae(0x1,0x1,0x1),'slicePartitions':0x100,'stackPartitions':0x100,'vertexFormat':a727_0x2d1d0f[_0x24f026(0x1c8)]}));_0x51c829['vertexArray']=a727_0x357177[_0x24f026(0x1d9)]({'context':_0x4b4b44,'geometry':_0xa0bee1,'attributeLocations':a727_0x4a3be6[_0x24f026(0x1d1)](_0xa0bee1),'bufferUsage':a727_0x56300e[_0x24f026(0x1d3)]}),_0x51c829['renderState']=a727_0xa14e03[_0x24f026(0x1c3)]({'cull':{'enabled':!![],'face':a727_0xb606c8[_0x24f026(0x1eb)]},'blending':a727_0x19fd1b[_0x24f026(0x1e0)],'depthMask':![]});}var _0x5c28f0=_0x3ca25e|_0x3e8e6a<<0x2|_0xfb3927<<0x3;if(_0x5c28f0!==this[_0x24f026(0x1fc)]){this['_flags']=_0x5c28f0;var _0x4aafb3=[];_0x3ca25e&&_0x4aafb3[_0x24f026(0x1ce)](_0x24f026(0x1c2));_0x3e8e6a&&_0x4aafb3[_0x24f026(0x1ce)](_0x24f026(0x1ee));_0xfb3927&&_0x4aafb3[_0x24f026(0x1ce)](_0x24f026(0x1d8));var _0x299550=new a727_0x3cde81({'defines':_0x4aafb3[_0x24f026(0x1be)]('SKY_FROM_SPACE'),'sources':[a727_0x391e8a,a727_0xc08dd8]}),_0x5167cf=new a727_0x3cde81({'defines':_0x4aafb3['concat'](_0x24f026(0x1de)),'sources':[a727_0x391e8a,a727_0x46cdf9]});this[_0x24f026(0x1e7)]=a727_0x1ac02b[_0x24f026(0x1c3)]({'context':_0x4b4b44,'vertexShaderSource':_0x299550,'fragmentShaderSource':_0x5167cf}),_0x299550=new a727_0x3cde81({'defines':_0x4aafb3['concat'](_0x24f026(0x1e8)),'sources':[a727_0x391e8a,a727_0xc08dd8]}),_0x5167cf=new a727_0x3cde81({'defines':_0x4aafb3[_0x24f026(0x1be)](_0x24f026(0x1e8)),'sources':[a727_0x391e8a,a727_0x46cdf9]}),this[_0x24f026(0x1f4)]=a727_0x1ac02b[_0x24f026(0x1c3)]({'context':_0x4b4b44,'vertexShaderSource':_0x299550,'fragmentShaderSource':_0x5167cf});}var _0x2c20b8=_0x6fe697['camera'][_0x24f026(0x1c9)],_0x284253=a727_0x6f93ae[_0x24f026(0x1f3)](_0x2c20b8);return _0x284253>this[_0x24f026(0x1ed)]['x']?_0x51c829[_0x24f026(0x1fa)]=this[_0x24f026(0x1e7)]:_0x51c829['shaderProgram']=this['_spSkyFromAtmosphere'],_0x51c829;};function hasColorCorrection(_0x165f3f){var _0x36466b=a727_0x553306;return!(a727_0x563a49[_0x36466b(0x1c4)](_0x165f3f['hueShift'],0x0,a727_0x563a49[_0x36466b(0x1f7)])&&a727_0x563a49['equalsEpsilon'](_0x165f3f[_0x36466b(0x1c1)],0x0,a727_0x563a49[_0x36466b(0x1f7)])&&a727_0x563a49[_0x36466b(0x1c4)](_0x165f3f[_0x36466b(0x1e5)],0x0,a727_0x563a49['EPSILON7']));}SkyAtmosphere['prototype']['isDestroyed']=function(){return![];},SkyAtmosphere[a727_0x553306(0x1d6)][a727_0x553306(0x1e9)]=function(){var _0x41d998=a727_0x553306,_0x10754a=this['_command'];return _0x10754a[_0x41d998(0x1fd)]=_0x10754a['vertexArray']&&_0x10754a['vertexArray'][_0x41d998(0x1e9)](),this[_0x41d998(0x1e7)]=this['_spSkyFromSpace']&&this[_0x41d998(0x1e7)][_0x41d998(0x1e9)](),this[_0x41d998(0x1f4)]=this['_spSkyFromAtmosphere']&&this['_spSkyFromAtmosphere']['destroy'](),a727_0x5f0a21(this);};export default SkyAtmosphere;