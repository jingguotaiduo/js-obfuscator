var a567_0x89ac1d=a567_0x1a0c;(function(_0x3003dc,_0x2f0317){var _0x485edc=a567_0x1a0c,_0xaad6d0=_0x3003dc();while(!![]){try{var _0x18bae0=-parseInt(_0x485edc(0x1f7))/0x1*(parseInt(_0x485edc(0x228))/0x2)+parseInt(_0x485edc(0x1ed))/0x3*(parseInt(_0x485edc(0x1e0))/0x4)+parseInt(_0x485edc(0x1ff))/0x5+-parseInt(_0x485edc(0x1cd))/0x6*(-parseInt(_0x485edc(0x1be))/0x7)+parseInt(_0x485edc(0x1d8))/0x8+parseInt(_0x485edc(0x22f))/0x9+parseInt(_0x485edc(0x21f))/0xa*(parseInt(_0x485edc(0x241))/0xb);if(_0x18bae0===_0x2f0317)break;else _0xaad6d0['push'](_0xaad6d0['shift']());}catch(_0x3b795a){_0xaad6d0['push'](_0xaad6d0['shift']());}}}(a567_0x4a36,0x7e806));import a567_0x1fdcf7 from'../Core/Cartesian2.js';import a567_0x4a231b from'../Core/Cartesian4.js';import a567_0x58b99c from'../Core/defaultValue.js';import a567_0x5d334b from'../Core/defined.js';import a567_0x595930 from'../Core/destroyObject.js';import a567_0x447024 from'../Core/DeveloperError.js';import a567_0x17d641 from'../Core/FeatureDetection.js';import a567_0x35ff08 from'../Core/GeographicProjection.js';import a567_0x213197 from'../Core/IndexDatatype.js';import a567_0x2f9ca5 from'../Core/Math.js';import a567_0x556cc9 from'../Core/PixelFormat.js';import a567_0x3525fd from'../Core/Rectangle.js';import a567_0x605243 from'../Core/Request.js';import a567_0x43afc5 from'../Core/RequestState.js';import a567_0x38b5fa from'../Core/RequestType.js';import a567_0x5e56b5 from'../Core/TerrainProvider.js';import a567_0x534eef from'../Core/TileProviderError.js';import a567_0x132571 from'../Core/WebMercatorProjection.js';import a567_0x3ac769 from'../Renderer/Buffer.js';import a567_0x30125c from'../Renderer/BufferUsage.js';import a567_0x478600 from'../Renderer/ComputeCommand.js';import a567_0x6a0335 from'../Renderer/ContextLimits.js';function a567_0x4a36(){var _0x46c76e=['shouldDiscardImage','190868eEJolr','_createTextureWebGL','defaultMagnificationFilter','nightAlpha','INVALID','imagery','DEFAULT_MAGNIFICATION_FILTER','TEXTURE_LOADED','commandList','bind','isPowerOfTwo','credits','contrast','21qDKGTK','sampler','colorToAlphaThreshold','maximumTextureFilterAnisotropy','pixelDatatype','minimumLevel','hasAlphaChannel','isReady','vertexBuffer','magnificationFilter','405893eOmscz','_show','image','forEach','_imageryProvider','\x20Y:\x20','lerp','getRegularGridIndices','2332180gFNbIT','readyImagery','defaultHue','log','context','tileXYToRectangle','getAttribute','pixelFormat','isCompressedFormat','prototype','Failed\x20to\x20obtain\x20image\x20tile\x20X:\x20','EMPTY_OBJECT','sin','southeast','request','defaultAlpha','useWebMercatorT','ellipsoid','cancelReprojections','_finalizeReprojectTexture','queueReprojectionCommands','saturation','cos','cutoutRectangle','shaderProgram','gamma','addReference','south','tilingScheme','intersection','vertexArray','splitDirection','10nJfAcy','defaultContrast','NONE','DEFAULT_MINIFICATION_FILTER','dayAlpha','LINEAR','tileXYToNativeRectangle','_imageryCache','releaseReference','4FZXUWs','_rectangle','hue','imageryLayerNonMipmapSamplers','CANCELLED','brightness','READY','959715hJIDSL','_skeletonPlaceholder','simpleIntersection','canceled','defaultGamma','DEFAULT_BRIGHTNESS','DEFAULT_HUE','imageryLayer','LINEAR_MIPMAP_LINEAR','copyFromArrayView','NICEST','_requestImageError','textureWebMercator','alpha','imageryLayerMipmapSamplers','defineProperties','_minimumTerrainLevel','_createTileImagerySkeletons','3703436qOyYEY','level','\x20Level:\x20','uniformMap','handleError','maximumAnisotropy','position','texture','_requestImagery','getImageryFromCache','handleSuccess','north','data','max','length','createIndexBuffer','IMAGERY','northwest','positionToTileXY','imageryProvider','round','CLAMP_TO_EDGE','STATIC_DRAW','framebuffer','west','_maximumTerrainLevel','createPlaceholder','getViewableRectangle','projection','MAX_VALUE','abs','destroy','errorEvent','STREAM_DRAW','east','webMercatorT','stringify','DEFAULT_CONTRAST','width','generateMipmap','getLevelMaximumGeometricError','DEFAULT_APPLY_COLOR_TO_ALPHA_THRESHOLD','cache','_reprojectComputeCommands','createVertexBuffer','4326JAOVjG','splice','outputTexture','rectangleToNativeRectangle','tileDiscardPolicy','maximumRadius','rectangle','push','colorToAlpha','UNLOADED','_createTexture','NEAREST','show','DEFAULT_SATURATION','height','162xpDyGw','_isBaseLayer','imageryLayer_reproject','FAILED','maximumTerrainLevel','isBaseLayer','supportsTypedArrays','_reprojectTexture','state','tileWidth','defaultBrightness','555872ZcTOQX','textureDimensions','minificationFilter','_maximumAnisotropy','min','RGBA','isDestroyed'];a567_0x4a36=function(){return _0x46c76e;};return a567_0x4a36();}import a567_0x38a5bd from'../Renderer/MipmapHint.js';function a567_0x1a0c(_0x264372,_0x36e985){var _0x4a365c=a567_0x4a36();return a567_0x1a0c=function(_0x1a0c88,_0x279c97){_0x1a0c88=_0x1a0c88-0x194;var _0x331d36=_0x4a365c[_0x1a0c88];return _0x331d36;},a567_0x1a0c(_0x264372,_0x36e985);}import a567_0x5060e5 from'../Renderer/Sampler.js';import a567_0x30b277 from'../Renderer/ShaderProgram.js';import a567_0xdb05dc from'../Renderer/ShaderSource.js';import a567_0x152a55 from'../Renderer/Texture.js';import a567_0x3776d0 from'../Renderer/TextureMagnificationFilter.js';import a567_0x36fee3 from'../Renderer/TextureMinificationFilter.js';import a567_0x162483 from'../Renderer/TextureWrap.js';import a567_0x3d92c4 from'../Renderer/VertexArray.js';import a567_0x36f50f from'../Shaders/ReprojectWebMercatorFS.js';import a567_0x929cad from'../Shaders/ReprojectWebMercatorVS.js';import a567_0x1f3633 from'../ThirdParty/when.js';import a567_0x2dc619 from'./Imagery.js';import a567_0xb4bed from'./ImagerySplitDirection.js';import a567_0x2c6ec7 from'./ImageryState.js';import a567_0x3f24f4 from'./TileImagery.js';function ImageryLayer(_0x228859,_0x576177){var _0x4187af=a567_0x1a0c;this['_imageryProvider']=_0x228859,_0x576177=a567_0x58b99c(_0x576177,a567_0x58b99c[_0x4187af(0x20a)]),this[_0x4187af(0x23c)]=a567_0x58b99c(_0x576177[_0x4187af(0x23c)],a567_0x58b99c(_0x228859[_0x4187af(0x20e)],0x1)),this[_0x4187af(0x1e3)]=a567_0x58b99c(_0x576177[_0x4187af(0x1e3)],a567_0x58b99c(_0x228859['defaultNightAlpha'],0x1)),this[_0x4187af(0x223)]=a567_0x58b99c(_0x576177[_0x4187af(0x223)],a567_0x58b99c(_0x228859['defaultDayAlpha'],0x1)),this[_0x4187af(0x22d)]=a567_0x58b99c(_0x576177[_0x4187af(0x22d)],a567_0x58b99c(_0x228859[_0x4187af(0x1d7)],ImageryLayer[_0x4187af(0x234)])),this[_0x4187af(0x1ec)]=a567_0x58b99c(_0x576177[_0x4187af(0x1ec)],a567_0x58b99c(_0x228859[_0x4187af(0x220)],ImageryLayer[_0x4187af(0x1b6)])),this[_0x4187af(0x22a)]=a567_0x58b99c(_0x576177[_0x4187af(0x22a)],a567_0x58b99c(_0x228859[_0x4187af(0x201)],ImageryLayer[_0x4187af(0x235)])),this[_0x4187af(0x214)]=a567_0x58b99c(_0x576177['saturation'],a567_0x58b99c(_0x228859['defaultSaturation'],ImageryLayer[_0x4187af(0x1cb)])),this[_0x4187af(0x218)]=a567_0x58b99c(_0x576177[_0x4187af(0x218)],a567_0x58b99c(_0x228859[_0x4187af(0x233)],ImageryLayer['DEFAULT_GAMMA'])),this[_0x4187af(0x21e)]=a567_0x58b99c(_0x576177['splitDirection'],a567_0x58b99c(_0x228859['defaultSplit'],ImageryLayer['DEFAULT_SPLIT'])),this[_0x4187af(0x1da)]=a567_0x58b99c(_0x576177[_0x4187af(0x1da)],a567_0x58b99c(_0x228859['defaultMinificationFilter'],ImageryLayer[_0x4187af(0x222)])),this[_0x4187af(0x1f6)]=a567_0x58b99c(_0x576177['magnificationFilter'],a567_0x58b99c(_0x228859[_0x4187af(0x1e2)],ImageryLayer[_0x4187af(0x1e6)])),this['show']=a567_0x58b99c(_0x576177[_0x4187af(0x1ca)],!![]),this['_minimumTerrainLevel']=_0x576177['minimumTerrainLevel'],this[_0x4187af(0x1aa)]=_0x576177[_0x4187af(0x1d1)],this['_rectangle']=a567_0x58b99c(_0x576177[_0x4187af(0x1c4)],a567_0x3525fd[_0x4187af(0x1ae)]),this['_maximumAnisotropy']=_0x576177[_0x4187af(0x196)],this[_0x4187af(0x226)]={},this['_skeletonPlaceholder']=new a567_0x3f24f4(a567_0x2dc619[_0x4187af(0x1ab)](this)),this[_0x4187af(0x1f8)]=!![],this['_layerIndex']=-0x1,this[_0x4187af(0x1ce)]=![],this[_0x4187af(0x23a)]=undefined,this[_0x4187af(0x1bc)]=[],this[_0x4187af(0x216)]=_0x576177['cutoutRectangle'],this[_0x4187af(0x1c6)]=_0x576177[_0x4187af(0x1c6)],this[_0x4187af(0x1ef)]=a567_0x58b99c(_0x576177[_0x4187af(0x1ef)],ImageryLayer[_0x4187af(0x1ba)]);}Object[a567_0x89ac1d(0x23e)](ImageryLayer[a567_0x89ac1d(0x208)],{'imageryProvider':{'get':function(){var _0x50bdb9=a567_0x89ac1d;return this[_0x50bdb9(0x1fb)];}},'rectangle':{'get':function(){return this['_rectangle'];}}}),ImageryLayer['DEFAULT_BRIGHTNESS']=0x1,ImageryLayer[a567_0x89ac1d(0x1b6)]=0x1,ImageryLayer[a567_0x89ac1d(0x235)]=0x0,ImageryLayer[a567_0x89ac1d(0x1cb)]=0x1,ImageryLayer['DEFAULT_GAMMA']=0x1,ImageryLayer['DEFAULT_SPLIT']=a567_0xb4bed[a567_0x89ac1d(0x221)],ImageryLayer[a567_0x89ac1d(0x222)]=a567_0x36fee3[a567_0x89ac1d(0x224)],ImageryLayer[a567_0x89ac1d(0x1e6)]=a567_0x3776d0[a567_0x89ac1d(0x224)],ImageryLayer['DEFAULT_APPLY_COLOR_TO_ALPHA_THRESHOLD']=0.004,ImageryLayer[a567_0x89ac1d(0x208)][a567_0x89ac1d(0x1d2)]=function(){return this['_isBaseLayer'];},ImageryLayer[a567_0x89ac1d(0x208)][a567_0x89ac1d(0x1de)]=function(){return![];},ImageryLayer[a567_0x89ac1d(0x208)][a567_0x89ac1d(0x1b0)]=function(){return a567_0x595930(this);};var imageryBoundsScratch=new a567_0x3525fd(),tileImageryBoundsScratch=new a567_0x3525fd(),clippedRectangleScratch=new a567_0x3525fd(),terrainRectangleScratch=new a567_0x3525fd();ImageryLayer[a567_0x89ac1d(0x208)][a567_0x89ac1d(0x1ac)]=function(){var _0x293484=a567_0x89ac1d,_0x178997=this[_0x293484(0x1fb)],_0x245ed3=this[_0x293484(0x229)];return _0x178997['readyPromise']['then'](function(){var _0x2da1d0=_0x293484;return a567_0x3525fd[_0x2da1d0(0x21c)](_0x178997[_0x2da1d0(0x1c4)],_0x245ed3);});},ImageryLayer[a567_0x89ac1d(0x208)][a567_0x89ac1d(0x240)]=function(_0xb62249,_0x515f2a,_0x34309a){var _0x576b25=a567_0x89ac1d,_0x566add=_0xb62249[_0x576b25(0x19d)];if(a567_0x5d334b(this['_minimumTerrainLevel'])&&_0xb62249['level']<this[_0x576b25(0x23f)])return![];if(a567_0x5d334b(this[_0x576b25(0x1aa)])&&_0xb62249[_0x576b25(0x242)]>this[_0x576b25(0x1aa)])return![];var _0x552e19=this[_0x576b25(0x1fb)];!a567_0x5d334b(_0x34309a)&&(_0x34309a=_0x566add[_0x576b25(0x1e5)][_0x576b25(0x19f)]);if(!_0x552e19['ready'])return this[_0x576b25(0x230)]['loadingImagery']['addReference'](),_0x566add[_0x576b25(0x1e5)][_0x576b25(0x1bf)](_0x34309a,0x0,this[_0x576b25(0x230)]),!![];var _0x117418=_0x552e19[_0x576b25(0x21b)][_0x576b25(0x1ad)]instanceof a567_0x132571&&_0xb62249[_0x576b25(0x1c4)]['north']<a567_0x132571['MaximumLatitude']&&_0xb62249[_0x576b25(0x1c4)][_0x576b25(0x21a)]>-a567_0x132571['MaximumLatitude'],_0x51bf2f=a567_0x3525fd[_0x576b25(0x21c)](_0x552e19[_0x576b25(0x1c4)],this[_0x576b25(0x229)],imageryBoundsScratch),_0x2e50be=a567_0x3525fd['intersection'](_0xb62249[_0x576b25(0x1c4)],_0x51bf2f,tileImageryBoundsScratch);if(!a567_0x5d334b(_0x2e50be)){if(!this[_0x576b25(0x1d2)]())return![];var _0x5ec2a3=_0x51bf2f,_0xb89b84=_0xb62249[_0x576b25(0x1c4)];_0x2e50be=tileImageryBoundsScratch;if(_0xb89b84[_0x576b25(0x21a)]>=_0x5ec2a3['north'])_0x2e50be[_0x576b25(0x19c)]=_0x2e50be[_0x576b25(0x21a)]=_0x5ec2a3[_0x576b25(0x19c)];else _0xb89b84[_0x576b25(0x19c)]<=_0x5ec2a3[_0x576b25(0x21a)]?_0x2e50be['north']=_0x2e50be[_0x576b25(0x21a)]=_0x5ec2a3['south']:(_0x2e50be[_0x576b25(0x21a)]=Math[_0x576b25(0x19e)](_0xb89b84[_0x576b25(0x21a)],_0x5ec2a3['south']),_0x2e50be[_0x576b25(0x19c)]=Math[_0x576b25(0x1dc)](_0xb89b84[_0x576b25(0x19c)],_0x5ec2a3[_0x576b25(0x19c)]));if(_0xb89b84['west']>=_0x5ec2a3[_0x576b25(0x1b3)])_0x2e50be['west']=_0x2e50be[_0x576b25(0x1b3)]=_0x5ec2a3[_0x576b25(0x1b3)];else _0xb89b84[_0x576b25(0x1b3)]<=_0x5ec2a3['west']?_0x2e50be[_0x576b25(0x1a9)]=_0x2e50be[_0x576b25(0x1b3)]=_0x5ec2a3[_0x576b25(0x1a9)]:(_0x2e50be[_0x576b25(0x1a9)]=Math[_0x576b25(0x19e)](_0xb89b84[_0x576b25(0x1a9)],_0x5ec2a3[_0x576b25(0x1a9)]),_0x2e50be[_0x576b25(0x1b3)]=Math[_0x576b25(0x1dc)](_0xb89b84[_0x576b25(0x1b3)],_0x5ec2a3['east']));}var _0x42c061=0x0;if(_0x2e50be[_0x576b25(0x21a)]>0x0)_0x42c061=_0x2e50be[_0x576b25(0x21a)];else _0x2e50be[_0x576b25(0x19c)]<0x0&&(_0x42c061=_0x2e50be[_0x576b25(0x19c)]);var _0x4620fd=0x1,_0x494726=_0x4620fd*_0x515f2a[_0x576b25(0x1b9)](_0xb62249[_0x576b25(0x242)]),_0xdb0e18=getLevelWithMaximumTexelSpacing(this,_0x494726,_0x42c061);_0xdb0e18=Math['max'](0x0,_0xdb0e18);var _0x12cb16=_0x552e19['maximumLevel'];_0xdb0e18>_0x12cb16&&(_0xdb0e18=_0x12cb16);if(a567_0x5d334b(_0x552e19[_0x576b25(0x1f2)])){var _0x5c504a=_0x552e19[_0x576b25(0x1f2)];_0xdb0e18<_0x5c504a&&(_0xdb0e18=_0x5c504a);}var _0x568bc5=_0x552e19[_0x576b25(0x21b)],_0x2682e4=_0x568bc5[_0x576b25(0x1a3)](a567_0x3525fd[_0x576b25(0x1a2)](_0x2e50be),_0xdb0e18),_0x38383f=_0x568bc5[_0x576b25(0x1a3)](a567_0x3525fd[_0x576b25(0x20c)](_0x2e50be),_0xdb0e18),_0x48813d=_0xb62249[_0x576b25(0x1c4)][_0x576b25(0x1b7)]/0x200,_0x18e010=_0xb62249[_0x576b25(0x1c4)]['height']/0x200,_0x496b59=_0x568bc5[_0x576b25(0x204)](_0x2682e4['x'],_0x2682e4['y'],_0xdb0e18);Math[_0x576b25(0x1af)](_0x496b59[_0x576b25(0x21a)]-_0xb62249['rectangle'][_0x576b25(0x19c)])<_0x18e010&&_0x2682e4['y']<_0x38383f['y']&&++_0x2682e4['y'];Math[_0x576b25(0x1af)](_0x496b59[_0x576b25(0x1b3)]-_0xb62249['rectangle']['west'])<_0x48813d&&_0x2682e4['x']<_0x38383f['x']&&++_0x2682e4['x'];var _0x4dab18=_0x568bc5[_0x576b25(0x204)](_0x38383f['x'],_0x38383f['y'],_0xdb0e18);Math['abs'](_0x4dab18['north']-_0xb62249[_0x576b25(0x1c4)][_0x576b25(0x21a)])<_0x18e010&&_0x38383f['y']>_0x2682e4['y']&&--_0x38383f['y'];Math[_0x576b25(0x1af)](_0x4dab18[_0x576b25(0x1a9)]-_0xb62249[_0x576b25(0x1c4)][_0x576b25(0x1b3)])<_0x48813d&&_0x38383f['x']>_0x2682e4['x']&&--_0x38383f['x'];var _0x3e020b=a567_0x3525fd['clone'](_0xb62249[_0x576b25(0x1c4)],terrainRectangleScratch),_0x2e521b=_0x568bc5[_0x576b25(0x204)](_0x2682e4['x'],_0x2682e4['y'],_0xdb0e18),_0x256298=a567_0x3525fd[_0x576b25(0x21c)](_0x2e521b,_0x51bf2f,clippedRectangleScratch),_0xbb9ac4;_0x117418?(_0x568bc5[_0x576b25(0x1c1)](_0x3e020b,_0x3e020b),_0x568bc5[_0x576b25(0x1c1)](_0x2e521b,_0x2e521b),_0x568bc5[_0x576b25(0x1c1)](_0x256298,_0x256298),_0x568bc5[_0x576b25(0x1c1)](_0x51bf2f,_0x51bf2f),_0xbb9ac4=_0x568bc5[_0x576b25(0x225)][_0x576b25(0x1e9)](_0x568bc5),_0x48813d=_0x3e020b[_0x576b25(0x1b7)]/0x200,_0x18e010=_0x3e020b[_0x576b25(0x1cc)]/0x200):_0xbb9ac4=_0x568bc5['tileXYToRectangle'][_0x576b25(0x1e9)](_0x568bc5);var _0xeecace,_0x3c5127=0x0,_0x24958f=0x1,_0x589490;!this[_0x576b25(0x1d2)]()&&Math[_0x576b25(0x1af)](_0x256298[_0x576b25(0x1a9)]-_0x3e020b['west'])>=_0x48813d&&(_0x3c5127=Math[_0x576b25(0x1dc)](0x1,(_0x256298[_0x576b25(0x1a9)]-_0x3e020b[_0x576b25(0x1a9)])/_0x3e020b[_0x576b25(0x1b7)]));!this[_0x576b25(0x1d2)]()&&Math[_0x576b25(0x1af)](_0x256298['north']-_0x3e020b['north'])>=_0x18e010&&(_0x24958f=Math['max'](0x0,(_0x256298[_0x576b25(0x19c)]-_0x3e020b[_0x576b25(0x21a)])/_0x3e020b[_0x576b25(0x1cc)]));var _0x118c77=_0x24958f;for(var _0x422161=_0x2682e4['x'];_0x422161<=_0x38383f['x'];_0x422161++){_0xeecace=_0x3c5127,_0x2e521b=_0xbb9ac4(_0x422161,_0x2682e4['y'],_0xdb0e18),_0x256298=a567_0x3525fd[_0x576b25(0x231)](_0x2e521b,_0x51bf2f,clippedRectangleScratch);if(!a567_0x5d334b(_0x256298))continue;_0x3c5127=Math[_0x576b25(0x1dc)](0x1,(_0x256298[_0x576b25(0x1b3)]-_0x3e020b[_0x576b25(0x1a9)])/_0x3e020b[_0x576b25(0x1b7)]);_0x422161===_0x38383f['x']&&(this[_0x576b25(0x1d2)]()||Math['abs'](_0x256298[_0x576b25(0x1b3)]-_0x3e020b[_0x576b25(0x1b3)])<_0x48813d)&&(_0x3c5127=0x1);_0x24958f=_0x118c77;for(var _0x23ccab=_0x2682e4['y'];_0x23ccab<=_0x38383f['y'];_0x23ccab++){_0x589490=_0x24958f,_0x2e521b=_0xbb9ac4(_0x422161,_0x23ccab,_0xdb0e18),_0x256298=a567_0x3525fd[_0x576b25(0x231)](_0x2e521b,_0x51bf2f,clippedRectangleScratch);if(!a567_0x5d334b(_0x256298))continue;_0x24958f=Math['max'](0x0,(_0x256298['south']-_0x3e020b[_0x576b25(0x21a)])/_0x3e020b['height']);_0x23ccab===_0x38383f['y']&&(this['isBaseLayer']()||Math[_0x576b25(0x1af)](_0x256298[_0x576b25(0x21a)]-_0x3e020b['south'])<_0x18e010)&&(_0x24958f=0x0);var _0x599c5a=new a567_0x4a231b(_0xeecace,_0x24958f,_0x3c5127,_0x589490),_0x1468e3=this[_0x576b25(0x19a)](_0x422161,_0x23ccab,_0xdb0e18);_0x566add[_0x576b25(0x1e5)]['splice'](_0x34309a,0x0,new a567_0x3f24f4(_0x1468e3,_0x599c5a,_0x117418)),++_0x34309a;}}return!![];},ImageryLayer[a567_0x89ac1d(0x208)]['_calculateTextureTranslationAndScale']=function(_0x5aa8f8,_0x4add6a){var _0x3e8ead=a567_0x89ac1d,_0x39559a=_0x4add6a[_0x3e8ead(0x200)][_0x3e8ead(0x1c4)],_0x5f1cf4=_0x5aa8f8['rectangle'];if(_0x4add6a[_0x3e8ead(0x20f)]){var _0x5a6dde=_0x4add6a[_0x3e8ead(0x200)][_0x3e8ead(0x236)][_0x3e8ead(0x1a4)][_0x3e8ead(0x21b)];_0x39559a=_0x5a6dde[_0x3e8ead(0x1c1)](_0x39559a,imageryBoundsScratch),_0x5f1cf4=_0x5a6dde[_0x3e8ead(0x1c1)](_0x5f1cf4,terrainRectangleScratch);}var _0x2b3186=_0x5f1cf4[_0x3e8ead(0x1b7)],_0x207268=_0x5f1cf4[_0x3e8ead(0x1cc)],_0x13c6ec=_0x2b3186/_0x39559a[_0x3e8ead(0x1b7)],_0x586df2=_0x207268/_0x39559a[_0x3e8ead(0x1cc)];return new a567_0x4a231b(_0x13c6ec*(_0x5f1cf4[_0x3e8ead(0x1a9)]-_0x39559a[_0x3e8ead(0x1a9)])/_0x2b3186,_0x586df2*(_0x5f1cf4['south']-_0x39559a[_0x3e8ead(0x21a)])/_0x207268,_0x13c6ec,_0x586df2);},ImageryLayer[a567_0x89ac1d(0x208)][a567_0x89ac1d(0x199)]=function(_0x257403){var _0x486ee7=a567_0x89ac1d,_0x333680=this[_0x486ee7(0x1fb)],_0x487847=this;function _0x546e52(_0x41d986){var _0x183296=_0x486ee7;if(!a567_0x5d334b(_0x41d986))return _0x3be7f7();_0x257403[_0x183296(0x1f9)]=_0x41d986,_0x257403[_0x183296(0x1d5)]=a567_0x2c6ec7['RECEIVED'],_0x257403[_0x183296(0x20d)]=undefined,a567_0x534eef[_0x183296(0x19b)](_0x487847['_requestImageError']);}function _0x3be7f7(_0x2b14f1){var _0x2d74e2=_0x486ee7;if(_0x257403[_0x2d74e2(0x20d)]['state']===a567_0x43afc5[_0x2d74e2(0x22c)]){_0x257403[_0x2d74e2(0x1d5)]=a567_0x2c6ec7[_0x2d74e2(0x1c7)],_0x257403[_0x2d74e2(0x20d)]=undefined;return;}_0x257403['state']=a567_0x2c6ec7[_0x2d74e2(0x1d0)],_0x257403['request']=undefined;var _0x46dcca=_0x2d74e2(0x209)+_0x257403['x']+_0x2d74e2(0x1fc)+_0x257403['y']+_0x2d74e2(0x243)+_0x257403[_0x2d74e2(0x242)]+'.';_0x487847[_0x2d74e2(0x23a)]=a567_0x534eef[_0x2d74e2(0x195)](_0x487847[_0x2d74e2(0x23a)],_0x333680,_0x333680[_0x2d74e2(0x1b1)],_0x46dcca,_0x257403['x'],_0x257403['y'],_0x257403['level'],_0x396880,_0x2b14f1);}function _0x396880(){var _0x1cf005=_0x486ee7,_0x4066e0=new a567_0x605243({'throttle':![],'throttleByServer':!![],'type':a567_0x38b5fa[_0x1cf005(0x1a1)]});_0x257403['request']=_0x4066e0,_0x257403['state']=a567_0x2c6ec7['TRANSITIONING'];var _0x41cb98=_0x333680['requestImage'](_0x257403['x'],_0x257403['y'],_0x257403['level'],_0x4066e0);if(!a567_0x5d334b(_0x41cb98)){_0x257403['state']=a567_0x2c6ec7[_0x1cf005(0x1c7)],_0x257403[_0x1cf005(0x20d)]=undefined;return;}a567_0x5d334b(_0x333680['getTileCredits'])&&(_0x257403[_0x1cf005(0x1eb)]=_0x333680['getTileCredits'](_0x257403['x'],_0x257403['y'],_0x257403[_0x1cf005(0x242)])),a567_0x1f3633(_0x41cb98,_0x546e52,_0x3be7f7);}_0x396880();},ImageryLayer[a567_0x89ac1d(0x208)]['_createTextureWebGL']=function(_0x4ebafc,_0x2a9b08){var _0x562a4b=a567_0x89ac1d,_0x22ac9a=new a567_0x5060e5({'minificationFilter':this[_0x562a4b(0x1da)],'magnificationFilter':this[_0x562a4b(0x1f6)]}),_0x454ed9=_0x2a9b08['image'];if(a567_0x5d334b(_0x454ed9['internalFormat']))return new a567_0x152a55({'context':_0x4ebafc,'pixelFormat':_0x454ed9['internalFormat'],'width':_0x454ed9[_0x562a4b(0x1b7)],'height':_0x454ed9[_0x562a4b(0x1cc)],'source':{'arrayBufferView':_0x454ed9['bufferView']},'sampler':_0x22ac9a});return new a567_0x152a55({'context':_0x4ebafc,'source':_0x454ed9,'pixelFormat':this['_imageryProvider'][_0x562a4b(0x1f3)]?a567_0x556cc9[_0x562a4b(0x1dd)]:a567_0x556cc9['RGB'],'sampler':_0x22ac9a});},ImageryLayer[a567_0x89ac1d(0x208)][a567_0x89ac1d(0x1c8)]=function(_0x4c8354,_0x3febab){var _0xa5f2af=a567_0x89ac1d,_0x99472f=this[_0xa5f2af(0x1fb)],_0x35790c=_0x3febab[_0xa5f2af(0x1f9)];if(a567_0x5d334b(_0x99472f[_0xa5f2af(0x1c2)])){var _0x25ce63=_0x99472f['tileDiscardPolicy'];if(a567_0x5d334b(_0x25ce63)){if(!_0x25ce63[_0xa5f2af(0x1f4)]()){_0x3febab[_0xa5f2af(0x1d5)]=a567_0x2c6ec7['RECEIVED'];return;}if(_0x25ce63[_0xa5f2af(0x1df)](_0x35790c)){_0x3febab[_0xa5f2af(0x1d5)]=a567_0x2c6ec7[_0xa5f2af(0x1e4)];return;}}}if(this['minificationFilter']!==a567_0x36fee3[_0xa5f2af(0x1c9)]&&this['minificationFilter']!==a567_0x36fee3[_0xa5f2af(0x224)])throw new a567_0x447024('ImageryLayer\x20minification\x20filter\x20must\x20be\x20NEAREST\x20or\x20LINEAR');var _0x3ed5f8=this[_0xa5f2af(0x1e1)](_0x4c8354,_0x3febab);_0x99472f[_0xa5f2af(0x21b)]['projection']instanceof a567_0x132571?_0x3febab[_0xa5f2af(0x23b)]=_0x3ed5f8:_0x3febab[_0xa5f2af(0x198)]=_0x3ed5f8,_0x3febab[_0xa5f2af(0x1f9)]=undefined,_0x3febab[_0xa5f2af(0x1d5)]=a567_0x2c6ec7[_0xa5f2af(0x1e7)];};function getSamplerKey(_0x1eb2c0,_0x15b03a,_0x24b148){return _0x1eb2c0+':'+_0x15b03a+':'+_0x24b148;}ImageryLayer[a567_0x89ac1d(0x208)][a567_0x89ac1d(0x212)]=function(_0x27c6cf,_0x3fa97e){var _0x126359=a567_0x89ac1d,_0x2395c5=this[_0x126359(0x1da)],_0x269cc4=this[_0x126359(0x1f6)],_0xbfa27e=_0x2395c5===a567_0x36fee3[_0x126359(0x224)]&&_0x269cc4===a567_0x3776d0[_0x126359(0x224)];if(_0xbfa27e&&!a567_0x556cc9[_0x126359(0x207)](_0x3fa97e[_0x126359(0x206)])&&a567_0x2f9ca5['isPowerOfTwo'](_0x3fa97e['width'])&&a567_0x2f9ca5[_0x126359(0x1ea)](_0x3fa97e[_0x126359(0x1cc)])){_0x2395c5=a567_0x36fee3[_0x126359(0x237)];var _0x4c9586=a567_0x6a0335[_0x126359(0x1f0)],_0x1a26a8=Math['min'](_0x4c9586,a567_0x58b99c(this[_0x126359(0x1db)],_0x4c9586)),_0x16e29a=getSamplerKey(_0x2395c5,_0x269cc4,_0x1a26a8),_0x5cedf7=_0x27c6cf[_0x126359(0x1bb)][_0x126359(0x23d)];!a567_0x5d334b(_0x5cedf7)&&(_0x5cedf7={},_0x27c6cf[_0x126359(0x1bb)][_0x126359(0x23d)]=_0x5cedf7);var _0x3c1583=_0x5cedf7[_0x16e29a];!a567_0x5d334b(_0x3c1583)&&(_0x3c1583=_0x5cedf7[_0x16e29a]=new a567_0x5060e5({'wrapS':a567_0x162483['CLAMP_TO_EDGE'],'wrapT':a567_0x162483[_0x126359(0x1a6)],'minificationFilter':_0x2395c5,'magnificationFilter':_0x269cc4,'maximumAnisotropy':_0x1a26a8})),_0x3fa97e[_0x126359(0x1b8)](a567_0x38a5bd[_0x126359(0x239)]),_0x3fa97e[_0x126359(0x1ee)]=_0x3c1583;}else{var _0x3fe93b=getSamplerKey(_0x2395c5,_0x269cc4,0x0),_0x5439eb=_0x27c6cf['cache'][_0x126359(0x22b)];!a567_0x5d334b(_0x5439eb)&&(_0x5439eb={},_0x27c6cf['cache'][_0x126359(0x22b)]=_0x5439eb);var _0xe1b5a2=_0x5439eb[_0x3fe93b];!a567_0x5d334b(_0xe1b5a2)&&(_0xe1b5a2=_0x5439eb[_0x3fe93b]=new a567_0x5060e5({'wrapS':a567_0x162483[_0x126359(0x1a6)],'wrapT':a567_0x162483[_0x126359(0x1a6)],'minificationFilter':_0x2395c5,'magnificationFilter':_0x269cc4})),_0x3fa97e['sampler']=_0xe1b5a2;}},ImageryLayer[a567_0x89ac1d(0x208)][a567_0x89ac1d(0x1d4)]=function(_0x2c3be0,_0x554f26,_0x1545dc){var _0x3fe080=a567_0x89ac1d,_0x5df3d5=_0x554f26['textureWebMercator']||_0x554f26[_0x3fe080(0x198)],_0x255d01=_0x554f26[_0x3fe080(0x1c4)],_0x1566e4=_0x2c3be0[_0x3fe080(0x203)];_0x1545dc=a567_0x58b99c(_0x1545dc,!![]);if(_0x1545dc&&!(this[_0x3fe080(0x1fb)][_0x3fe080(0x21b)]['projection']instanceof a567_0x35ff08)&&_0x255d01[_0x3fe080(0x1b7)]/_0x5df3d5[_0x3fe080(0x1b7)]>0.00001){var _0x744ae1=this;_0x554f26['addReference']();var _0x2cadcf=new a567_0x478600({'persists':!![],'owner':this,'preExecute':function(_0x29866a){var _0xdc8892=_0x3fe080;reprojectToGeographic(_0x29866a,_0x1566e4,_0x5df3d5,_0x554f26[_0xdc8892(0x1c4)]);},'postExecute':function(_0x20379b){var _0x57da16=_0x3fe080;_0x554f26['texture']=_0x20379b,_0x744ae1[_0x57da16(0x212)](_0x1566e4,_0x20379b),_0x554f26[_0x57da16(0x1d5)]=a567_0x2c6ec7[_0x57da16(0x22e)],_0x554f26['releaseReference']();},'canceled':function(){var _0x3e6957=_0x3fe080;_0x554f26[_0x3e6957(0x1d5)]=a567_0x2c6ec7[_0x3e6957(0x1e7)],_0x554f26[_0x3e6957(0x227)]();}});this[_0x3fe080(0x1bc)][_0x3fe080(0x1c5)](_0x2cadcf);}else _0x1545dc&&(_0x554f26[_0x3fe080(0x198)]=_0x5df3d5),this['_finalizeReprojectTexture'](_0x1566e4,_0x5df3d5),_0x554f26[_0x3fe080(0x1d5)]=a567_0x2c6ec7[_0x3fe080(0x22e)];},ImageryLayer[a567_0x89ac1d(0x208)][a567_0x89ac1d(0x213)]=function(_0x5d082e){var _0x4ebffc=a567_0x89ac1d,_0x20ca43=this[_0x4ebffc(0x1bc)],_0x4acb74=_0x20ca43[_0x4ebffc(0x19f)];for(var _0x422ddb=0x0;_0x422ddb<_0x4acb74;++_0x422ddb){_0x5d082e[_0x4ebffc(0x1e8)][_0x4ebffc(0x1c5)](_0x20ca43[_0x422ddb]);}_0x20ca43[_0x4ebffc(0x19f)]=0x0;},ImageryLayer['prototype'][a567_0x89ac1d(0x211)]=function(){var _0x58d79f=a567_0x89ac1d;this[_0x58d79f(0x1bc)][_0x58d79f(0x1fa)](function(_0x47e60c){var _0x1f7f5b=_0x58d79f;a567_0x5d334b(_0x47e60c['canceled'])&&_0x47e60c[_0x1f7f5b(0x232)]();}),this[_0x58d79f(0x1bc)][_0x58d79f(0x19f)]=0x0;},ImageryLayer[a567_0x89ac1d(0x208)][a567_0x89ac1d(0x19a)]=function(_0x330743,_0x4f7a36,_0x2cc277,_0x3102a2){var _0x19a132=a567_0x89ac1d,_0x47a0ab=getImageryCacheKey(_0x330743,_0x4f7a36,_0x2cc277),_0x5bf6ff=this[_0x19a132(0x226)][_0x47a0ab];return!a567_0x5d334b(_0x5bf6ff)&&(_0x5bf6ff=new a567_0x2dc619(this,_0x330743,_0x4f7a36,_0x2cc277,_0x3102a2),this['_imageryCache'][_0x47a0ab]=_0x5bf6ff),_0x5bf6ff[_0x19a132(0x219)](),_0x5bf6ff;},ImageryLayer['prototype']['removeImageryFromCache']=function(_0x33b430){var _0x1d5dcb=getImageryCacheKey(_0x33b430['x'],_0x33b430['y'],_0x33b430['level']);delete this['_imageryCache'][_0x1d5dcb];};function getImageryCacheKey(_0x1a7b4e,_0x24e93d,_0x45b572){var _0x5ab419=a567_0x89ac1d;return JSON[_0x5ab419(0x1b5)]([_0x1a7b4e,_0x24e93d,_0x45b572]);}var uniformMap={'u_textureDimensions':function(){return this['textureDimensions'];},'u_texture':function(){return this['texture'];},'textureDimensions':new a567_0x1fdcf7(),'texture':undefined},float32ArrayScratch=a567_0x17d641[a567_0x89ac1d(0x1d3)]()?new Float32Array(0x2*0x40):undefined;function reprojectToGeographic(_0xa05cc8,_0x1f08fe,_0x2c8561,_0x24cd69){var _0x4c0041=a567_0x89ac1d,_0x10bd6a=_0x1f08fe['cache'][_0x4c0041(0x1cf)];if(!a567_0x5d334b(_0x10bd6a)){_0x10bd6a=_0x1f08fe['cache'][_0x4c0041(0x1cf)]={'vertexArray':undefined,'shaderProgram':undefined,'sampler':undefined,'destroy':function(){var _0x2be7a3=_0x4c0041;a567_0x5d334b(this[_0x2be7a3(0x1a8)])&&this[_0x2be7a3(0x1a8)][_0x2be7a3(0x1b0)](),a567_0x5d334b(this['vertexArray'])&&this[_0x2be7a3(0x21d)][_0x2be7a3(0x1b0)](),a567_0x5d334b(this[_0x2be7a3(0x217)])&&this['shaderProgram'][_0x2be7a3(0x1b0)]();}};var _0x1c7547=new Float32Array(0x2*0x40*0x2),_0x2c95ce=0x0;for(var _0x2b65a0=0x0;_0x2b65a0<0x40;++_0x2b65a0){var _0x46b6dd=_0x2b65a0/0x3f;_0x1c7547[_0x2c95ce++]=0x0,_0x1c7547[_0x2c95ce++]=_0x46b6dd,_0x1c7547[_0x2c95ce++]=0x1,_0x1c7547[_0x2c95ce++]=_0x46b6dd;}var _0x2c9222={'position':0x0,'webMercatorT':0x1},_0x22d2e2=a567_0x5e56b5[_0x4c0041(0x1fe)](0x2,0x40),_0xc321d4=a567_0x3ac769[_0x4c0041(0x1a0)]({'context':_0x1f08fe,'typedArray':_0x22d2e2,'usage':a567_0x30125c['STATIC_DRAW'],'indexDatatype':a567_0x213197['UNSIGNED_SHORT']});_0x10bd6a[_0x4c0041(0x21d)]=new a567_0x3d92c4({'context':_0x1f08fe,'attributes':[{'index':_0x2c9222[_0x4c0041(0x197)],'vertexBuffer':a567_0x3ac769['createVertexBuffer']({'context':_0x1f08fe,'typedArray':_0x1c7547,'usage':a567_0x30125c[_0x4c0041(0x1a7)]}),'componentsPerAttribute':0x2},{'index':_0x2c9222[_0x4c0041(0x1b4)],'vertexBuffer':a567_0x3ac769[_0x4c0041(0x1bd)]({'context':_0x1f08fe,'sizeInBytes':0x40*0x2*0x4,'usage':a567_0x30125c[_0x4c0041(0x1b2)]}),'componentsPerAttribute':0x1}],'indexBuffer':_0xc321d4});var _0x4796ec=new a567_0xdb05dc({'sources':[a567_0x929cad]});_0x10bd6a[_0x4c0041(0x217)]=a567_0x30b277['fromCache']({'context':_0x1f08fe,'vertexShaderSource':_0x4796ec,'fragmentShaderSource':a567_0x36f50f,'attributeLocations':_0x2c9222}),_0x10bd6a[_0x4c0041(0x1ee)]=new a567_0x5060e5({'wrapS':a567_0x162483['CLAMP_TO_EDGE'],'wrapT':a567_0x162483[_0x4c0041(0x1a6)],'minificationFilter':a567_0x36fee3[_0x4c0041(0x224)],'magnificationFilter':a567_0x3776d0[_0x4c0041(0x224)]});}_0x2c8561['sampler']=_0x10bd6a[_0x4c0041(0x1ee)];var _0x55a52d=_0x2c8561[_0x4c0041(0x1b7)],_0x1a9221=_0x2c8561['height'];uniformMap[_0x4c0041(0x1d9)]['x']=_0x55a52d,uniformMap['textureDimensions']['y']=_0x1a9221,uniformMap[_0x4c0041(0x198)]=_0x2c8561;var _0x5fb3da=Math[_0x4c0041(0x20b)](_0x24cd69[_0x4c0041(0x21a)]),_0x594c55=0.5*Math[_0x4c0041(0x202)]((0x1+_0x5fb3da)/(0x1-_0x5fb3da));_0x5fb3da=Math[_0x4c0041(0x20b)](_0x24cd69[_0x4c0041(0x19c)]);var _0x21187d=0.5*Math[_0x4c0041(0x202)]((0x1+_0x5fb3da)/(0x1-_0x5fb3da)),_0x4c9dae=0x1/(_0x21187d-_0x594c55),_0x5d54fe=new a567_0x152a55({'context':_0x1f08fe,'width':_0x55a52d,'height':_0x1a9221,'pixelFormat':_0x2c8561[_0x4c0041(0x206)],'pixelDatatype':_0x2c8561[_0x4c0041(0x1f1)],'preMultiplyAlpha':_0x2c8561['preMultiplyAlpha']});a567_0x2f9ca5[_0x4c0041(0x1ea)](_0x55a52d)&&a567_0x2f9ca5[_0x4c0041(0x1ea)](_0x1a9221)&&_0x5d54fe[_0x4c0041(0x1b8)](a567_0x38a5bd['NICEST']);var _0x153a27=_0x24cd69['south'],_0x16d4b7=_0x24cd69[_0x4c0041(0x19c)],_0xc1a919=float32ArrayScratch,_0x49fbd1=0x0;for(var _0x1eac2b=0x0;_0x1eac2b<0x40;++_0x1eac2b){var _0x143259=_0x1eac2b/0x3f,_0x23fc8c=a567_0x2f9ca5[_0x4c0041(0x1fd)](_0x153a27,_0x16d4b7,_0x143259);_0x5fb3da=Math[_0x4c0041(0x20b)](_0x23fc8c);var _0xc73ef0=0.5*Math['log']((0x1+_0x5fb3da)/(0x1-_0x5fb3da)),_0x53f0ac=(_0xc73ef0-_0x594c55)*_0x4c9dae;_0xc1a919[_0x49fbd1++]=_0x53f0ac,_0xc1a919[_0x49fbd1++]=_0x53f0ac;}_0x10bd6a[_0x4c0041(0x21d)][_0x4c0041(0x205)](0x1)[_0x4c0041(0x1f5)][_0x4c0041(0x238)](_0xc1a919),_0xa05cc8[_0x4c0041(0x217)]=_0x10bd6a[_0x4c0041(0x217)],_0xa05cc8[_0x4c0041(0x1c0)]=_0x5d54fe,_0xa05cc8[_0x4c0041(0x194)]=uniformMap,_0xa05cc8['vertexArray']=_0x10bd6a[_0x4c0041(0x21d)];}function getLevelWithMaximumTexelSpacing(_0xa96e10,_0x5e0fc1,_0x54f468){var _0x97a1b6=a567_0x89ac1d,_0x934590=_0xa96e10[_0x97a1b6(0x1fb)],_0x1fc6c1=_0x934590[_0x97a1b6(0x21b)],_0x237ac5=_0x1fc6c1[_0x97a1b6(0x210)],_0x135623=!(_0xa96e10['_imageryProvider'][_0x97a1b6(0x21b)]['projection']instanceof a567_0x35ff08)?Math[_0x97a1b6(0x215)](_0x54f468):0x1,_0x57ac32=_0x1fc6c1[_0x97a1b6(0x1c4)],_0x1ab5b5=_0x237ac5[_0x97a1b6(0x1c3)]*_0x57ac32[_0x97a1b6(0x1b7)]*_0x135623/(_0x934590[_0x97a1b6(0x1d6)]*_0x1fc6c1['getNumberOfXTilesAtLevel'](0x0)),_0x42644a=_0x1ab5b5/_0x5e0fc1,_0x23bf09=Math[_0x97a1b6(0x202)](_0x42644a)/Math[_0x97a1b6(0x202)](0x2),_0x561882=Math[_0x97a1b6(0x1a5)](_0x23bf09);return _0x561882|0x0;}export default ImageryLayer;