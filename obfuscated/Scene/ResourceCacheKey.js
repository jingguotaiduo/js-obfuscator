var a712_0x27cc5b=a712_0x245d;(function(_0x5afd47,_0x3a7d77){var _0x16009a=a712_0x245d,_0xc70b5a=_0x5afd47();while(!![]){try{var _0x57314f=-parseInt(_0x16009a(0x1b8))/0x1+-parseInt(_0x16009a(0x1dd))/0x2+parseInt(_0x16009a(0x1bb))/0x3*(-parseInt(_0x16009a(0x1ff))/0x4)+parseInt(_0x16009a(0x1da))/0x5*(parseInt(_0x16009a(0x1c6))/0x6)+-parseInt(_0x16009a(0x1bc))/0x7+parseInt(_0x16009a(0x1d5))/0x8*(-parseInt(_0x16009a(0x1d8))/0x9)+parseInt(_0x16009a(0x1d6))/0xa*(parseInt(_0x16009a(0x1b9))/0xb);if(_0x57314f===_0x3a7d77)break;else _0xc70b5a['push'](_0xc70b5a['shift']());}catch(_0x2071c2){_0xc70b5a['push'](_0xc70b5a['shift']());}}}(a712_0x8983,0x87986));import a712_0x410b29 from'../Core/Check.js';import a712_0x3e7e8f from'../Core/defaultValue.js';import a712_0x4225f8 from'../Core/defined.js';import a712_0x5b6357 from'../Core/DeveloperError.js';import a712_0x30c07d from'../Core/getAbsoluteUri.js';import a712_0x67ff6 from'./GltfLoaderUtil.js';import a712_0x1dd748 from'./hasExtension.js';var ResourceCacheKey={};function getExternalResourceCacheKey(_0x3b639d){var _0xbbde8f=a712_0x245d;return a712_0x30c07d(_0x3b639d[_0xbbde8f(0x203)]);}function getBufferViewCacheKey(_0x320eab){var _0x667f65=a712_0x245d,_0x1aa71a=_0x320eab['byteOffset'],_0x18301b=_0x320eab[_0x667f65(0x1b5)];if(a712_0x1dd748(_0x320eab,'EXT_meshopt_compression')){var _0xef2513=_0x320eab['extensions'][_0x667f65(0x1fa)];_0x1aa71a=a712_0x3e7e8f(_0xef2513[_0x667f65(0x1eb)],0x0),_0x18301b=_0xef2513[_0x667f65(0x1b5)];}return _0x1aa71a+'-'+(_0x1aa71a+_0x18301b);}function a712_0x8983(){var _0x483598=['bufferViewId','One\x20of\x20options.bufferViewId\x20and\x20options.draco\x20must\x20be\x20defined.','getVertexBufferCacheKey','componentType','extensions','options.resource','wrapS','embedded-buffer:','EXT_meshopt_compression','texture:','object','accessors','draco:','56ukXyoV','number','-accessor-','stringify','url','-typed-array','imageId','embedded-schema:','index','accessorId','-draco','buffers','parentResource','getImageIdFromTexture','uri','options.gltf','byteLength','wrapT','When\x20options.draco\x20is\x20defined\x20options.attributeSemantic\x20must\x20also\x20be\x20defined.','956959yBXqDe','11AePHzb','EMPTY_OBJECT','70095tAOYli','7444248TbFDPs','external-schema:','options.baseResource','bufferView','vertex-buffer:','-range-','getImageCacheKey','-buffer-id-','image:','getBufferViewCacheKey','1182HwUIUG','draco','textureInfo','index-buffer:','getDerivedResource','buffer-view:','getEmbeddedBufferCacheKey','gltfResource','-sampler-','type','-draco-','getExternalBufferCacheKey','options.textureInfo','bufferViews','options.attributeSemantic','612408mBTFXP','27580690YKMEKR','dequantize','9dFtShJ','options.accessorId','8805zmMUtE','loadAsTypedArray','gltf','251008OetZlQ','getSchemaCacheKey','gltf:','options.bufferViewId','schema','string','buffer','getTextureCacheKey','baseResource','options.parentResource','options.imageId','options.bufferId','options.draco','One\x20of\x20options.schema\x20and\x20options.resource\x20must\x20be\x20defined.','byteOffset','external-buffer:','attributeSemantic','resource','options.gltfResource','typeOf','getGltfCacheKey'];a712_0x8983=function(){return _0x483598;};return a712_0x8983();}function getAccessorCacheKey(_0x1f6da5,_0x30dfd3){var _0x53c9f5=a712_0x245d,_0x3f7b7a=_0x30dfd3[_0x53c9f5(0x1eb)]+_0x1f6da5[_0x53c9f5(0x1eb)],_0x1b3ddf=_0x1f6da5[_0x53c9f5(0x1f5)],_0x3bbbed=_0x1f6da5[_0x53c9f5(0x1cf)],_0x59bfd6=_0x1f6da5['count'];return _0x3f7b7a+'-'+_0x1b3ddf+'-'+_0x3bbbed+'-'+_0x59bfd6;}function getExternalBufferCacheKey(_0x14c459){return getExternalResourceCacheKey(_0x14c459);}function getEmbeddedBufferCacheKey(_0x58a14f,_0x451683){var _0x2fe829=a712_0x245d,_0x475b90=getExternalResourceCacheKey(_0x58a14f);return _0x475b90+_0x2fe829(0x1c3)+_0x451683;}function a712_0x245d(_0x160e21,_0x280fc9){var _0x8983a6=a712_0x8983();return a712_0x245d=function(_0x245d83,_0xcf2536){_0x245d83=_0x245d83-0x1b5;var _0x1041e=_0x8983a6[_0x245d83];return _0x1041e;},a712_0x245d(_0x160e21,_0x280fc9);}function getBufferCacheKey(_0x429b9a,_0x225f6d,_0x218a28,_0x176a4a){var _0x1a96e6=a712_0x245d;if(a712_0x4225f8(_0x429b9a[_0x1a96e6(0x20d)])){var _0xc92728=_0x176a4a[_0x1a96e6(0x1ca)]({'url':_0x429b9a[_0x1a96e6(0x20d)]});return getExternalBufferCacheKey(_0xc92728);}return getEmbeddedBufferCacheKey(_0x218a28,_0x225f6d);}function getDracoCacheKey(_0x41c421,_0x3c1cc2,_0x56f836,_0x5a7ffe){var _0x1bf677=a712_0x245d,_0x3e094d=_0x3c1cc2[_0x1bf677(0x1bf)],_0x429b53=_0x41c421[_0x1bf677(0x1d3)][_0x3e094d],_0x1aa466=_0x429b53[_0x1bf677(0x1e3)],_0x8fe288=_0x41c421[_0x1bf677(0x20a)][_0x1aa466],_0x2a7ece=getBufferCacheKey(_0x8fe288,_0x1aa466,_0x56f836,_0x5a7ffe),_0x1732e9=getBufferViewCacheKey(_0x429b53);return _0x2a7ece+_0x1bf677(0x1c1)+_0x1732e9;}function getImageCacheKey(_0x527288,_0x503fb7,_0xa07d97,_0x115527){var _0x354a19=a712_0x245d,_0x51df3a=_0x527288['images'][_0x503fb7],_0x29139c=_0x51df3a[_0x354a19(0x1bf)],_0xba82c4=_0x51df3a[_0x354a19(0x20d)];if(a712_0x4225f8(_0xba82c4)){var _0x4f055e=_0x115527['getDerivedResource']({'url':_0xba82c4});return getExternalResourceCacheKey(_0x4f055e);}var _0x494bf4=_0x527288[_0x354a19(0x1d3)][_0x29139c],_0x12b0e3=_0x494bf4[_0x354a19(0x1e3)],_0x1447ec=_0x527288['buffers'][_0x12b0e3],_0x58e878=getBufferCacheKey(_0x1447ec,_0x12b0e3,_0xa07d97,_0x115527),_0x2c799b=getBufferViewCacheKey(_0x494bf4);return _0x58e878+_0x354a19(0x1c1)+_0x2c799b;}function getSamplerCacheKey(_0x3ff047,_0x4349fe){var _0x3e5a97=a712_0x245d,_0xcd6669=a712_0x67ff6['createSampler']({'gltf':_0x3ff047,'textureInfo':_0x4349fe});return _0xcd6669[_0x3e5a97(0x1f8)]+'-'+_0xcd6669[_0x3e5a97(0x1b6)]+'-'+_0xcd6669['minificationFilter']+'-'+_0xcd6669['magnificationFilter'];}ResourceCacheKey[a712_0x27cc5b(0x1de)]=function(_0x2199a8){var _0xf71c8f=a712_0x27cc5b,_0x1e7a24=_0x2199a8[_0xf71c8f(0x1e1)],_0x2813df=_0x2199a8[_0xf71c8f(0x1ee)];if(a712_0x4225f8(_0x1e7a24)===a712_0x4225f8(_0x2813df))throw new a712_0x5b6357(_0xf71c8f(0x1ea));if(a712_0x4225f8(_0x1e7a24))return _0xf71c8f(0x206)+JSON[_0xf71c8f(0x202)](_0x1e7a24);return _0xf71c8f(0x1bd)+getExternalResourceCacheKey(_0x2813df);},ResourceCacheKey[a712_0x27cc5b(0x1d1)]=function(_0x581ca4){var _0x54ccb9=a712_0x27cc5b;_0x581ca4=a712_0x3e7e8f(_0x581ca4,a712_0x3e7e8f[_0x54ccb9(0x1ba)]);var _0x3a224e=_0x581ca4[_0x54ccb9(0x1ee)];return a712_0x410b29['typeOf'][_0x54ccb9(0x1fc)](_0x54ccb9(0x1f7),_0x3a224e),_0x54ccb9(0x1ec)+getExternalBufferCacheKey(_0x3a224e);},ResourceCacheKey[a712_0x27cc5b(0x1cc)]=function(_0x3c0c8f){var _0x116ef4=a712_0x27cc5b;_0x3c0c8f=a712_0x3e7e8f(_0x3c0c8f,a712_0x3e7e8f['EMPTY_OBJECT']);var _0x1e04ce=_0x3c0c8f[_0x116ef4(0x20b)],_0x3c4e9b=_0x3c0c8f['bufferId'];return a712_0x410b29[_0x116ef4(0x1f0)][_0x116ef4(0x1fc)](_0x116ef4(0x1e6),_0x1e04ce),a712_0x410b29['typeOf']['number'](_0x116ef4(0x1e8),_0x3c4e9b),_0x116ef4(0x1f9)+getEmbeddedBufferCacheKey(_0x1e04ce,_0x3c4e9b);},ResourceCacheKey[a712_0x27cc5b(0x1f1)]=function(_0x114327){var _0xbdc8f6=a712_0x27cc5b;_0x114327=a712_0x3e7e8f(_0x114327,a712_0x3e7e8f[_0xbdc8f6(0x1ba)]);var _0x2f199c=_0x114327[_0xbdc8f6(0x1cd)];return a712_0x410b29['typeOf'][_0xbdc8f6(0x1fc)](_0xbdc8f6(0x1ef),_0x2f199c),_0xbdc8f6(0x1df)+getExternalResourceCacheKey(_0x2f199c);},ResourceCacheKey[a712_0x27cc5b(0x1c5)]=function(_0x4eecab){var _0xea3b03=a712_0x27cc5b;_0x4eecab=a712_0x3e7e8f(_0x4eecab,a712_0x3e7e8f['EMPTY_OBJECT']);var _0x5af276=_0x4eecab[_0xea3b03(0x1dc)],_0x4a7352=_0x4eecab[_0xea3b03(0x1f2)],_0x22bf39=_0x4eecab[_0xea3b03(0x1cd)],_0x4b35fd=_0x4eecab[_0xea3b03(0x1e5)];a712_0x410b29[_0xea3b03(0x1f0)]['object']('options.gltf',_0x5af276),a712_0x410b29[_0xea3b03(0x1f0)][_0xea3b03(0x200)](_0xea3b03(0x1e0),_0x4a7352),a712_0x410b29['typeOf'][_0xea3b03(0x1fc)]('options.gltfResource',_0x22bf39),a712_0x410b29['typeOf'][_0xea3b03(0x1fc)]('options.baseResource',_0x4b35fd);var _0x377a50=_0x5af276[_0xea3b03(0x1d3)][_0x4a7352],_0x4f3d4a=_0x377a50[_0xea3b03(0x1e3)],_0x34aad1=_0x5af276['buffers'][_0x4f3d4a];if(a712_0x1dd748(_0x377a50,_0xea3b03(0x1fa))){var _0x21322b=_0x377a50[_0xea3b03(0x1f6)]['EXT_meshopt_compression'];_0x4f3d4a=_0x21322b[_0xea3b03(0x1e3)];}var _0x3cf408=getBufferCacheKey(_0x34aad1,_0x4f3d4a,_0x22bf39,_0x4b35fd),_0x4b4bba=getBufferViewCacheKey(_0x377a50);return _0xea3b03(0x1cb)+_0x3cf408+_0xea3b03(0x1c1)+_0x4b4bba;},ResourceCacheKey['getDracoCacheKey']=function(_0x4e3f82){var _0x4e12d3=a712_0x27cc5b;_0x4e3f82=a712_0x3e7e8f(_0x4e3f82,a712_0x3e7e8f['EMPTY_OBJECT']);var _0x205469=_0x4e3f82[_0x4e12d3(0x1dc)],_0x47574c=_0x4e3f82[_0x4e12d3(0x1c7)],_0x5e9ef7=_0x4e3f82[_0x4e12d3(0x1cd)],_0x1c2b4e=_0x4e3f82[_0x4e12d3(0x1e5)];return a712_0x410b29[_0x4e12d3(0x1f0)][_0x4e12d3(0x1fc)]('options.gltf',_0x205469),a712_0x410b29[_0x4e12d3(0x1f0)][_0x4e12d3(0x1fc)](_0x4e12d3(0x1e9),_0x47574c),a712_0x410b29['typeOf'][_0x4e12d3(0x1fc)]('options.gltfResource',_0x5e9ef7),a712_0x410b29['typeOf'][_0x4e12d3(0x1fc)]('options.baseResource',_0x1c2b4e),_0x4e12d3(0x1fe)+getDracoCacheKey(_0x205469,_0x47574c,_0x5e9ef7,_0x1c2b4e);},ResourceCacheKey[a712_0x27cc5b(0x1f4)]=function(_0xc5b037){var _0x3497af=a712_0x27cc5b;_0xc5b037=a712_0x3e7e8f(_0xc5b037,a712_0x3e7e8f[_0x3497af(0x1ba)]);var _0x38a6bf=_0xc5b037[_0x3497af(0x1dc)],_0x1ebcee=_0xc5b037[_0x3497af(0x1cd)],_0x2265c2=_0xc5b037[_0x3497af(0x1e5)],_0x38fc67=_0xc5b037[_0x3497af(0x1f2)],_0x1d372e=_0xc5b037[_0x3497af(0x1c7)],_0x502f00=_0xc5b037[_0x3497af(0x1ed)],_0x39898a=a712_0x3e7e8f(_0xc5b037[_0x3497af(0x1d7)],![]),_0x584b8a=a712_0x3e7e8f(_0xc5b037[_0x3497af(0x1db)],![]);a712_0x410b29[_0x3497af(0x1f0)][_0x3497af(0x1fc)]('options.gltf',_0x38a6bf),a712_0x410b29['typeOf'][_0x3497af(0x1fc)](_0x3497af(0x1ef),_0x1ebcee),a712_0x410b29[_0x3497af(0x1f0)][_0x3497af(0x1fc)](_0x3497af(0x1be),_0x2265c2);var _0x2c2589=a712_0x4225f8(_0x38fc67),_0xbb38cf=a712_0x4225f8(_0x1d372e),_0x34afdc=a712_0x4225f8(_0x502f00);if(_0x2c2589===_0xbb38cf)throw new a712_0x5b6357(_0x3497af(0x1f3));if(_0xbb38cf&&!_0x34afdc)throw new a712_0x5b6357(_0x3497af(0x1b7));_0xbb38cf&&(a712_0x410b29[_0x3497af(0x1f0)][_0x3497af(0x1fc)](_0x3497af(0x1e9),_0x1d372e),a712_0x410b29[_0x3497af(0x1f0)][_0x3497af(0x1e2)](_0x3497af(0x1d4),_0x502f00));var _0x274a51='';_0x39898a&&(_0x274a51+='-dequantize');_0x584b8a&&(_0x274a51+=_0x3497af(0x204));if(a712_0x4225f8(_0x1d372e)){var _0x2c4741=getDracoCacheKey(_0x38a6bf,_0x1d372e,_0x1ebcee,_0x2265c2);return'vertex-buffer:'+_0x2c4741+_0x3497af(0x1d0)+_0x502f00+_0x274a51;}var _0x1341b7=_0x38a6bf[_0x3497af(0x1d3)][_0x38fc67],_0x5610d7=_0x1341b7[_0x3497af(0x1e3)],_0x297f53=_0x38a6bf[_0x3497af(0x20a)][_0x5610d7],_0x2fe274=getBufferCacheKey(_0x297f53,_0x5610d7,_0x1ebcee,_0x2265c2),_0x5c2521=getBufferViewCacheKey(_0x1341b7);return _0x3497af(0x1c0)+_0x2fe274+_0x3497af(0x1c1)+_0x5c2521+_0x274a51;},ResourceCacheKey['getIndexBufferCacheKey']=function(_0x28b067){var _0x749de2=a712_0x27cc5b;_0x28b067=a712_0x3e7e8f(_0x28b067,a712_0x3e7e8f[_0x749de2(0x1ba)]);var _0x34bf13=_0x28b067[_0x749de2(0x1dc)],_0x5dee3d=_0x28b067[_0x749de2(0x208)],_0x37bb21=_0x28b067['gltfResource'],_0x17c259=_0x28b067['baseResource'],_0x279fd5=_0x28b067[_0x749de2(0x1c7)],_0x456080=a712_0x3e7e8f(_0x28b067['loadAsTypedArray'],![]);a712_0x410b29[_0x749de2(0x1f0)][_0x749de2(0x1fc)](_0x749de2(0x20e),_0x34bf13),a712_0x410b29[_0x749de2(0x1f0)][_0x749de2(0x200)](_0x749de2(0x1d9),_0x5dee3d),a712_0x410b29[_0x749de2(0x1f0)][_0x749de2(0x1fc)](_0x749de2(0x1ef),_0x37bb21),a712_0x410b29[_0x749de2(0x1f0)]['object']('options.baseResource',_0x17c259);var _0x118b69='';_0x456080&&(_0x118b69+=_0x749de2(0x204));if(a712_0x4225f8(_0x279fd5)){var _0x138e00=getDracoCacheKey(_0x34bf13,_0x279fd5,_0x37bb21,_0x17c259);return _0x749de2(0x1c9)+_0x138e00+_0x749de2(0x209)+_0x118b69;}var _0x35adc5=_0x34bf13[_0x749de2(0x1fd)][_0x5dee3d],_0x388c2a=_0x35adc5['bufferView'],_0x14fd68=_0x34bf13[_0x749de2(0x1d3)][_0x388c2a],_0x107c9a=_0x14fd68[_0x749de2(0x1e3)],_0x1beb90=_0x34bf13['buffers'][_0x107c9a],_0x44aac9=getBufferCacheKey(_0x1beb90,_0x107c9a,_0x37bb21,_0x17c259),_0x471bbb=getAccessorCacheKey(_0x35adc5,_0x14fd68);return _0x749de2(0x1c9)+_0x44aac9+_0x749de2(0x201)+_0x471bbb+_0x118b69;},ResourceCacheKey[a712_0x27cc5b(0x1c2)]=function(_0x181b35){var _0x4e05c7=a712_0x27cc5b;_0x181b35=a712_0x3e7e8f(_0x181b35,a712_0x3e7e8f['EMPTY_OBJECT']);var _0x615a6d=_0x181b35[_0x4e05c7(0x1dc)],_0x3ce363=_0x181b35[_0x4e05c7(0x205)],_0x178fcd=_0x181b35[_0x4e05c7(0x1cd)],_0x262f65=_0x181b35[_0x4e05c7(0x1e5)];a712_0x410b29['typeOf']['object'](_0x4e05c7(0x20e),_0x615a6d),a712_0x410b29[_0x4e05c7(0x1f0)]['number'](_0x4e05c7(0x1e7),_0x3ce363),a712_0x410b29[_0x4e05c7(0x1f0)]['object'](_0x4e05c7(0x1ef),_0x178fcd),a712_0x410b29[_0x4e05c7(0x1f0)][_0x4e05c7(0x1fc)](_0x4e05c7(0x1be),_0x262f65);var _0x58b670=getImageCacheKey(_0x615a6d,_0x3ce363,_0x178fcd,_0x262f65);return _0x4e05c7(0x1c4)+_0x58b670;},ResourceCacheKey[a712_0x27cc5b(0x1e4)]=function(_0xfa03f3){var _0x57b0b2=a712_0x27cc5b;_0xfa03f3=a712_0x3e7e8f(_0xfa03f3,a712_0x3e7e8f['EMPTY_OBJECT']);var _0x4dcedf=_0xfa03f3[_0x57b0b2(0x1dc)],_0xf35199=_0xfa03f3[_0x57b0b2(0x1c8)],_0xd76a27=_0xfa03f3[_0x57b0b2(0x1cd)],_0x531b43=_0xfa03f3['baseResource'],_0x3bcc01=_0xfa03f3['supportedImageFormats'];a712_0x410b29['typeOf'][_0x57b0b2(0x1fc)](_0x57b0b2(0x20e),_0x4dcedf),a712_0x410b29['typeOf'][_0x57b0b2(0x1fc)](_0x57b0b2(0x1d2),_0xf35199),a712_0x410b29[_0x57b0b2(0x1f0)][_0x57b0b2(0x1fc)](_0x57b0b2(0x1ef),_0xd76a27),a712_0x410b29[_0x57b0b2(0x1f0)][_0x57b0b2(0x1fc)](_0x57b0b2(0x1be),_0x531b43),a712_0x410b29[_0x57b0b2(0x1f0)][_0x57b0b2(0x1fc)]('options.supportedImageFormats',_0x3bcc01);var _0x43a8d1=_0xf35199[_0x57b0b2(0x207)],_0x520726=a712_0x67ff6[_0x57b0b2(0x20c)]({'gltf':_0x4dcedf,'textureId':_0x43a8d1,'supportedImageFormats':_0x3bcc01}),_0x1118f4=getImageCacheKey(_0x4dcedf,_0x520726,_0xd76a27,_0x531b43),_0x16edf2=getSamplerCacheKey(_0x4dcedf,_0xf35199);return _0x57b0b2(0x1fb)+_0x1118f4+_0x57b0b2(0x1ce)+_0x16edf2;};export default ResourceCacheKey;