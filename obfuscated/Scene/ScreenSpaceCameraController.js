var a720_0x73dad0=a720_0x3431;(function(_0x436fb3,_0x5ae1a4){var _0x56009c=a720_0x3431,_0xf4f2df=_0x436fb3();while(!![]){try{var _0x13d452=parseInt(_0x56009c(0x180))/0x1+parseInt(_0x56009c(0x108))/0x2+parseInt(_0x56009c(0x1a0))/0x3+-parseInt(_0x56009c(0x155))/0x4+parseInt(_0x56009c(0x133))/0x5*(parseInt(_0x56009c(0x1a6))/0x6)+parseInt(_0x56009c(0x145))/0x7+-parseInt(_0x56009c(0x1ab))/0x8*(parseInt(_0x56009c(0x126))/0x9);if(_0x13d452===_0x5ae1a4)break;else _0xf4f2df['push'](_0xf4f2df['shift']());}catch(_0x2586e4){_0xf4f2df['push'](_0xf4f2df['shift']());}}}(a720_0x490d,0xd10f4));import a720_0x39746e from'../Core/Cartesian2.js';import a720_0x3e085a from'../Core/Cartesian3.js';import a720_0x5309f5 from'../Core/Cartesian4.js';import a720_0x5d1a11 from'../Core/Cartographic.js';import a720_0x48e0e6 from'../Core/defaultValue.js';import a720_0x1e9adf from'../Core/defined.js';import a720_0x397e08 from'../Core/destroyObject.js';import a720_0x44e1e6 from'../Core/DeveloperError.js';import a720_0x51b82e from'../Core/Ellipsoid.js';import a720_0x5ddba6 from'../Core/HeadingPitchRoll.js';import a720_0x31a92c from'../Core/IntersectionTests.js';import a720_0x1648a8 from'../Core/KeyboardEventModifier.js';import a720_0x370b8b from'../Core/Math.js';import a720_0x447dbc from'../Core/Matrix3.js';import a720_0xe767 from'../Core/Matrix4.js';import a720_0x14af85 from'../Core/OrthographicFrustum.js';import a720_0x339ca3 from'../Core/Plane.js';import a720_0x362d9a from'../Core/Quaternion.js';import a720_0x5277d5 from'../Core/Ray.js';import a720_0x394e5a from'../Core/TerrainExaggeration.js';import a720_0xdfbda6 from'../Core/Transforms.js';import a720_0x1aa2c9 from'./CameraEventAggregator.js';import a720_0x45b583 from'./CameraEventType.js';import a720_0x3498da from'./MapMode2D.js';import a720_0x21a5d0 from'./SceneMode.js';import a720_0x398ab0 from'./SceneTransforms.js';import a720_0x11fa1f from'./TweenCollection.js';function ScreenSpaceCameraController(_0x5319f4){var _0x553f2f=a720_0x3431;if(!a720_0x1e9adf(_0x5319f4))throw new a720_0x44e1e6(_0x553f2f(0x136));this['enableInputs']=!![],this[_0x553f2f(0xe6)]=!![],this[_0x553f2f(0x10c)]=!![],this[_0x553f2f(0x134)]=!![],this[_0x553f2f(0x1ac)]=!![],this[_0x553f2f(0x173)]=!![],this['inertiaSpin']=0.9,this['inertiaTranslate']=0.9,this[_0x553f2f(0x18d)]=0.8,this['maximumMovementRatio']=0.1,this[_0x553f2f(0x142)]=0x3,this[_0x553f2f(0x13d)]=0x1,this[_0x553f2f(0x1b0)]=Number[_0x553f2f(0x11a)],this[_0x553f2f(0x122)]=a720_0x45b583[_0x553f2f(0x12d)],this[_0x553f2f(0x198)]=[a720_0x45b583[_0x553f2f(0x15b)],a720_0x45b583[_0x553f2f(0xfa)],a720_0x45b583[_0x553f2f(0xdb)]],this[_0x553f2f(0x12e)]=a720_0x45b583[_0x553f2f(0x12d)],this[_0x553f2f(0x18c)]=[a720_0x45b583[_0x553f2f(0x1a2)],a720_0x45b583[_0x553f2f(0xdb)],{'eventType':a720_0x45b583['LEFT_DRAG'],'modifier':a720_0x1648a8[_0x553f2f(0x15d)]},{'eventType':a720_0x45b583[_0x553f2f(0x15b)],'modifier':a720_0x1648a8[_0x553f2f(0x15d)]}],this[_0x553f2f(0x158)]={'eventType':a720_0x45b583[_0x553f2f(0x12d)],'modifier':a720_0x1648a8[_0x553f2f(0x16a)]},this[_0x553f2f(0x129)]=0x249f0,this[_0x553f2f(0x113)]=this[_0x553f2f(0x129)],this['minimumCollisionTerrainHeight']=0x3a98,this[_0x553f2f(0x160)]=this['minimumCollisionTerrainHeight'],this[_0x553f2f(0x166)]=0x7270e0,this[_0x553f2f(0x161)]=this[_0x553f2f(0x166)],this[_0x553f2f(0x104)]=!![],this['_scene']=_0x5319f4,this[_0x553f2f(0x1af)]=undefined,this['_ellipsoid']=undefined,this['_aggregator']=new a720_0x1aa2c9(_0x5319f4[_0x553f2f(0x186)]),this[_0x553f2f(0x10d)]=undefined,this[_0x553f2f(0x151)]=undefined,this['_lastInertiaTranslateMovement']=undefined,this[_0x553f2f(0x11c)]=undefined,this['_inertiaDisablers']={'_lastInertiaZoomMovement':[_0x553f2f(0x10d),_0x553f2f(0xe0),_0x553f2f(0x11c)],'_lastInertiaTiltMovement':['_lastInertiaSpinMovement',_0x553f2f(0xe0)]},this['_tweens']=new a720_0x11fa1f(),this[_0x553f2f(0x11d)]=undefined,this['_horizontalRotationAxis']=undefined,this[_0x553f2f(0x19c)]=new a720_0x39746e(-0x1,-0x1),this[_0x553f2f(0x170)]=new a720_0x3e085a(),this[_0x553f2f(0x12a)]=new a720_0x39746e(-0x1,-0x1),this[_0x553f2f(0x14c)]=new a720_0x3e085a(),this[_0x553f2f(0x12f)]=new a720_0x3e085a(),this[_0x553f2f(0xf8)]=new a720_0x39746e(),this[_0x553f2f(0x115)]=new a720_0x39746e(),this['_zoomMouseStart']=new a720_0x39746e(-0x1,-0x1),this['_zoomWorldPosition']=new a720_0x3e085a(),this[_0x553f2f(0x13f)]=![],this[_0x553f2f(0x16d)]=![],this['_looking']=![],this[_0x553f2f(0x159)]=![],this['_strafing']=![],this[_0x553f2f(0x162)]=![],this['_zoomingUnderground']=![],this[_0x553f2f(0x127)]=![],this['_adjustedHeightForTerrain']=![],this[_0x553f2f(0xd9)]=![];var _0x5f4186=_0x5319f4[_0x553f2f(0xfc)];this[_0x553f2f(0x116)]=_0x5f4186[_0x553f2f(0xf2)](new a720_0x5d1a11(Math['PI'],a720_0x370b8b['PI_OVER_TWO'])),this[_0x553f2f(0x15a)]=0x5,this['_rotateFactor']=undefined,this[_0x553f2f(0x17a)]=undefined,this[_0x553f2f(0x199)]=1.77,this[_0x553f2f(0x18a)]=0x1/0x1388,this['_minimumZoomRate']=0x14,this[_0x553f2f(0x148)]=0x55f2f75a880,this[_0x553f2f(0x149)]=0x7d0,this[_0x553f2f(0x196)]=0x2710;}function decay(_0x32f177,_0x49a8cb){var _0x3ea6a8=a720_0x3431;if(_0x32f177<0x0)return 0x0;var _0x278b73=(0x1-_0x49a8cb)*0x19;return Math[_0x3ea6a8(0x13e)](-_0x278b73*_0x32f177);}function sameMousePosition(_0x53c784){var _0x2bb35d=a720_0x3431;return a720_0x39746e[_0x2bb35d(0x17f)](_0x53c784[_0x2bb35d(0x10a)],_0x53c784[_0x2bb35d(0x19a)],a720_0x370b8b[_0x2bb35d(0x163)]);}var inertiaMaxClickTimeThreshold=0.4;function maintainInertia(_0x495424,_0x19668d,_0x43cab4,_0x3f8966,_0x497aa3,_0x435693,_0x4ba28b){var _0x429721=a720_0x3431,_0x5bce1e=_0x435693[_0x4ba28b];!a720_0x1e9adf(_0x5bce1e)&&(_0x5bce1e=_0x435693[_0x4ba28b]={'startPosition':new a720_0x39746e(),'endPosition':new a720_0x39746e(),'motion':new a720_0x39746e(),'inertiaEnabled':!![]});var _0x41d714=_0x495424[_0x429721(0x195)](_0x19668d,_0x43cab4),_0x2a4e96=_0x495424[_0x429721(0x107)](_0x19668d,_0x43cab4),_0x457210=_0x41d714&&_0x2a4e96&&(_0x2a4e96[_0x429721(0x18b)]()-_0x41d714[_0x429721(0x18b)]())/0x3e8,_0xd391a=new Date(),_0x324b9d=_0x2a4e96&&(_0xd391a['getTime']()-_0x2a4e96['getTime']())/0x3e8;if(_0x41d714&&_0x2a4e96&&_0x457210<inertiaMaxClickTimeThreshold){var _0x3aa216=decay(_0x324b9d,_0x3f8966),_0x113160=_0x495424[_0x429721(0x167)](_0x19668d,_0x43cab4);if(!a720_0x1e9adf(_0x113160)||sameMousePosition(_0x113160)||!_0x5bce1e[_0x429721(0xd8)])return;_0x5bce1e[_0x429721(0x150)]['x']=(_0x113160[_0x429721(0x19a)]['x']-_0x113160[_0x429721(0x10a)]['x'])*0.5,_0x5bce1e['motion']['y']=(_0x113160[_0x429721(0x19a)]['y']-_0x113160[_0x429721(0x10a)]['y'])*0.5,_0x5bce1e[_0x429721(0x10a)]=a720_0x39746e[_0x429721(0xe5)](_0x113160['startPosition'],_0x5bce1e['startPosition']),_0x5bce1e[_0x429721(0x19a)]=a720_0x39746e[_0x429721(0x1a9)](_0x5bce1e[_0x429721(0x150)],_0x3aa216,_0x5bce1e['endPosition']),_0x5bce1e[_0x429721(0x19a)]=a720_0x39746e[_0x429721(0xee)](_0x5bce1e['startPosition'],_0x5bce1e[_0x429721(0x19a)],_0x5bce1e['endPosition']);if(isNaN(_0x5bce1e[_0x429721(0x19a)]['x'])||isNaN(_0x5bce1e[_0x429721(0x19a)]['y'])||a720_0x39746e[_0x429721(0x147)](_0x5bce1e['startPosition'],_0x5bce1e[_0x429721(0x19a)])<0.5)return;if(!_0x495424[_0x429721(0x112)](_0x19668d,_0x43cab4)){var _0x2885fe=_0x495424[_0x429721(0x153)](_0x19668d,_0x43cab4);_0x497aa3(_0x435693,_0x2885fe,_0x5bce1e);}}}function activateInertia(_0x1cc664,_0x255ced){var _0x5d9f50=a720_0x3431;if(a720_0x1e9adf(_0x255ced)){var _0x2a42ea=_0x1cc664[_0x255ced];a720_0x1e9adf(_0x2a42ea)&&(_0x2a42ea['inertiaEnabled']=!![]);var _0x25b4b4=_0x1cc664[_0x5d9f50(0x191)][_0x255ced];if(a720_0x1e9adf(_0x25b4b4)){var _0x559a82=_0x25b4b4[_0x5d9f50(0x18e)];for(var _0x903965=0x0;_0x903965<_0x559a82;++_0x903965){_0x2a42ea=_0x1cc664[_0x25b4b4[_0x903965]],a720_0x1e9adf(_0x2a42ea)&&(_0x2a42ea[_0x5d9f50(0xd8)]=![]);}}}}var scratchEventTypeArray=[];function reactToInput(_0xe7aa8b,_0x5b8929,_0x27827c,_0x3bac6f,_0xfe820f,_0x474fad){var _0x4a0144=a720_0x3431;if(!a720_0x1e9adf(_0x27827c))return;var _0x46f905=_0xe7aa8b[_0x4a0144(0x117)];!Array[_0x4a0144(0x140)](_0x27827c)&&(scratchEventTypeArray[0x0]=_0x27827c,_0x27827c=scratchEventTypeArray);var _0xb0d079=_0x27827c[_0x4a0144(0x18e)];for(var _0x2f9167=0x0;_0x2f9167<_0xb0d079;++_0x2f9167){var _0x2bad27=_0x27827c[_0x2f9167],_0x5c5373=a720_0x1e9adf(_0x2bad27[_0x4a0144(0x15f)])?_0x2bad27[_0x4a0144(0x15f)]:_0x2bad27,_0x5a985c=_0x2bad27[_0x4a0144(0xd6)],_0x21252a=_0x46f905[_0x4a0144(0x174)](_0x5c5373,_0x5a985c)&&_0x46f905['getMovement'](_0x5c5373,_0x5a985c),_0x44147e=_0x46f905[_0x4a0144(0x153)](_0x5c5373,_0x5a985c);if(_0xe7aa8b[_0x4a0144(0x15e)]&&_0x5b8929){if(_0x21252a)_0x3bac6f(_0xe7aa8b,_0x44147e,_0x21252a),activateInertia(_0xe7aa8b,_0x474fad);else _0xfe820f<0x1&&maintainInertia(_0x46f905,_0x5c5373,_0x5a985c,_0xfe820f,_0x3bac6f,_0xe7aa8b,_0x474fad);}}}var scratchZoomPickRay=new a720_0x5277d5(),scratchPickCartesian=new a720_0x3e085a(),scratchZoomOffset=new a720_0x39746e(),scratchZoomDirection=new a720_0x3e085a(),scratchCenterPixel=new a720_0x39746e(),scratchCenterPosition=new a720_0x3e085a(),scratchPositionNormal=new a720_0x3e085a(),scratchPickNormal=new a720_0x3e085a(),scratchZoomAxis=new a720_0x3e085a(),scratchCameraPositionNormal=new a720_0x3e085a(),scratchTargetNormal=new a720_0x3e085a(),scratchCameraPosition=new a720_0x3e085a(),scratchCameraUpNormal=new a720_0x3e085a(),scratchCameraRightNormal=new a720_0x3e085a(),scratchForwardNormal=new a720_0x3e085a(),scratchPositionToTarget=new a720_0x3e085a(),scratchPositionToTargetNormal=new a720_0x3e085a(),scratchPan=new a720_0x3e085a(),scratchCenterMovement=new a720_0x3e085a(),scratchCenter=new a720_0x3e085a(),scratchCartesian=new a720_0x3e085a(),scratchCartesianTwo=new a720_0x3e085a(),scratchCartesianThree=new a720_0x3e085a(),scratchZoomViewOptions={'orientation':new a720_0x5ddba6()};function handleZoom(_0x47353b,_0x11bb49,_0x1cf415,_0x431a38,_0x488a4f,_0x1fc4cb){var _0x26d62b=a720_0x3431,_0x55ab33=0x1;a720_0x1e9adf(_0x1fc4cb)&&(_0x55ab33=a720_0x370b8b['clamp'](Math[_0x26d62b(0x103)](_0x1fc4cb),0.25,0x1));var _0x248137=_0x47353b['minimumZoomDistance']*_0x55ab33,_0x439f2e=_0x47353b[_0x26d62b(0x1b0)],_0x16e175=_0x488a4f-_0x248137,_0x6193d1=_0x431a38*_0x16e175;_0x6193d1=a720_0x370b8b[_0x26d62b(0x109)](_0x6193d1,_0x47353b[_0x26d62b(0x143)],_0x47353b[_0x26d62b(0x148)]);var _0x10a7db=_0x1cf415[_0x26d62b(0x19a)]['y']-_0x1cf415[_0x26d62b(0x10a)]['y'],_0x515044=_0x10a7db/_0x47353b[_0x26d62b(0x169)][_0x26d62b(0x186)]['clientHeight'];_0x515044=Math[_0x26d62b(0x124)](_0x515044,_0x47353b[_0x26d62b(0x176)]);var _0x4599ee=_0x6193d1*_0x515044;if(_0x47353b['enableCollisionDetection']||_0x47353b[_0x26d62b(0x13d)]===0x0||!a720_0x1e9adf(_0x47353b['_globe'])){if(_0x4599ee>0x0&&Math['abs'](_0x488a4f-_0x248137)<0x1)return;if(_0x4599ee<0x0&&Math[_0x26d62b(0x103)](_0x488a4f-_0x439f2e)<0x1)return;if(_0x488a4f-_0x4599ee<_0x248137)_0x4599ee=_0x488a4f-_0x248137-0x1;else _0x488a4f-_0x4599ee>_0x439f2e&&(_0x4599ee=_0x488a4f-_0x439f2e);}var _0x451769=_0x47353b[_0x26d62b(0x169)],_0x4c7ffe=_0x451769[_0x26d62b(0xe9)],_0x52da0f=_0x451769[_0x26d62b(0xdf)],_0xdbeff2=scratchZoomViewOptions[_0x26d62b(0x114)];_0xdbeff2[_0x26d62b(0x10b)]=_0x4c7ffe[_0x26d62b(0x10b)],_0xdbeff2['pitch']=_0x4c7ffe[_0x26d62b(0x190)],_0xdbeff2['roll']=_0x4c7ffe[_0x26d62b(0xf3)];if(_0x4c7ffe['frustum']instanceof a720_0x14af85){Math[_0x26d62b(0x103)](_0x4599ee)>0x0&&(_0x4c7ffe['zoomIn'](_0x4599ee),_0x4c7ffe[_0x26d62b(0x188)]());return;}var _0x30195a=a720_0x39746e[_0x26d62b(0x128)](_0x11bb49,_0x47353b[_0x26d62b(0x13a)]),_0x33fcc1=_0x47353b[_0x26d62b(0x162)],_0x549d51=_0x47353b[_0x26d62b(0x127)],_0x177120;!_0x30195a&&(_0x47353b[_0x26d62b(0x13a)]=a720_0x39746e[_0x26d62b(0xe5)](_0x11bb49,_0x47353b[_0x26d62b(0x13a)]),a720_0x1e9adf(_0x47353b[_0x26d62b(0x1af)])&&(_0x52da0f===a720_0x21a5d0[_0x26d62b(0x19f)]?(_0x177120=_0x4c7ffe['getPickRay'](_0x11bb49,scratchZoomPickRay)[_0x26d62b(0x137)],_0x177120=a720_0x3e085a[_0x26d62b(0xdd)](_0x177120['y'],_0x177120['z'],_0x177120['x'])):_0x177120=pickGlobe(_0x47353b,_0x11bb49,scratchPickCartesian)),a720_0x1e9adf(_0x177120)?(_0x47353b['_useZoomWorldPosition']=!![],_0x47353b[_0x26d62b(0x183)]=a720_0x3e085a[_0x26d62b(0xe5)](_0x177120,_0x47353b[_0x26d62b(0x183)])):_0x47353b['_useZoomWorldPosition']=![],_0x33fcc1=_0x47353b['_zoomingOnVector']=![],_0x549d51=_0x47353b['_rotatingZoom']=![],_0x47353b['_zoomingUnderground']=_0x47353b[_0x26d62b(0xd9)]);if(!_0x47353b[_0x26d62b(0x13f)]){_0x4c7ffe['zoomIn'](_0x4599ee);return;}var _0x5175fb=_0x52da0f===a720_0x21a5d0['COLUMBUS_VIEW'];_0x4c7ffe[_0x26d62b(0x175)][_0x26d62b(0x1ae)]<0x1e8480&&(_0x549d51=!![]);if(!_0x30195a||_0x549d51){if(_0x52da0f===a720_0x21a5d0[_0x26d62b(0x19f)]){var _0x532acd=_0x47353b[_0x26d62b(0x183)],_0x6e3bef=_0x4c7ffe[_0x26d62b(0x1a3)];if(!a720_0x3e085a['equals'](_0x532acd,_0x6e3bef)&&_0x4c7ffe[_0x26d62b(0x175)][_0x26d62b(0x1ae)]<_0x47353b[_0x26d62b(0x116)]['x']*0x2){var _0x56a4c8=_0x4c7ffe[_0x26d62b(0x1a3)]['x'],_0x18dda1=a720_0x3e085a['subtract'](_0x532acd,_0x6e3bef,scratchZoomDirection);a720_0x3e085a['normalize'](_0x18dda1,_0x18dda1);var _0x573378=a720_0x3e085a[_0x26d62b(0x147)](_0x532acd,_0x6e3bef)*_0x4599ee/(_0x4c7ffe[_0x26d62b(0x1a5)]()*0.5);_0x4c7ffe[_0x26d62b(0x171)](_0x18dda1,_0x573378*0.5),(_0x4c7ffe[_0x26d62b(0x1a3)]['x']<0x0&&_0x56a4c8>0x0||_0x4c7ffe[_0x26d62b(0x1a3)]['x']>0x0&&_0x56a4c8<0x0)&&(_0x177120=_0x4c7ffe['getPickRay'](_0x11bb49,scratchZoomPickRay)[_0x26d62b(0x137)],_0x177120=a720_0x3e085a[_0x26d62b(0xdd)](_0x177120['y'],_0x177120['z'],_0x177120['x']),_0x47353b['_zoomWorldPosition']=a720_0x3e085a[_0x26d62b(0xe5)](_0x177120,_0x47353b[_0x26d62b(0x183)]));}}else{if(_0x52da0f===a720_0x21a5d0[_0x26d62b(0x1aa)]){var _0x5c46d9=a720_0x3e085a[_0x26d62b(0x18f)](_0x4c7ffe[_0x26d62b(0x1a3)],scratchCameraPositionNormal);if(_0x47353b[_0x26d62b(0xd9)]||_0x47353b[_0x26d62b(0x152)]||_0x4c7ffe[_0x26d62b(0x175)][_0x26d62b(0x1ae)]<0xbb8&&Math[_0x26d62b(0x103)](a720_0x3e085a['dot'](_0x4c7ffe[_0x26d62b(0xde)],_0x5c46d9))<0.6)_0x5175fb=!![];else{var _0x2c1428=_0x451769[_0x26d62b(0x186)],_0x7f8e75=scratchCenterPixel;_0x7f8e75['x']=_0x2c1428[_0x26d62b(0xff)]/0x2,_0x7f8e75['y']=_0x2c1428['clientHeight']/0x2;var _0x1c9d09=pickGlobe(_0x47353b,_0x7f8e75,scratchCenterPosition);if(!a720_0x1e9adf(_0x1c9d09))_0x5175fb=!![];else{if(_0x4c7ffe[_0x26d62b(0x175)][_0x26d62b(0x1ae)]<0xf4240){if(a720_0x3e085a[_0x26d62b(0xfb)](_0x4c7ffe[_0x26d62b(0xde)],_0x5c46d9)>=-0.5)_0x5175fb=!![];else{var _0x78b1c8=scratchCameraPosition;a720_0x3e085a['clone'](_0x4c7ffe[_0x26d62b(0x1a3)],_0x78b1c8);var _0x30fcd9=_0x47353b[_0x26d62b(0x183)],_0x58881d=scratchTargetNormal;_0x58881d=a720_0x3e085a[_0x26d62b(0x18f)](_0x30fcd9,_0x58881d);if(a720_0x3e085a[_0x26d62b(0xfb)](_0x58881d,_0x5c46d9)<0x0)return;var _0x42e401=scratchCenter,_0x43e9d9=scratchForwardNormal;a720_0x3e085a[_0x26d62b(0xe5)](_0x4c7ffe[_0x26d62b(0xde)],_0x43e9d9),a720_0x3e085a[_0x26d62b(0xee)](_0x78b1c8,a720_0x3e085a[_0x26d62b(0x1a9)](_0x43e9d9,0x3e8,scratchCartesian),_0x42e401);var _0x229912=scratchPositionToTarget,_0x51c2e1=scratchPositionToTargetNormal;a720_0x3e085a[_0x26d62b(0x189)](_0x30fcd9,_0x78b1c8,_0x229912),a720_0x3e085a[_0x26d62b(0x18f)](_0x229912,_0x51c2e1);var _0x1169e2=a720_0x3e085a[_0x26d62b(0xfb)](_0x5c46d9,_0x51c2e1);if(_0x1169e2>=0x0){_0x47353b[_0x26d62b(0x13a)]['x']=-0x1;return;}var _0x17f5b0=Math[_0x26d62b(0x16c)](-_0x1169e2),_0x594b24=a720_0x3e085a[_0x26d62b(0xdc)](_0x78b1c8),_0x13dd28=a720_0x3e085a['magnitude'](_0x30fcd9),_0x4bb0fe=_0x594b24-_0x4599ee,_0x322963=a720_0x3e085a[_0x26d62b(0xdc)](_0x229912),_0x2a18c=Math[_0x26d62b(0x15c)](a720_0x370b8b[_0x26d62b(0x109)](_0x322963/_0x13dd28*Math['sin'](_0x17f5b0),-0x1,0x1)),_0x226b5d=Math[_0x26d62b(0x15c)](a720_0x370b8b['clamp'](_0x4bb0fe/_0x13dd28*Math[_0x26d62b(0x168)](_0x17f5b0),-0x1,0x1)),_0x4c0dbd=_0x2a18c-_0x226b5d+_0x17f5b0,_0x4a2923=scratchCameraUpNormal;a720_0x3e085a[_0x26d62b(0x18f)](_0x78b1c8,_0x4a2923);var _0x38363a=scratchCameraRightNormal;_0x38363a=a720_0x3e085a['cross'](_0x51c2e1,_0x4a2923,_0x38363a),_0x38363a=a720_0x3e085a[_0x26d62b(0x18f)](_0x38363a,_0x38363a),a720_0x3e085a[_0x26d62b(0x18f)](a720_0x3e085a[_0x26d62b(0xfd)](_0x4a2923,_0x38363a,scratchCartesian),_0x43e9d9),a720_0x3e085a[_0x26d62b(0x1a9)](a720_0x3e085a[_0x26d62b(0x18f)](_0x42e401,scratchCartesian),a720_0x3e085a[_0x26d62b(0xdc)](_0x42e401)-_0x4599ee,_0x42e401),a720_0x3e085a[_0x26d62b(0x18f)](_0x78b1c8,_0x78b1c8),a720_0x3e085a[_0x26d62b(0x1a9)](_0x78b1c8,_0x4bb0fe,_0x78b1c8);var _0x2e398e=scratchPan;a720_0x3e085a[_0x26d62b(0x1a9)](a720_0x3e085a[_0x26d62b(0xee)](a720_0x3e085a['multiplyByScalar'](_0x4a2923,Math[_0x26d62b(0x120)](_0x4c0dbd)-0x1,scratchCartesianTwo),a720_0x3e085a[_0x26d62b(0x1a9)](_0x43e9d9,Math[_0x26d62b(0x168)](_0x4c0dbd),scratchCartesianThree),scratchCartesian),_0x4bb0fe,_0x2e398e),a720_0x3e085a['add'](_0x78b1c8,_0x2e398e,_0x78b1c8),a720_0x3e085a[_0x26d62b(0x18f)](_0x42e401,_0x4a2923),a720_0x3e085a[_0x26d62b(0x18f)](a720_0x3e085a['cross'](_0x4a2923,_0x38363a,scratchCartesian),_0x43e9d9);var _0x23f563=scratchCenterMovement;a720_0x3e085a[_0x26d62b(0x1a9)](a720_0x3e085a[_0x26d62b(0xee)](a720_0x3e085a[_0x26d62b(0x1a9)](_0x4a2923,Math[_0x26d62b(0x120)](_0x4c0dbd)-0x1,scratchCartesianTwo),a720_0x3e085a[_0x26d62b(0x1a9)](_0x43e9d9,Math['sin'](_0x4c0dbd),scratchCartesianThree),scratchCartesian),a720_0x3e085a[_0x26d62b(0xdc)](_0x42e401),_0x23f563),a720_0x3e085a[_0x26d62b(0xee)](_0x42e401,_0x23f563,_0x42e401),a720_0x3e085a[_0x26d62b(0xe5)](_0x78b1c8,_0x4c7ffe[_0x26d62b(0x1a3)]),a720_0x3e085a[_0x26d62b(0x18f)](a720_0x3e085a[_0x26d62b(0x189)](_0x42e401,_0x78b1c8,scratchCartesian),_0x4c7ffe[_0x26d62b(0xde)]),a720_0x3e085a['clone'](_0x4c7ffe[_0x26d62b(0xde)],_0x4c7ffe['direction']),a720_0x3e085a[_0x26d62b(0xfd)](_0x4c7ffe[_0x26d62b(0xde)],_0x4c7ffe['up'],_0x4c7ffe[_0x26d62b(0xf4)]),a720_0x3e085a['cross'](_0x4c7ffe[_0x26d62b(0xf4)],_0x4c7ffe['direction'],_0x4c7ffe['up']),_0x4c7ffe[_0x26d62b(0x106)](scratchZoomViewOptions);return;}}else{var _0x556d35=a720_0x3e085a[_0x26d62b(0x18f)](_0x1c9d09,scratchPositionNormal),_0x30619f=a720_0x3e085a[_0x26d62b(0x18f)](_0x47353b[_0x26d62b(0x183)],scratchPickNormal),_0x5072f4=a720_0x3e085a[_0x26d62b(0xfb)](_0x30619f,_0x556d35);if(_0x5072f4>0x0&&_0x5072f4<0x1){var _0x8558c6=a720_0x370b8b[_0x26d62b(0x125)](_0x5072f4),_0x4ecf2d=a720_0x3e085a[_0x26d62b(0xfd)](_0x30619f,_0x556d35,scratchZoomAxis),_0xab4f7a=Math[_0x26d62b(0x103)](_0x8558c6)>a720_0x370b8b[_0x26d62b(0x16f)](0x14)?_0x4c7ffe[_0x26d62b(0x175)][_0x26d62b(0x1ae)]*0.75:_0x4c7ffe['positionCartographic'][_0x26d62b(0x1ae)]-_0x4599ee,_0x2442dc=_0x4599ee/_0xab4f7a;_0x4c7ffe[_0x26d62b(0x177)](_0x4ecf2d,_0x8558c6*_0x2442dc);}}}}}}_0x47353b[_0x26d62b(0x127)]=!_0x5175fb;}if(!_0x30195a&&_0x5175fb||_0x33fcc1){var _0x2ed417,_0x31a173=a720_0x398ab0['wgs84ToWindowCoordinates'](_0x451769,_0x47353b[_0x26d62b(0x183)],scratchZoomOffset);_0x52da0f!==a720_0x21a5d0[_0x26d62b(0xf1)]&&a720_0x39746e[_0x26d62b(0x128)](_0x11bb49,_0x47353b[_0x26d62b(0x13a)])&&a720_0x1e9adf(_0x31a173)?_0x2ed417=_0x4c7ffe[_0x26d62b(0xe1)](_0x31a173,scratchZoomPickRay):_0x2ed417=_0x4c7ffe[_0x26d62b(0xe1)](_0x11bb49,scratchZoomPickRay);var _0x4744ec=_0x2ed417[_0x26d62b(0xde)];(_0x52da0f===a720_0x21a5d0[_0x26d62b(0xf1)]||_0x52da0f===a720_0x21a5d0[_0x26d62b(0x19f)])&&a720_0x3e085a[_0x26d62b(0xdd)](_0x4744ec['y'],_0x4744ec['z'],_0x4744ec['x'],_0x4744ec),_0x4c7ffe['move'](_0x4744ec,_0x4599ee),_0x47353b[_0x26d62b(0x162)]=!![];}else _0x4c7ffe[_0x26d62b(0x164)](_0x4599ee);!_0x47353b[_0x26d62b(0xd9)]&&_0x4c7ffe[_0x26d62b(0x106)](scratchZoomViewOptions);}var translate2DStart=new a720_0x5277d5(),translate2DEnd=new a720_0x5277d5(),scratchTranslateP0=new a720_0x3e085a();function translate2D(_0x1a65f1,_0x447595,_0x1fb85a){var _0x595467=a720_0x3431,_0x1c6915=_0x1a65f1[_0x595467(0x169)],_0x53b3cd=_0x1c6915['camera'],_0x22c489=_0x53b3cd[_0x595467(0xe1)](_0x1fb85a[_0x595467(0x10a)],translate2DStart)[_0x595467(0x137)],_0x44fa6e=_0x53b3cd[_0x595467(0xe1)](_0x1fb85a[_0x595467(0x19a)],translate2DEnd)['origin'];_0x22c489=a720_0x3e085a[_0x595467(0xdd)](_0x22c489['y'],_0x22c489['z'],_0x22c489['x'],_0x22c489),_0x44fa6e=a720_0x3e085a[_0x595467(0xdd)](_0x44fa6e['y'],_0x44fa6e['z'],_0x44fa6e['x'],_0x44fa6e);var _0x5210f7=a720_0x3e085a[_0x595467(0x189)](_0x22c489,_0x44fa6e,scratchTranslateP0),_0x320d98=a720_0x3e085a['magnitude'](_0x5210f7);_0x320d98>0x0&&(a720_0x3e085a[_0x595467(0x18f)](_0x5210f7,_0x5210f7),_0x53b3cd['move'](_0x5210f7,_0x320d98));}function zoom2D(_0x4f5a9a,_0x1cf184,_0x5f30b1){var _0x41a3ef=a720_0x3431;a720_0x1e9adf(_0x5f30b1[_0x41a3ef(0x147)])&&(_0x5f30b1=_0x5f30b1[_0x41a3ef(0x147)]);var _0xd83370=_0x4f5a9a['_scene'],_0x3fa0cb=_0xd83370[_0x41a3ef(0xe9)];handleZoom(_0x4f5a9a,_0x1cf184,_0x5f30b1,_0x4f5a9a[_0x41a3ef(0x15a)],_0x3fa0cb[_0x41a3ef(0x1a5)]());}var twist2DStart=new a720_0x39746e(),twist2DEnd=new a720_0x39746e();function a720_0x3431(_0x1a3949,_0x346ad6){var _0x490d3d=a720_0x490d();return a720_0x3431=function(_0x34319a,_0xf17496){_0x34319a=_0x34319a-0xd6;var _0x34c710=_0x490d3d[_0x34319a];return _0x34c710;},a720_0x3431(_0x1a3949,_0x346ad6);}function twist2D(_0x4a804e,_0x1711ce,_0x389ac4){var _0x1be7b8=a720_0x3431;if(a720_0x1e9adf(_0x389ac4[_0x1be7b8(0x185)])){singleAxisTwist2D(_0x4a804e,_0x1711ce,_0x389ac4['angleAndHeight']);return;}var _0x3e6dfd=_0x4a804e[_0x1be7b8(0x169)],_0x38c569=_0x3e6dfd['camera'],_0x529f98=_0x3e6dfd[_0x1be7b8(0x186)],_0x11e033=_0x529f98[_0x1be7b8(0xff)],_0x2258bd=_0x529f98[_0x1be7b8(0xf9)],_0xfd405a=twist2DStart;_0xfd405a['x']=0x2/_0x11e033*_0x389ac4[_0x1be7b8(0x10a)]['x']-0x1,_0xfd405a['y']=0x2/_0x2258bd*(_0x2258bd-_0x389ac4[_0x1be7b8(0x10a)]['y'])-0x1,_0xfd405a=a720_0x39746e[_0x1be7b8(0x18f)](_0xfd405a,_0xfd405a);var _0x12fcb8=twist2DEnd;_0x12fcb8['x']=0x2/_0x11e033*_0x389ac4[_0x1be7b8(0x19a)]['x']-0x1,_0x12fcb8['y']=0x2/_0x2258bd*(_0x2258bd-_0x389ac4[_0x1be7b8(0x19a)]['y'])-0x1,_0x12fcb8=a720_0x39746e[_0x1be7b8(0x18f)](_0x12fcb8,_0x12fcb8);var _0x3251c5=a720_0x370b8b[_0x1be7b8(0x125)](_0xfd405a['x']);_0xfd405a['y']<0x0&&(_0x3251c5=a720_0x370b8b[_0x1be7b8(0xf0)]-_0x3251c5);var _0x2b8628=a720_0x370b8b['acosClamped'](_0x12fcb8['x']);_0x12fcb8['y']<0x0&&(_0x2b8628=a720_0x370b8b[_0x1be7b8(0xf0)]-_0x2b8628);var _0x472415=_0x2b8628-_0x3251c5;_0x38c569[_0x1be7b8(0x165)](_0x472415);}function singleAxisTwist2D(_0x5480b0,_0x3f26d3,_0x18a7f8){var _0x5fd1a2=a720_0x3431,_0x4b4428=_0x5480b0[_0x5fd1a2(0xe2)]*_0x5480b0[_0x5fd1a2(0x17a)];_0x4b4428>_0x5480b0[_0x5fd1a2(0x199)]&&(_0x4b4428=_0x5480b0[_0x5fd1a2(0x199)]);_0x4b4428<_0x5480b0[_0x5fd1a2(0x18a)]&&(_0x4b4428=_0x5480b0['_minimumRotateRate']);var _0x261cbd=_0x5480b0[_0x5fd1a2(0x169)],_0x17f7c1=_0x261cbd[_0x5fd1a2(0xe9)],_0x21422c=_0x261cbd[_0x5fd1a2(0x186)],_0x528182=(_0x18a7f8[_0x5fd1a2(0x19a)]['x']-_0x18a7f8[_0x5fd1a2(0x10a)]['x'])/_0x21422c[_0x5fd1a2(0xff)];_0x528182=Math[_0x5fd1a2(0x124)](_0x528182,_0x5480b0[_0x5fd1a2(0x176)]);var _0x1f4d19=_0x4b4428*_0x528182*Math['PI']*0x4;_0x17f7c1[_0x5fd1a2(0x165)](_0x1f4d19);}function update2D(_0x23a480){var _0x40a1d8=a720_0x3431,_0x4e504a=_0x23a480[_0x40a1d8(0x169)][_0x40a1d8(0x132)]===a720_0x3498da[_0x40a1d8(0xf6)];!a720_0xe767[_0x40a1d8(0x128)](a720_0xe767[_0x40a1d8(0xeb)],_0x23a480['_scene'][_0x40a1d8(0xe9)]['transform'])?(reactToInput(_0x23a480,_0x23a480[_0x40a1d8(0x10c)],_0x23a480[_0x40a1d8(0x198)],zoom2D,_0x23a480[_0x40a1d8(0x18d)],_0x40a1d8(0x151)),_0x4e504a&&reactToInput(_0x23a480,_0x23a480[_0x40a1d8(0x134)],_0x23a480[_0x40a1d8(0x122)],twist2D,_0x23a480[_0x40a1d8(0x10e)],_0x40a1d8(0x10d))):(reactToInput(_0x23a480,_0x23a480['enableTranslate'],_0x23a480['translateEventTypes'],translate2D,_0x23a480[_0x40a1d8(0xed)],_0x40a1d8(0xe0)),reactToInput(_0x23a480,_0x23a480[_0x40a1d8(0x10c)],_0x23a480[_0x40a1d8(0x198)],zoom2D,_0x23a480[_0x40a1d8(0x18d)],_0x40a1d8(0x151)),_0x4e504a&&reactToInput(_0x23a480,_0x23a480['enableRotate'],_0x23a480[_0x40a1d8(0x18c)],twist2D,_0x23a480['inertiaSpin'],_0x40a1d8(0x11c)));}var pickGlobeScratchRay=new a720_0x5277d5(),scratchDepthIntersection=new a720_0x3e085a(),scratchRayIntersection=new a720_0x3e085a();function pickGlobe(_0x4af68b,_0x6b25b0,_0x1fe1c6){var _0x33a690=a720_0x3431,_0xae6354=_0x4af68b['_scene'],_0x3bcd10=_0x4af68b[_0x33a690(0x1af)],_0x39d6dc=_0xae6354[_0x33a690(0xe9)];if(!a720_0x1e9adf(_0x3bcd10))return undefined;var _0x3dd16b=!_0x4af68b['_cameraUnderground'],_0x42f390;_0xae6354['pickPositionSupported']&&(_0x42f390=_0xae6354[_0x33a690(0x197)](_0x6b25b0,scratchDepthIntersection));var _0x1d0a3d=_0x39d6dc['getPickRay'](_0x6b25b0,pickGlobeScratchRay),_0x43708e=_0x3bcd10[_0x33a690(0x17b)](_0x1d0a3d,_0xae6354,_0x3dd16b,scratchRayIntersection),_0x375021=a720_0x1e9adf(_0x42f390)?a720_0x3e085a[_0x33a690(0x147)](_0x42f390,_0x39d6dc[_0x33a690(0x146)]):Number[_0x33a690(0x11a)],_0x3fdf03=a720_0x1e9adf(_0x43708e)?a720_0x3e085a['distance'](_0x43708e,_0x39d6dc['positionWC']):Number['POSITIVE_INFINITY'];if(_0x375021<_0x3fdf03)return a720_0x3e085a[_0x33a690(0xe5)](_0x42f390,_0x1fe1c6);return a720_0x3e085a[_0x33a690(0xe5)](_0x43708e,_0x1fe1c6);}var scratchDistanceCartographic=new a720_0x5d1a11();function getDistanceFromSurface(_0x50e51d){var _0x485e18=a720_0x3431,_0xffdd9e=_0x50e51d['_ellipsoid'],_0x514aea=_0x50e51d[_0x485e18(0x169)],_0x1a8518=_0x514aea[_0x485e18(0xe9)],_0x19bcd0=_0x514aea[_0x485e18(0xdf)],_0x343f0d=0x0;if(_0x19bcd0===a720_0x21a5d0[_0x485e18(0x1aa)]){var _0x5dec1c=_0xffdd9e[_0x485e18(0x179)](_0x1a8518[_0x485e18(0x1a3)],scratchDistanceCartographic);a720_0x1e9adf(_0x5dec1c)&&(_0x343f0d=_0x5dec1c[_0x485e18(0x1ae)]);}else _0x343f0d=_0x1a8518[_0x485e18(0x1a3)]['z'];var _0x31240f=a720_0x48e0e6(_0x50e51d[_0x485e18(0x169)]['globeHeight'],0x0),_0xb4ca74=Math['abs'](_0x31240f-_0x343f0d);return _0xb4ca74;}var scratchSurfaceNormal=new a720_0x3e085a();function getZoomDistanceUnderground(_0x149338,_0x545b1e){var _0x417424=a720_0x3431,_0x4c81ea=_0x545b1e[_0x417424(0x137)],_0x14380b=_0x545b1e['direction'],_0x108157=getDistanceFromSurface(_0x149338),_0x2542b3=a720_0x3e085a[_0x417424(0x18f)](_0x4c81ea,scratchSurfaceNormal),_0x53a8f8=Math[_0x417424(0x103)](a720_0x3e085a[_0x417424(0xfb)](_0x2542b3,_0x14380b));return _0x53a8f8=Math[_0x417424(0x16e)](_0x53a8f8,0.5)*0x2,_0x108157*_0x53a8f8;}function getTiltCenterUnderground(_0x13ea19,_0x25d235,_0x4a3609,_0x48a2ca){var _0x3fbf2b=a720_0x3431,_0x30c23e=a720_0x3e085a[_0x3fbf2b(0x147)](_0x25d235[_0x3fbf2b(0x137)],_0x4a3609),_0x17ea50=getDistanceFromSurface(_0x13ea19),_0x34b90f=a720_0x370b8b[_0x3fbf2b(0x109)](_0x17ea50*0x5,_0x13ea19[_0x3fbf2b(0x149)],_0x13ea19[_0x3fbf2b(0x196)]);return _0x30c23e>_0x34b90f&&(_0x30c23e=Math[_0x3fbf2b(0x124)](_0x30c23e,_0x17ea50/0x5),_0x30c23e=Math[_0x3fbf2b(0x16e)](_0x30c23e,0x64)),a720_0x5277d5[_0x3fbf2b(0xe4)](_0x25d235,_0x30c23e,_0x48a2ca);}function getStrafeStartPositionUnderground(_0x43b312,_0x27b26c,_0x250173,_0x21d9ec){var _0x55ad4d=a720_0x3431,_0x253ada;return!a720_0x1e9adf(_0x250173)?_0x253ada=getDistanceFromSurface(_0x43b312):(_0x253ada=a720_0x3e085a['distance'](_0x27b26c['origin'],_0x250173),_0x253ada>_0x43b312[_0x55ad4d(0x196)]&&(_0x253ada=getDistanceFromSurface(_0x43b312))),a720_0x5277d5[_0x55ad4d(0xe4)](_0x27b26c,_0x253ada,_0x21d9ec);}var scratchInertialDelta=new a720_0x39746e();function continueStrafing(_0x1c9d5b,_0x5840cf){var _0x205ea5=a720_0x3431,_0x591e4c=_0x5840cf['endPosition'],_0x27f94c=a720_0x39746e[_0x205ea5(0x189)](_0x5840cf['endPosition'],_0x5840cf['startPosition'],scratchInertialDelta),_0x3d879f=_0x1c9d5b['_strafeEndMousePosition'];a720_0x39746e[_0x205ea5(0xee)](_0x3d879f,_0x27f94c,_0x3d879f),_0x5840cf[_0x205ea5(0x19a)]=_0x3d879f,strafe(_0x1c9d5b,_0x5840cf,_0x1c9d5b[_0x205ea5(0x12f)]),_0x5840cf[_0x205ea5(0x19a)]=_0x591e4c;}function a720_0x490d(){var _0x21b963=['length','normalize','pitch','_inertiaDisablers','angleBetween','rotateUp','start','getButtonPressTime','_maximumUndergroundPickDistance','pickPositionWorldCoordinates','zoomEventTypes','_maximumRotateRate','endPosition','ellipsoid','_tiltCenterMousePosition','eastNorthUpToFixedFrame','onMap','SCENE2D','194784BahWFM','cartographicToCartesian','MIDDLE_DRAG','position','rayPlane','getMagnitude','8826PTTbDS','removeAll','globe','multiplyByScalar','SCENE3D','80MHDcVt','enableTilt','fromQuaternion','height','_globe','maximumZoomDistance','fromCartesian3','modifier','getHeight','inertiaEnabled','_cameraUnderground','_horizontalRotationAxis','PINCH','magnitude','fromElements','direction','mode','_lastInertiaTranslateMovement','getPickRay','_rotateFactor','UNIT_SPHERE','getPoint','clone','enableTranslate','destroy','mostOrthogonalAxis','camera','fromPointNormal','IDENTITY','_setTransform','inertiaTranslate','add','sqrt','TWO_PI','COLUMBUS_VIEW','project','roll','right','fromAxisAngle','ROTATE','prototype','_strafeMousePosition','clientHeight','WHEEL','dot','mapProjection','cross','directionWC','clientWidth','EPSILON4','constrainedAxis','lookUp','abs','enableCollisionDetection','terrainExaggeration','setView','getButtonReleaseTime','1482078fIhDCP','clamp','startPosition','heading','enableZoom','_lastInertiaSpinMovement','inertiaSpin','_adjustedHeightForTerrain','_tiltOnEllipsoid','geodeticSurfaceNormal','isButtonDown','_minimumPickingTerrainHeight','orientation','_strafeEndMousePosition','_maxCoord','_aggregator','update','rightWC','POSITIVE_INFINITY','cameraUnderground','_lastInertiaTiltMovement','_tween','_translateMousePosition','unproject','cos','negate','translateEventTypes','rayEllipsoid','min','acosClamped','661077rxVhvq','_rotatingZoom','equals','minimumPickingTerrainHeight','_rotateMousePosition','EPSILON3','anyButtonDown','LEFT_DRAG','rotateEventTypes','_strafeStartPosition','contains','maximumRadius','mapMode2D','1025cNlMQq','enableRotate','_looking','scene\x20is\x20required.','origin','UNIT_W','stop','_zoomMouseStart','terrainExaggerationRelativeHeight','UNIT_Z','minimumZoomDistance','exp','_useZoomWorldPosition','isArray','_projection','bounceAnimationTime','_minimumZoomRate','EPSILON2','4933040tPVcRR','positionWC','distance','_maximumZoomRate','_minimumUndergroundPickDistance','transform','worldToCameraCoordinatesPoint','_rotateStartPosition','look','pickEllipsoid','minimumCollisionTerrainHeight','motion','_lastInertiaZoomMovement','_zoomingUnderground','getStartMousePosition','_tweens','4657556GOMMqM','_strafing','worldToCameraCoordinates','lookEventTypes','_rotating','_zoomFactor','RIGHT_DRAG','asin','CTRL','enableInputs','eventType','_minimumCollisionTerrainHeight','_minimumTrackBallHeight','_zoomingOnVector','EPSILON14','zoomIn','twistRight','minimumTrackBallHeight','getLastMovement','sin','_scene','SHIFT','reset','acos','_tiltCVOffMap','max','toRadians','_tiltCenter','move','frustum','enableLook','isMoving','positionCartographic','maximumMovementRatio','rotate','multiplyByVector','cartesianToCartographic','_rotateRateRangeAdjustment','pickWorldCoordinates','magnitudeSquared','globeHeight','_ellipsoid','equalsEpsilon','942985IMoJGX','EPSILON6','UNIT_X','_zoomWorldPosition','MORPHING','angleAndHeight','canvas','ZERO','_adjustOrthographicFrustum','subtract','_minimumRotateRate','getTime','tiltEventTypes','inertiaZoom'];a720_0x490d=function(){return _0x21b963;};return a720_0x490d();}var translateCVStartRay=new a720_0x5277d5(),translateCVEndRay=new a720_0x5277d5(),translateCVStartPos=new a720_0x3e085a(),translateCVEndPos=new a720_0x3e085a(),translateCVDifference=new a720_0x3e085a(),translateCVOrigin=new a720_0x3e085a(),translateCVPlane=new a720_0x339ca3(a720_0x3e085a[a720_0x73dad0(0x182)],0x0),translateCVStartMouse=new a720_0x39746e(),translateCVEndMouse=new a720_0x39746e();function translateCV(_0xc1e00e,_0x396b05,_0xcda74){var _0xa0c9a5=a720_0x73dad0;!a720_0x3e085a[_0xa0c9a5(0x128)](_0x396b05,_0xc1e00e[_0xa0c9a5(0x11e)])&&(_0xc1e00e[_0xa0c9a5(0x135)]=![]);!a720_0x3e085a[_0xa0c9a5(0x128)](_0x396b05,_0xc1e00e[_0xa0c9a5(0xf8)])&&(_0xc1e00e[_0xa0c9a5(0x156)]=![]);if(_0xc1e00e[_0xa0c9a5(0x135)]){look3D(_0xc1e00e,_0x396b05,_0xcda74);return;}if(_0xc1e00e['_strafing']){continueStrafing(_0xc1e00e,_0xcda74);return;}var _0x470d1b=_0xc1e00e[_0xa0c9a5(0x169)],_0x147e27=_0x470d1b[_0xa0c9a5(0xe9)],_0x3e9b19=_0xc1e00e[_0xa0c9a5(0xd9)],_0x3f1d3e=a720_0x39746e['clone'](_0xcda74[_0xa0c9a5(0x10a)],translateCVStartMouse),_0x3a715a=a720_0x39746e[_0xa0c9a5(0xe5)](_0xcda74[_0xa0c9a5(0x19a)],translateCVEndMouse),_0xa5d0bc=_0x147e27[_0xa0c9a5(0xe1)](_0x3f1d3e,translateCVStartRay),_0x30a46c=a720_0x3e085a['clone'](a720_0x3e085a[_0xa0c9a5(0x187)],translateCVOrigin),_0x2a5037=a720_0x3e085a['UNIT_X'],_0x422503;_0x147e27[_0xa0c9a5(0x1a3)]['z']<_0xc1e00e[_0xa0c9a5(0x113)]&&(_0x422503=pickGlobe(_0xc1e00e,_0x3f1d3e,translateCVStartPos),a720_0x1e9adf(_0x422503)&&(_0x30a46c['x']=_0x422503['x']));if(_0x3e9b19||_0x30a46c['x']>_0x147e27[_0xa0c9a5(0x1a3)]['z']&&a720_0x1e9adf(_0x422503)){var _0x3d15f8=_0x422503;_0x3e9b19&&(_0x3d15f8=getStrafeStartPositionUnderground(_0xc1e00e,_0xa5d0bc,_0x422503,translateCVStartPos));a720_0x39746e[_0xa0c9a5(0xe5)](_0x396b05,_0xc1e00e['_strafeMousePosition']),a720_0x39746e['clone'](_0x396b05,_0xc1e00e[_0xa0c9a5(0x115)]),a720_0x3e085a[_0xa0c9a5(0xe5)](_0x3d15f8,_0xc1e00e[_0xa0c9a5(0x12f)]),_0xc1e00e[_0xa0c9a5(0x156)]=!![],strafe(_0xc1e00e,_0xcda74,_0xc1e00e[_0xa0c9a5(0x12f)]);return;}var _0x1c276b=a720_0x339ca3[_0xa0c9a5(0xea)](_0x30a46c,_0x2a5037,translateCVPlane);_0xa5d0bc=_0x147e27[_0xa0c9a5(0xe1)](_0x3f1d3e,translateCVStartRay);var _0x5700c9=a720_0x31a92c['rayPlane'](_0xa5d0bc,_0x1c276b,translateCVStartPos),_0x21a213=_0x147e27[_0xa0c9a5(0xe1)](_0x3a715a,translateCVEndRay),_0x522fa4=a720_0x31a92c[_0xa0c9a5(0x1a4)](_0x21a213,_0x1c276b,translateCVEndPos);if(!a720_0x1e9adf(_0x5700c9)||!a720_0x1e9adf(_0x522fa4)){_0xc1e00e['_looking']=!![],look3D(_0xc1e00e,_0x396b05,_0xcda74),a720_0x39746e[_0xa0c9a5(0xe5)](_0x396b05,_0xc1e00e[_0xa0c9a5(0x11e)]);return;}var _0x153ed5=a720_0x3e085a[_0xa0c9a5(0x189)](_0x5700c9,_0x522fa4,translateCVDifference),_0x55f782=_0x153ed5['x'];_0x153ed5['x']=_0x153ed5['y'],_0x153ed5['y']=_0x153ed5['z'],_0x153ed5['z']=_0x55f782;var _0x3b3f17=a720_0x3e085a[_0xa0c9a5(0xdc)](_0x153ed5);_0x3b3f17>a720_0x370b8b[_0xa0c9a5(0x181)]&&(a720_0x3e085a['normalize'](_0x153ed5,_0x153ed5),_0x147e27['move'](_0x153ed5,_0x3b3f17));}var rotateCVWindowPos=new a720_0x39746e(),rotateCVWindowRay=new a720_0x5277d5(),rotateCVCenter=new a720_0x3e085a(),rotateCVVerticalCenter=new a720_0x3e085a(),rotateCVTransform=new a720_0xe767(),rotateCVVerticalTransform=new a720_0xe767(),rotateCVOrigin=new a720_0x3e085a(),rotateCVPlane=new a720_0x339ca3(a720_0x3e085a[a720_0x73dad0(0x182)],0x0),rotateCVCartesian3=new a720_0x3e085a(),rotateCVCart=new a720_0x5d1a11(),rotateCVOldTransform=new a720_0xe767(),rotateCVQuaternion=new a720_0x362d9a(),rotateCVMatrix=new a720_0x447dbc(),tilt3DCartesian3=new a720_0x3e085a();function rotateCV(_0x26fb2c,_0x558156,_0x978d69){var _0x2b90c2=a720_0x73dad0;a720_0x1e9adf(_0x978d69[_0x2b90c2(0x185)])&&(_0x978d69=_0x978d69[_0x2b90c2(0x185)]);!a720_0x39746e[_0x2b90c2(0x128)](_0x558156,_0x26fb2c[_0x2b90c2(0x19c)])&&(_0x26fb2c[_0x2b90c2(0x16d)]=![],_0x26fb2c[_0x2b90c2(0x135)]=![]);if(_0x26fb2c[_0x2b90c2(0x135)]){look3D(_0x26fb2c,_0x558156,_0x978d69);return;}var _0x3c2025=_0x26fb2c[_0x2b90c2(0x169)],_0x3946f0=_0x3c2025[_0x2b90c2(0xe9)];_0x26fb2c['_tiltCVOffMap']||!_0x26fb2c['onMap']()||Math[_0x2b90c2(0x103)](_0x3946f0[_0x2b90c2(0x1a3)]['z'])>_0x26fb2c['_minimumPickingTerrainHeight']?(_0x26fb2c[_0x2b90c2(0x16d)]=!![],rotateCVOnPlane(_0x26fb2c,_0x558156,_0x978d69)):rotateCVOnTerrain(_0x26fb2c,_0x558156,_0x978d69);}function rotateCVOnPlane(_0x547561,_0xf8db80,_0x465300){var _0x4d63a3=a720_0x73dad0,_0x50a986=_0x547561[_0x4d63a3(0x169)],_0x387788=_0x50a986[_0x4d63a3(0xe9)],_0x8e1d98=_0x50a986[_0x4d63a3(0x186)],_0x1cdba3=rotateCVWindowPos;_0x1cdba3['x']=_0x8e1d98[_0x4d63a3(0xff)]/0x2,_0x1cdba3['y']=_0x8e1d98[_0x4d63a3(0xf9)]/0x2;var _0x436854=_0x387788[_0x4d63a3(0xe1)](_0x1cdba3,rotateCVWindowRay),_0x573dff=a720_0x3e085a['UNIT_X'],_0x20665d=_0x436854[_0x4d63a3(0x137)],_0x2dbae6=_0x436854[_0x4d63a3(0xde)],_0x1220bf,_0x5c72eb=a720_0x3e085a[_0x4d63a3(0xfb)](_0x573dff,_0x2dbae6);Math['abs'](_0x5c72eb)>a720_0x370b8b[_0x4d63a3(0x181)]&&(_0x1220bf=-a720_0x3e085a[_0x4d63a3(0xfb)](_0x573dff,_0x20665d)/_0x5c72eb);if(!a720_0x1e9adf(_0x1220bf)||_0x1220bf<=0x0){_0x547561['_looking']=!![],look3D(_0x547561,_0xf8db80,_0x465300),a720_0x39746e[_0x4d63a3(0xe5)](_0xf8db80,_0x547561[_0x4d63a3(0x19c)]);return;}var _0x5d503d=a720_0x3e085a[_0x4d63a3(0x1a9)](_0x2dbae6,_0x1220bf,rotateCVCenter);a720_0x3e085a['add'](_0x20665d,_0x5d503d,_0x5d503d);var _0x389d77=_0x50a986['mapProjection'],_0x1e5aef=_0x389d77['ellipsoid'];a720_0x3e085a[_0x4d63a3(0xdd)](_0x5d503d['y'],_0x5d503d['z'],_0x5d503d['x'],_0x5d503d);var _0x237ec2=_0x389d77['unproject'](_0x5d503d,rotateCVCart);_0x1e5aef['cartographicToCartesian'](_0x237ec2,_0x5d503d);var _0x316a0b=a720_0xdfbda6['eastNorthUpToFixedFrame'](_0x5d503d,_0x1e5aef,rotateCVTransform),_0x2f5f66=_0x547561[_0x4d63a3(0x1af)],_0x54a0fb=_0x547561[_0x4d63a3(0x17e)];_0x547561[_0x4d63a3(0x1af)]=undefined,_0x547561[_0x4d63a3(0x17e)]=a720_0x51b82e[_0x4d63a3(0xe3)],_0x547561[_0x4d63a3(0xe2)]=0x1,_0x547561['_rotateRateRangeAdjustment']=0x1;var _0x44327b=a720_0xe767[_0x4d63a3(0xe5)](_0x387788[_0x4d63a3(0x14a)],rotateCVOldTransform);_0x387788['_setTransform'](_0x316a0b),rotate3D(_0x547561,_0xf8db80,_0x465300,a720_0x3e085a[_0x4d63a3(0x13c)]),_0x387788[_0x4d63a3(0xec)](_0x44327b),_0x547561['_globe']=_0x2f5f66,_0x547561[_0x4d63a3(0x17e)]=_0x54a0fb;var _0x862b12=_0x54a0fb['maximumRadius'];_0x547561['_rotateFactor']=0x1/_0x862b12,_0x547561[_0x4d63a3(0x17a)]=_0x862b12;}function rotateCVOnTerrain(_0x3c112c,_0x2209d7,_0x52beb0){var _0x153feb=a720_0x73dad0,_0x37f2f4=_0x3c112c[_0x153feb(0x169)],_0x21954e=_0x37f2f4[_0x153feb(0xe9)],_0x7c0ab=_0x3c112c[_0x153feb(0xd9)],_0x15897a,_0x42250c,_0x427b87=a720_0x3e085a[_0x153feb(0x182)];if(a720_0x39746e[_0x153feb(0x128)](_0x2209d7,_0x3c112c[_0x153feb(0x19c)]))_0x15897a=a720_0x3e085a[_0x153feb(0xe5)](_0x3c112c[_0x153feb(0x170)],rotateCVCenter);else{_0x21954e[_0x153feb(0x1a3)]['z']<_0x3c112c[_0x153feb(0x113)]&&(_0x15897a=pickGlobe(_0x3c112c,_0x2209d7,rotateCVCenter));if(!a720_0x1e9adf(_0x15897a)){_0x42250c=_0x21954e[_0x153feb(0xe1)](_0x2209d7,rotateCVWindowRay);var _0x3125bd=_0x42250c[_0x153feb(0x137)],_0x393d9f=_0x42250c[_0x153feb(0xde)],_0x5fc8d9,_0x3e9db4=a720_0x3e085a[_0x153feb(0xfb)](_0x427b87,_0x393d9f);Math[_0x153feb(0x103)](_0x3e9db4)>a720_0x370b8b[_0x153feb(0x181)]&&(_0x5fc8d9=-a720_0x3e085a[_0x153feb(0xfb)](_0x427b87,_0x3125bd)/_0x3e9db4);if(!a720_0x1e9adf(_0x5fc8d9)||_0x5fc8d9<=0x0){_0x3c112c[_0x153feb(0x135)]=!![],look3D(_0x3c112c,_0x2209d7,_0x52beb0),a720_0x39746e[_0x153feb(0xe5)](_0x2209d7,_0x3c112c[_0x153feb(0x19c)]);return;}_0x15897a=a720_0x3e085a[_0x153feb(0x1a9)](_0x393d9f,_0x5fc8d9,rotateCVCenter),a720_0x3e085a[_0x153feb(0xee)](_0x3125bd,_0x15897a,_0x15897a);}_0x7c0ab&&(!a720_0x1e9adf(_0x42250c)&&(_0x42250c=_0x21954e['getPickRay'](_0x2209d7,rotateCVWindowRay)),getTiltCenterUnderground(_0x3c112c,_0x42250c,_0x15897a,_0x15897a)),a720_0x39746e['clone'](_0x2209d7,_0x3c112c[_0x153feb(0x19c)]),a720_0x3e085a[_0x153feb(0xe5)](_0x15897a,_0x3c112c[_0x153feb(0x170)]);}var _0x47fb09=_0x37f2f4[_0x153feb(0x186)],_0x39c951=rotateCVWindowPos;_0x39c951['x']=_0x47fb09[_0x153feb(0xff)]/0x2,_0x39c951['y']=_0x3c112c[_0x153feb(0x19c)]['y'],_0x42250c=_0x21954e[_0x153feb(0xe1)](_0x39c951,rotateCVWindowRay);var _0x17f5f2=a720_0x3e085a[_0x153feb(0xe5)](a720_0x3e085a[_0x153feb(0x187)],rotateCVOrigin);_0x17f5f2['x']=_0x15897a['x'];var _0x5491d2=a720_0x339ca3[_0x153feb(0xea)](_0x17f5f2,_0x427b87,rotateCVPlane),_0xcaa250=a720_0x31a92c[_0x153feb(0x1a4)](_0x42250c,_0x5491d2,rotateCVVerticalCenter),_0x125b30=_0x21954e[_0x153feb(0x141)],_0x435288=_0x125b30[_0x153feb(0x19b)];a720_0x3e085a[_0x153feb(0xdd)](_0x15897a['y'],_0x15897a['z'],_0x15897a['x'],_0x15897a);var _0x4d6b39=_0x125b30[_0x153feb(0x11f)](_0x15897a,rotateCVCart);_0x435288[_0x153feb(0x1a1)](_0x4d6b39,_0x15897a);var _0x73cf91=a720_0xdfbda6['eastNorthUpToFixedFrame'](_0x15897a,_0x435288,rotateCVTransform),_0x5014ae;a720_0x1e9adf(_0xcaa250)?(a720_0x3e085a[_0x153feb(0xdd)](_0xcaa250['y'],_0xcaa250['z'],_0xcaa250['x'],_0xcaa250),_0x4d6b39=_0x125b30[_0x153feb(0x11f)](_0xcaa250,rotateCVCart),_0x435288[_0x153feb(0x1a1)](_0x4d6b39,_0xcaa250),_0x5014ae=a720_0xdfbda6[_0x153feb(0x19d)](_0xcaa250,_0x435288,rotateCVVerticalTransform)):_0x5014ae=_0x73cf91;var _0x322104=_0x3c112c[_0x153feb(0x1af)],_0x58da3a=_0x3c112c['_ellipsoid'];_0x3c112c[_0x153feb(0x1af)]=undefined,_0x3c112c[_0x153feb(0x17e)]=a720_0x51b82e[_0x153feb(0xe3)],_0x3c112c['_rotateFactor']=0x1,_0x3c112c[_0x153feb(0x17a)]=0x1;var _0x22684b=a720_0x3e085a[_0x153feb(0x13c)],_0x197557=a720_0xe767[_0x153feb(0xe5)](_0x21954e['transform'],rotateCVOldTransform);_0x21954e[_0x153feb(0xec)](_0x73cf91);var _0x518fc1=a720_0x3e085a['cross'](a720_0x3e085a[_0x153feb(0x13c)],a720_0x3e085a['normalize'](_0x21954e[_0x153feb(0x1a3)],rotateCVCartesian3),rotateCVCartesian3),_0x1ed92d=a720_0x3e085a[_0x153feb(0xfb)](_0x21954e[_0x153feb(0xf4)],_0x518fc1);rotate3D(_0x3c112c,_0x2209d7,_0x52beb0,_0x22684b,![],!![]),_0x21954e[_0x153feb(0xec)](_0x5014ae);if(_0x1ed92d<0x0){var _0x6d6c41=_0x52beb0[_0x153feb(0x10a)]['y']-_0x52beb0[_0x153feb(0x19a)]['y'];(_0x7c0ab&&_0x6d6c41<0x0||!_0x7c0ab&&_0x6d6c41>0x0)&&(_0x22684b=undefined);var _0x239ae3=_0x21954e[_0x153feb(0x101)];_0x21954e[_0x153feb(0x101)]=undefined,rotate3D(_0x3c112c,_0x2209d7,_0x52beb0,_0x22684b,!![],![]),_0x21954e[_0x153feb(0x101)]=_0x239ae3;}else rotate3D(_0x3c112c,_0x2209d7,_0x52beb0,_0x22684b,!![],![]);if(a720_0x1e9adf(_0x21954e[_0x153feb(0x101)])){var _0x5ad689=a720_0x3e085a[_0x153feb(0xfd)](_0x21954e[_0x153feb(0xde)],_0x21954e['constrainedAxis'],tilt3DCartesian3);!a720_0x3e085a[_0x153feb(0x17f)](_0x5ad689,a720_0x3e085a[_0x153feb(0x187)],a720_0x370b8b[_0x153feb(0x181)])&&(a720_0x3e085a[_0x153feb(0xfb)](_0x5ad689,_0x21954e[_0x153feb(0xf4)])<0x0&&a720_0x3e085a[_0x153feb(0x121)](_0x5ad689,_0x5ad689),a720_0x3e085a['cross'](_0x5ad689,_0x21954e[_0x153feb(0xde)],_0x21954e['up']),a720_0x3e085a['cross'](_0x21954e[_0x153feb(0xde)],_0x21954e['up'],_0x21954e[_0x153feb(0xf4)]),a720_0x3e085a[_0x153feb(0x18f)](_0x21954e['up'],_0x21954e['up']),a720_0x3e085a[_0x153feb(0x18f)](_0x21954e[_0x153feb(0xf4)],_0x21954e['right']));}_0x21954e['_setTransform'](_0x197557),_0x3c112c['_globe']=_0x322104,_0x3c112c[_0x153feb(0x17e)]=_0x58da3a;var _0x1329fa=_0x58da3a['maximumRadius'];_0x3c112c[_0x153feb(0xe2)]=0x1/_0x1329fa,_0x3c112c[_0x153feb(0x17a)]=_0x1329fa;var _0x104633=a720_0x3e085a[_0x153feb(0xe5)](_0x21954e[_0x153feb(0x146)],rotateCVCartesian3);_0x3c112c[_0x153feb(0x104)]&&adjustHeightForTerrain(_0x3c112c);if(!a720_0x3e085a[_0x153feb(0x128)](_0x21954e['positionWC'],_0x104633)){_0x21954e[_0x153feb(0xec)](_0x5014ae),_0x21954e['worldToCameraCoordinatesPoint'](_0x104633,_0x104633);var _0x2218da=a720_0x3e085a['magnitudeSquared'](_0x104633);a720_0x3e085a[_0x153feb(0x17c)](_0x21954e[_0x153feb(0x1a3)])>_0x2218da&&(a720_0x3e085a[_0x153feb(0x18f)](_0x21954e[_0x153feb(0x1a3)],_0x21954e[_0x153feb(0x1a3)]),a720_0x3e085a[_0x153feb(0x1a9)](_0x21954e['position'],Math[_0x153feb(0xef)](_0x2218da),_0x21954e[_0x153feb(0x1a3)]));var _0x4d60b4=a720_0x3e085a[_0x153feb(0x192)](_0x104633,_0x21954e[_0x153feb(0x1a3)]),_0x464139=a720_0x3e085a[_0x153feb(0xfd)](_0x104633,_0x21954e[_0x153feb(0x1a3)],_0x104633);a720_0x3e085a[_0x153feb(0x18f)](_0x464139,_0x464139);var _0x590aaa=a720_0x362d9a[_0x153feb(0xf5)](_0x464139,_0x4d60b4,rotateCVQuaternion),_0x348195=a720_0x447dbc[_0x153feb(0x1ad)](_0x590aaa,rotateCVMatrix);a720_0x447dbc[_0x153feb(0x178)](_0x348195,_0x21954e[_0x153feb(0xde)],_0x21954e['direction']),a720_0x447dbc[_0x153feb(0x178)](_0x348195,_0x21954e['up'],_0x21954e['up']),a720_0x3e085a[_0x153feb(0xfd)](_0x21954e[_0x153feb(0xde)],_0x21954e['up'],_0x21954e['right']),a720_0x3e085a[_0x153feb(0xfd)](_0x21954e[_0x153feb(0xf4)],_0x21954e['direction'],_0x21954e['up']),_0x21954e[_0x153feb(0xec)](_0x197557);}}var zoomCVWindowPos=new a720_0x39746e(),zoomCVWindowRay=new a720_0x5277d5(),zoomCVIntersection=new a720_0x3e085a();function zoomCV(_0x37a16b,_0x1e3976,_0x58f1b2){var _0x52b103=a720_0x73dad0;a720_0x1e9adf(_0x58f1b2[_0x52b103(0x147)])&&(_0x58f1b2=_0x58f1b2[_0x52b103(0x147)]);var _0x1b4d67=_0x37a16b[_0x52b103(0x169)],_0xe32825=_0x1b4d67['camera'],_0x1b0846=_0x1b4d67['canvas'],_0x2977ba=_0x37a16b[_0x52b103(0xd9)],_0xf6e572;_0x2977ba?_0xf6e572=_0x1e3976:(_0xf6e572=zoomCVWindowPos,_0xf6e572['x']=_0x1b0846[_0x52b103(0xff)]/0x2,_0xf6e572['y']=_0x1b0846[_0x52b103(0xf9)]/0x2);var _0x3b3c86=_0xe32825[_0x52b103(0xe1)](_0xf6e572,zoomCVWindowRay),_0x5ebe1f=_0x3b3c86[_0x52b103(0x137)],_0x12283f=_0x3b3c86[_0x52b103(0xde)],_0x2b72b9=_0xe32825[_0x52b103(0x1a3)]['z'],_0x37614f;_0x2b72b9<_0x37a16b[_0x52b103(0x113)]&&(_0x37614f=pickGlobe(_0x37a16b,_0xf6e572,zoomCVIntersection));var _0xb58918;a720_0x1e9adf(_0x37614f)&&(_0xb58918=a720_0x3e085a[_0x52b103(0x147)](_0x5ebe1f,_0x37614f));if(_0x2977ba){var _0x23e120=getZoomDistanceUnderground(_0x37a16b,_0x3b3c86,_0x2b72b9);a720_0x1e9adf(_0xb58918)?_0xb58918=Math[_0x52b103(0x124)](_0xb58918,_0x23e120):_0xb58918=_0x23e120;}if(!a720_0x1e9adf(_0xb58918)){var _0x46a860=a720_0x3e085a[_0x52b103(0x182)];_0xb58918=-a720_0x3e085a['dot'](_0x46a860,_0x5ebe1f)/a720_0x3e085a['dot'](_0x46a860,_0x12283f);}handleZoom(_0x37a16b,_0x1e3976,_0x58f1b2,_0x37a16b['_zoomFactor'],_0xb58918);}function updateCV(_0x4558e9){var _0x4efb12=a720_0x73dad0,_0x38772a=_0x4558e9['_scene'],_0x9e7f13=_0x38772a['camera'];if(!a720_0xe767['equals'](a720_0xe767[_0x4efb12(0xeb)],_0x9e7f13['transform']))reactToInput(_0x4558e9,_0x4558e9[_0x4efb12(0x134)],_0x4558e9['rotateEventTypes'],rotate3D,_0x4558e9[_0x4efb12(0x10e)],_0x4efb12(0x10d)),reactToInput(_0x4558e9,_0x4558e9[_0x4efb12(0x10c)],_0x4558e9[_0x4efb12(0x198)],zoom3D,_0x4558e9[_0x4efb12(0x18d)],_0x4efb12(0x151));else{var _0x1373f0=_0x4558e9[_0x4efb12(0x154)];_0x4558e9['_aggregator'][_0x4efb12(0x12c)]&&_0x1373f0[_0x4efb12(0x1a7)]();reactToInput(_0x4558e9,_0x4558e9[_0x4efb12(0x1ac)],_0x4558e9[_0x4efb12(0x18c)],rotateCV,_0x4558e9[_0x4efb12(0x10e)],_0x4efb12(0x11c)),reactToInput(_0x4558e9,_0x4558e9['enableTranslate'],_0x4558e9[_0x4efb12(0x122)],translateCV,_0x4558e9['inertiaTranslate'],_0x4efb12(0xe0)),reactToInput(_0x4558e9,_0x4558e9['enableZoom'],_0x4558e9[_0x4efb12(0x198)],zoomCV,_0x4558e9[_0x4efb12(0x18d)],_0x4efb12(0x151)),reactToInput(_0x4558e9,_0x4558e9[_0x4efb12(0x173)],_0x4558e9[_0x4efb12(0x158)],look3D);if(!_0x4558e9['_aggregator']['anyButtonDown']&&!_0x1373f0[_0x4efb12(0x130)](_0x4558e9[_0x4efb12(0x11d)])){var _0xdfa866=_0x9e7f13['createCorrectPositionTween'](_0x4558e9[_0x4efb12(0x142)]);a720_0x1e9adf(_0xdfa866)&&(_0x4558e9[_0x4efb12(0x11d)]=_0x1373f0[_0x4efb12(0xee)](_0xdfa866));}_0x1373f0[_0x4efb12(0x118)]();}}var scratchStrafeRay=new a720_0x5277d5(),scratchStrafePlane=new a720_0x339ca3(a720_0x3e085a[a720_0x73dad0(0x182)],0x0),scratchStrafeIntersection=new a720_0x3e085a(),scratchStrafeDirection=new a720_0x3e085a(),scratchMousePos=new a720_0x3e085a();function strafe(_0x22068f,_0x4140ba,_0x341059){var _0x97d83c=a720_0x73dad0,_0x3eddd4=_0x22068f[_0x97d83c(0x169)],_0x10b3fb=_0x3eddd4['camera'],_0x57da4f=_0x10b3fb[_0x97d83c(0xe1)](_0x4140ba[_0x97d83c(0x19a)],scratchStrafeRay),_0x124d67=a720_0x3e085a['clone'](_0x10b3fb[_0x97d83c(0xde)],scratchStrafeDirection);_0x3eddd4[_0x97d83c(0xdf)]===a720_0x21a5d0['COLUMBUS_VIEW']&&a720_0x3e085a[_0x97d83c(0xdd)](_0x124d67['z'],_0x124d67['x'],_0x124d67['y'],_0x124d67);var _0x65192f=a720_0x339ca3[_0x97d83c(0xea)](_0x341059,_0x124d67,scratchStrafePlane),_0x4f40d2=a720_0x31a92c[_0x97d83c(0x1a4)](_0x57da4f,_0x65192f,scratchStrafeIntersection);if(!a720_0x1e9adf(_0x4f40d2))return;_0x124d67=a720_0x3e085a[_0x97d83c(0x189)](_0x341059,_0x4f40d2,_0x124d67),_0x3eddd4['mode']===a720_0x21a5d0[_0x97d83c(0xf1)]&&a720_0x3e085a[_0x97d83c(0xdd)](_0x124d67['y'],_0x124d67['z'],_0x124d67['x'],_0x124d67),a720_0x3e085a[_0x97d83c(0xee)](_0x10b3fb[_0x97d83c(0x1a3)],_0x124d67,_0x10b3fb[_0x97d83c(0x1a3)]);}var spin3DPick=new a720_0x3e085a(),scratchCartographic=new a720_0x5d1a11(),scratchRadii=new a720_0x3e085a(),scratchEllipsoid=new a720_0x51b82e(),scratchLookUp=new a720_0x3e085a(),scratchNormal=new a720_0x3e085a();function spin3D(_0x189e97,_0x3e745f,_0x5c14a9){var _0x1fea29=a720_0x73dad0,_0x337104=_0x189e97[_0x1fea29(0x169)],_0x2aec6d=_0x337104[_0x1fea29(0xe9)],_0x49255d=_0x189e97['_cameraUnderground'],_0x4dd514=_0x189e97['_ellipsoid'];if(!a720_0xe767[_0x1fea29(0x128)](_0x2aec6d['transform'],a720_0xe767[_0x1fea29(0xeb)])){rotate3D(_0x189e97,_0x3e745f,_0x5c14a9);return;}var _0x329ca5,_0x19a3c0,_0x3e7136=_0x4dd514[_0x1fea29(0x111)](_0x2aec6d['position'],scratchLookUp);if(a720_0x39746e[_0x1fea29(0x128)](_0x3e745f,_0x189e97[_0x1fea29(0x12a)])){if(_0x189e97[_0x1fea29(0x135)])look3D(_0x189e97,_0x3e745f,_0x5c14a9,_0x3e7136);else{if(_0x189e97['_rotating'])rotate3D(_0x189e97,_0x3e745f,_0x5c14a9);else{if(_0x189e97[_0x1fea29(0x156)])continueStrafing(_0x189e97,_0x5c14a9);else{if(a720_0x3e085a[_0x1fea29(0xdc)](_0x2aec6d[_0x1fea29(0x1a3)])<a720_0x3e085a[_0x1fea29(0xdc)](_0x189e97[_0x1fea29(0x14c)]))return;_0x329ca5=a720_0x3e085a[_0x1fea29(0xdc)](_0x189e97[_0x1fea29(0x14c)]),_0x19a3c0=scratchRadii,_0x19a3c0['x']=_0x19a3c0['y']=_0x19a3c0['z']=_0x329ca5,_0x4dd514=a720_0x51b82e[_0x1fea29(0x1b1)](_0x19a3c0,scratchEllipsoid),pan3D(_0x189e97,_0x3e745f,_0x5c14a9,_0x4dd514);}}}return;}_0x189e97[_0x1fea29(0x135)]=![],_0x189e97[_0x1fea29(0x159)]=![],_0x189e97[_0x1fea29(0x156)]=![];var _0x3e6fcb=_0x4dd514[_0x1fea29(0x179)](_0x2aec6d['positionWC'],scratchCartographic)['height'],_0xde8472=_0x189e97[_0x1fea29(0x1af)];if(a720_0x1e9adf(_0xde8472)&&_0x3e6fcb<_0x189e97[_0x1fea29(0x113)]){var _0x5d2090=pickGlobe(_0x189e97,_0x5c14a9['startPosition'],scratchMousePos);if(a720_0x1e9adf(_0x5d2090)){var _0x40b02b=![],_0x52f6ec=_0x2aec6d[_0x1fea29(0xe1)](_0x5c14a9[_0x1fea29(0x10a)],pickGlobeScratchRay);if(_0x49255d)_0x40b02b=!![],getStrafeStartPositionUnderground(_0x189e97,_0x52f6ec,_0x5d2090,_0x5d2090);else{var _0x5e0f51=_0x4dd514[_0x1fea29(0x111)](_0x5d2090,scratchNormal),_0x594aa5=Math['abs'](a720_0x3e085a[_0x1fea29(0xfb)](_0x52f6ec[_0x1fea29(0xde)],_0x5e0f51))<0.05;_0x594aa5?_0x40b02b=!![]:_0x40b02b=a720_0x3e085a[_0x1fea29(0xdc)](_0x2aec6d[_0x1fea29(0x1a3)])<a720_0x3e085a[_0x1fea29(0xdc)](_0x5d2090);}_0x40b02b?(a720_0x39746e[_0x1fea29(0xe5)](_0x3e745f,_0x189e97[_0x1fea29(0x115)]),a720_0x3e085a[_0x1fea29(0xe5)](_0x5d2090,_0x189e97[_0x1fea29(0x12f)]),_0x189e97[_0x1fea29(0x156)]=!![],strafe(_0x189e97,_0x5c14a9,_0x189e97[_0x1fea29(0x12f)])):(_0x329ca5=a720_0x3e085a[_0x1fea29(0xdc)](_0x5d2090),_0x19a3c0=scratchRadii,_0x19a3c0['x']=_0x19a3c0['y']=_0x19a3c0['z']=_0x329ca5,_0x4dd514=a720_0x51b82e[_0x1fea29(0x1b1)](_0x19a3c0,scratchEllipsoid),pan3D(_0x189e97,_0x3e745f,_0x5c14a9,_0x4dd514),a720_0x3e085a['clone'](_0x5d2090,_0x189e97[_0x1fea29(0x14c)]));}else _0x189e97[_0x1fea29(0x135)]=!![],look3D(_0x189e97,_0x3e745f,_0x5c14a9,_0x3e7136);}else{if(a720_0x1e9adf(_0x2aec6d['pickEllipsoid'](_0x5c14a9[_0x1fea29(0x10a)],_0x189e97['_ellipsoid'],spin3DPick)))pan3D(_0x189e97,_0x3e745f,_0x5c14a9,_0x189e97[_0x1fea29(0x17e)]),a720_0x3e085a[_0x1fea29(0xe5)](spin3DPick,_0x189e97[_0x1fea29(0x14c)]);else _0x3e6fcb>_0x189e97['_minimumTrackBallHeight']?(_0x189e97['_rotating']=!![],rotate3D(_0x189e97,_0x3e745f,_0x5c14a9)):(_0x189e97[_0x1fea29(0x135)]=!![],look3D(_0x189e97,_0x3e745f,_0x5c14a9,_0x3e7136));}a720_0x39746e[_0x1fea29(0xe5)](_0x3e745f,_0x189e97[_0x1fea29(0x12a)]);}function rotate3D(_0x1d507a,_0x25d746,_0x3221ba,_0xd6a4b,_0x315159,_0x3fe273){var _0x3899fa=a720_0x73dad0;_0x315159=a720_0x48e0e6(_0x315159,![]),_0x3fe273=a720_0x48e0e6(_0x3fe273,![]);var _0x49f128=_0x1d507a[_0x3899fa(0x169)],_0x33509e=_0x49f128['camera'],_0x5c49bc=_0x49f128[_0x3899fa(0x186)],_0x548a1d=_0x33509e[_0x3899fa(0x101)];a720_0x1e9adf(_0xd6a4b)&&(_0x33509e[_0x3899fa(0x101)]=_0xd6a4b);var _0x30d6d7=a720_0x3e085a[_0x3899fa(0xdc)](_0x33509e['position']),_0x224e9d=_0x1d507a[_0x3899fa(0xe2)]*(_0x30d6d7-_0x1d507a[_0x3899fa(0x17a)]);_0x224e9d>_0x1d507a[_0x3899fa(0x199)]&&(_0x224e9d=_0x1d507a[_0x3899fa(0x199)]);_0x224e9d<_0x1d507a[_0x3899fa(0x18a)]&&(_0x224e9d=_0x1d507a[_0x3899fa(0x18a)]);var _0x5eeb89=(_0x3221ba[_0x3899fa(0x10a)]['x']-_0x3221ba['endPosition']['x'])/_0x5c49bc[_0x3899fa(0xff)],_0x51dec6=(_0x3221ba[_0x3899fa(0x10a)]['y']-_0x3221ba['endPosition']['y'])/_0x5c49bc[_0x3899fa(0xf9)];_0x5eeb89=Math[_0x3899fa(0x124)](_0x5eeb89,_0x1d507a[_0x3899fa(0x176)]),_0x51dec6=Math['min'](_0x51dec6,_0x1d507a[_0x3899fa(0x176)]);var _0x2431b9=_0x224e9d*_0x5eeb89*Math['PI']*0x2,_0x42a195=_0x224e9d*_0x51dec6*Math['PI'];!_0x315159&&_0x33509e['rotateRight'](_0x2431b9),!_0x3fe273&&_0x33509e[_0x3899fa(0x193)](_0x42a195),_0x33509e[_0x3899fa(0x101)]=_0x548a1d;}var pan3DP0=a720_0x5309f5[a720_0x73dad0(0xe5)](a720_0x5309f5['UNIT_W']),pan3DP1=a720_0x5309f5[a720_0x73dad0(0xe5)](a720_0x5309f5[a720_0x73dad0(0x138)]),pan3DTemp0=new a720_0x3e085a(),pan3DTemp1=new a720_0x3e085a(),pan3DTemp2=new a720_0x3e085a(),pan3DTemp3=new a720_0x3e085a(),pan3DStartMousePosition=new a720_0x39746e(),pan3DEndMousePosition=new a720_0x39746e();function pan3D(_0x104941,_0xfbdc76,_0xd758a0,_0x3c2c49){var _0x2b7988=a720_0x73dad0,_0x4f3aa2=_0x104941['_scene'],_0x27548e=_0x4f3aa2[_0x2b7988(0xe9)],_0xd06757=a720_0x39746e[_0x2b7988(0xe5)](_0xd758a0[_0x2b7988(0x10a)],pan3DStartMousePosition),_0x5c696e=a720_0x39746e[_0x2b7988(0xe5)](_0xd758a0['endPosition'],pan3DEndMousePosition),_0x4fc1a5=_0x27548e[_0x2b7988(0x14e)](_0xd06757,_0x3c2c49,pan3DP0),_0x1b2ae7=_0x27548e[_0x2b7988(0x14e)](_0x5c696e,_0x3c2c49,pan3DP1);if(!a720_0x1e9adf(_0x4fc1a5)||!a720_0x1e9adf(_0x1b2ae7)){_0x104941[_0x2b7988(0x159)]=!![],rotate3D(_0x104941,_0xfbdc76,_0xd758a0);return;}_0x4fc1a5=_0x27548e[_0x2b7988(0x157)](_0x4fc1a5,_0x4fc1a5),_0x1b2ae7=_0x27548e[_0x2b7988(0x157)](_0x1b2ae7,_0x1b2ae7);if(!a720_0x1e9adf(_0x27548e['constrainedAxis'])){a720_0x3e085a['normalize'](_0x4fc1a5,_0x4fc1a5),a720_0x3e085a[_0x2b7988(0x18f)](_0x1b2ae7,_0x1b2ae7);var _0x367610=a720_0x3e085a[_0x2b7988(0xfb)](_0x4fc1a5,_0x1b2ae7),_0x35058a=a720_0x3e085a[_0x2b7988(0xfd)](_0x4fc1a5,_0x1b2ae7,pan3DTemp0);if(_0x367610<0x1&&!a720_0x3e085a['equalsEpsilon'](_0x35058a,a720_0x3e085a[_0x2b7988(0x187)],a720_0x370b8b[_0x2b7988(0x163)])){var _0x320f36=Math[_0x2b7988(0x16c)](_0x367610);_0x27548e[_0x2b7988(0x177)](_0x35058a,_0x320f36);}}else{var _0x3e6559=_0x27548e[_0x2b7988(0x101)],_0x5838d8=a720_0x3e085a[_0x2b7988(0xe8)](_0x3e6559,pan3DTemp0);a720_0x3e085a[_0x2b7988(0xfd)](_0x5838d8,_0x3e6559,_0x5838d8),a720_0x3e085a[_0x2b7988(0x18f)](_0x5838d8,_0x5838d8);var _0x265e09=a720_0x3e085a[_0x2b7988(0xfd)](_0x3e6559,_0x5838d8,pan3DTemp1),_0x424a48=a720_0x3e085a['magnitude'](_0x4fc1a5),_0x1bf2f5=a720_0x3e085a['dot'](_0x3e6559,_0x4fc1a5),_0x1addd5=Math['acos'](_0x1bf2f5/_0x424a48),_0x4bf2a4=a720_0x3e085a[_0x2b7988(0x1a9)](_0x3e6559,_0x1bf2f5,pan3DTemp2);a720_0x3e085a[_0x2b7988(0x189)](_0x4fc1a5,_0x4bf2a4,_0x4bf2a4),a720_0x3e085a[_0x2b7988(0x18f)](_0x4bf2a4,_0x4bf2a4);var _0x75483=a720_0x3e085a['magnitude'](_0x1b2ae7),_0x1020e1=a720_0x3e085a[_0x2b7988(0xfb)](_0x3e6559,_0x1b2ae7),_0x11cc6c=Math[_0x2b7988(0x16c)](_0x1020e1/_0x75483),_0x213a32=a720_0x3e085a['multiplyByScalar'](_0x3e6559,_0x1020e1,pan3DTemp3);a720_0x3e085a[_0x2b7988(0x189)](_0x1b2ae7,_0x213a32,_0x213a32),a720_0x3e085a[_0x2b7988(0x18f)](_0x213a32,_0x213a32);var _0x976441=Math[_0x2b7988(0x16c)](a720_0x3e085a[_0x2b7988(0xfb)](_0x4bf2a4,_0x5838d8));a720_0x3e085a[_0x2b7988(0xfb)](_0x4bf2a4,_0x265e09)<0x0&&(_0x976441=a720_0x370b8b[_0x2b7988(0xf0)]-_0x976441);var _0x392725=Math[_0x2b7988(0x16c)](a720_0x3e085a[_0x2b7988(0xfb)](_0x213a32,_0x5838d8));a720_0x3e085a[_0x2b7988(0xfb)](_0x213a32,_0x265e09)<0x0&&(_0x392725=a720_0x370b8b[_0x2b7988(0xf0)]-_0x392725);var _0x1b097b=_0x976441-_0x392725,_0x52fa30;a720_0x3e085a['equalsEpsilon'](_0x3e6559,_0x27548e[_0x2b7988(0x1a3)],a720_0x370b8b[_0x2b7988(0x144)])?_0x52fa30=_0x27548e[_0x2b7988(0xf4)]:_0x52fa30=a720_0x3e085a[_0x2b7988(0xfd)](_0x3e6559,_0x27548e['position'],pan3DTemp0);var _0x3b58b3=a720_0x3e085a[_0x2b7988(0xfd)](_0x3e6559,_0x52fa30,pan3DTemp0),_0x49979c=a720_0x3e085a[_0x2b7988(0xfb)](_0x3b58b3,a720_0x3e085a[_0x2b7988(0x189)](_0x4fc1a5,_0x3e6559,pan3DTemp1)),_0x3aa9ad=a720_0x3e085a['dot'](_0x3b58b3,a720_0x3e085a[_0x2b7988(0x189)](_0x1b2ae7,_0x3e6559,pan3DTemp1)),_0x12471b;if(_0x49979c>0x0&&_0x3aa9ad>0x0)_0x12471b=_0x11cc6c-_0x1addd5;else _0x49979c>0x0&&_0x3aa9ad<=0x0?a720_0x3e085a[_0x2b7988(0xfb)](_0x27548e[_0x2b7988(0x1a3)],_0x3e6559)>0x0?_0x12471b=-_0x1addd5-_0x11cc6c:_0x12471b=_0x1addd5+_0x11cc6c:_0x12471b=_0x1addd5-_0x11cc6c;_0x27548e['rotateRight'](_0x1b097b),_0x27548e['rotateUp'](_0x12471b);}}var zoom3DUnitPosition=new a720_0x3e085a(),zoom3DCartographic=new a720_0x5d1a11();function zoom3D(_0x580d31,_0x1375e7,_0x3426d5){var _0x1e5b22=a720_0x73dad0;a720_0x1e9adf(_0x3426d5['distance'])&&(_0x3426d5=_0x3426d5[_0x1e5b22(0x147)]);var _0xccdeda=_0x580d31['_ellipsoid'],_0x434f95=_0x580d31[_0x1e5b22(0x169)],_0x349fc7=_0x434f95[_0x1e5b22(0xe9)],_0x417914=_0x434f95[_0x1e5b22(0x186)],_0x29c3c9=_0x580d31[_0x1e5b22(0xd9)],_0x5b51f1;_0x29c3c9?_0x5b51f1=_0x1375e7:(_0x5b51f1=zoomCVWindowPos,_0x5b51f1['x']=_0x417914[_0x1e5b22(0xff)]/0x2,_0x5b51f1['y']=_0x417914[_0x1e5b22(0xf9)]/0x2);var _0x1fd0fb=_0x349fc7[_0x1e5b22(0xe1)](_0x5b51f1,zoomCVWindowRay),_0x5b724a,_0x39dbd0=_0xccdeda[_0x1e5b22(0x179)](_0x349fc7['position'],zoom3DCartographic)[_0x1e5b22(0x1ae)];_0x39dbd0<_0x580d31[_0x1e5b22(0x113)]&&(_0x5b724a=pickGlobe(_0x580d31,_0x5b51f1,zoomCVIntersection));var _0x56a77d;a720_0x1e9adf(_0x5b724a)&&(_0x56a77d=a720_0x3e085a[_0x1e5b22(0x147)](_0x1fd0fb[_0x1e5b22(0x137)],_0x5b724a));if(_0x29c3c9){var _0x59d81e=getZoomDistanceUnderground(_0x580d31,_0x1fd0fb,_0x39dbd0);a720_0x1e9adf(_0x56a77d)?_0x56a77d=Math['min'](_0x56a77d,_0x59d81e):_0x56a77d=_0x59d81e;}!a720_0x1e9adf(_0x56a77d)&&(_0x56a77d=_0x39dbd0);var _0x63a465=a720_0x3e085a[_0x1e5b22(0x18f)](_0x349fc7['position'],zoom3DUnitPosition);handleZoom(_0x580d31,_0x1375e7,_0x3426d5,_0x580d31[_0x1e5b22(0x15a)],_0x56a77d,a720_0x3e085a[_0x1e5b22(0xfb)](_0x63a465,_0x349fc7['direction']));}var tilt3DWindowPos=new a720_0x39746e(),tilt3DRay=new a720_0x5277d5(),tilt3DCenter=new a720_0x3e085a(),tilt3DVerticalCenter=new a720_0x3e085a(),tilt3DTransform=new a720_0xe767(),tilt3DVerticalTransform=new a720_0xe767(),tilt3DOldTransform=new a720_0xe767(),tilt3DQuaternion=new a720_0x362d9a(),tilt3DMatrix=new a720_0x447dbc(),tilt3DCart=new a720_0x5d1a11(),tilt3DLookUp=new a720_0x3e085a();function tilt3D(_0x352d5c,_0x32695f,_0x356bcf){var _0x27876a=a720_0x73dad0,_0x56b7e4=_0x352d5c[_0x27876a(0x169)],_0x510441=_0x56b7e4[_0x27876a(0xe9)];if(!a720_0xe767['equals'](_0x510441[_0x27876a(0x14a)],a720_0xe767[_0x27876a(0xeb)]))return;a720_0x1e9adf(_0x356bcf[_0x27876a(0x185)])&&(_0x356bcf=_0x356bcf[_0x27876a(0x185)]);!a720_0x39746e[_0x27876a(0x128)](_0x32695f,_0x352d5c['_tiltCenterMousePosition'])&&(_0x352d5c['_tiltOnEllipsoid']=![],_0x352d5c[_0x27876a(0x135)]=![]);if(_0x352d5c[_0x27876a(0x135)]){var _0x549338=_0x352d5c[_0x27876a(0x17e)][_0x27876a(0x111)](_0x510441[_0x27876a(0x1a3)],tilt3DLookUp);look3D(_0x352d5c,_0x32695f,_0x356bcf,_0x549338);return;}var _0x50eac9=_0x352d5c[_0x27876a(0x17e)],_0x215463=_0x50eac9[_0x27876a(0x179)](_0x510441[_0x27876a(0x1a3)],tilt3DCart);_0x352d5c[_0x27876a(0x110)]||_0x215463[_0x27876a(0x1ae)]>_0x352d5c[_0x27876a(0x160)]?(_0x352d5c['_tiltOnEllipsoid']=!![],tilt3DOnEllipsoid(_0x352d5c,_0x32695f,_0x356bcf)):tilt3DOnTerrain(_0x352d5c,_0x32695f,_0x356bcf);}var tilt3DOnEllipsoidCartographic=new a720_0x5d1a11();function tilt3DOnEllipsoid(_0x876e20,_0x4b1524,_0x576585){var _0x3c8164=a720_0x73dad0,_0x3188ae=_0x876e20[_0x3c8164(0x17e)],_0x4d7aff=_0x876e20[_0x3c8164(0x169)],_0xdffe9=_0x4d7aff[_0x3c8164(0xe9)],_0x55bb67=_0x876e20['minimumZoomDistance']*0.25,_0x35d618=_0x3188ae[_0x3c8164(0x179)](_0xdffe9[_0x3c8164(0x146)],tilt3DOnEllipsoidCartographic)[_0x3c8164(0x1ae)];if(_0x35d618-_0x55bb67-0x1<a720_0x370b8b[_0x3c8164(0x12b)]&&_0x576585[_0x3c8164(0x19a)]['y']-_0x576585[_0x3c8164(0x10a)]['y']<0x0)return;var _0x2986e0=_0x4d7aff['canvas'],_0x83aeb1=tilt3DWindowPos;_0x83aeb1['x']=_0x2986e0[_0x3c8164(0xff)]/0x2,_0x83aeb1['y']=_0x2986e0[_0x3c8164(0xf9)]/0x2;var _0x439259=_0xdffe9[_0x3c8164(0xe1)](_0x83aeb1,tilt3DRay),_0x46a7f3,_0x5aef14=a720_0x31a92c[_0x3c8164(0x123)](_0x439259,_0x3188ae);if(a720_0x1e9adf(_0x5aef14))_0x46a7f3=a720_0x5277d5[_0x3c8164(0xe4)](_0x439259,_0x5aef14[_0x3c8164(0x194)],tilt3DCenter);else{if(_0x35d618>_0x876e20[_0x3c8164(0x161)]){var _0x4d9bf3=a720_0x31a92c['grazingAltitudeLocation'](_0x439259,_0x3188ae);if(!a720_0x1e9adf(_0x4d9bf3))return;var _0x1b140a=_0x3188ae[_0x3c8164(0x179)](_0x4d9bf3,tilt3DCart);_0x1b140a['height']=0x0,_0x46a7f3=_0x3188ae[_0x3c8164(0x1a1)](_0x1b140a,tilt3DCenter);}else{_0x876e20[_0x3c8164(0x135)]=!![];var _0xdbe751=_0x876e20[_0x3c8164(0x17e)]['geodeticSurfaceNormal'](_0xdffe9['position'],tilt3DLookUp);look3D(_0x876e20,_0x4b1524,_0x576585,_0xdbe751),a720_0x39746e['clone'](_0x4b1524,_0x876e20['_tiltCenterMousePosition']);return;}}var _0xdd766b=a720_0xdfbda6['eastNorthUpToFixedFrame'](_0x46a7f3,_0x3188ae,tilt3DTransform),_0x1f4411=_0x876e20[_0x3c8164(0x1af)],_0x3fd06b=_0x876e20['_ellipsoid'];_0x876e20[_0x3c8164(0x1af)]=undefined,_0x876e20['_ellipsoid']=a720_0x51b82e[_0x3c8164(0xe3)],_0x876e20['_rotateFactor']=0x1,_0x876e20[_0x3c8164(0x17a)]=0x1;var _0x5ae1a1=a720_0xe767[_0x3c8164(0xe5)](_0xdffe9['transform'],tilt3DOldTransform);_0xdffe9[_0x3c8164(0xec)](_0xdd766b),rotate3D(_0x876e20,_0x4b1524,_0x576585,a720_0x3e085a[_0x3c8164(0x13c)]),_0xdffe9[_0x3c8164(0xec)](_0x5ae1a1),_0x876e20[_0x3c8164(0x1af)]=_0x1f4411,_0x876e20[_0x3c8164(0x17e)]=_0x3fd06b;var _0x3a9549=_0x3fd06b['maximumRadius'];_0x876e20[_0x3c8164(0xe2)]=0x1/_0x3a9549,_0x876e20[_0x3c8164(0x17a)]=_0x3a9549;}function tilt3DOnTerrain(_0x569dfa,_0x235b0c,_0x4bdd7c){var _0x2ff25d=a720_0x73dad0,_0x4ffef6=_0x569dfa[_0x2ff25d(0x17e)],_0x47ffdf=_0x569dfa[_0x2ff25d(0x169)],_0x33f5ec=_0x47ffdf[_0x2ff25d(0xe9)],_0x43d584=_0x569dfa[_0x2ff25d(0xd9)],_0x21eaf7,_0x1fdef7,_0x5df287;if(a720_0x39746e[_0x2ff25d(0x128)](_0x235b0c,_0x569dfa[_0x2ff25d(0x19c)]))_0x21eaf7=a720_0x3e085a[_0x2ff25d(0xe5)](_0x569dfa['_tiltCenter'],tilt3DCenter);else{_0x21eaf7=pickGlobe(_0x569dfa,_0x235b0c,tilt3DCenter);if(!a720_0x1e9adf(_0x21eaf7)){_0x1fdef7=_0x33f5ec[_0x2ff25d(0xe1)](_0x235b0c,tilt3DRay),_0x5df287=a720_0x31a92c[_0x2ff25d(0x123)](_0x1fdef7,_0x4ffef6);if(!a720_0x1e9adf(_0x5df287)){var _0x57a473=_0x4ffef6['cartesianToCartographic'](_0x33f5ec[_0x2ff25d(0x1a3)],tilt3DCart);if(_0x57a473[_0x2ff25d(0x1ae)]<=_0x569dfa[_0x2ff25d(0x161)]){_0x569dfa[_0x2ff25d(0x135)]=!![];var _0x212682=_0x569dfa['_ellipsoid'][_0x2ff25d(0x111)](_0x33f5ec[_0x2ff25d(0x1a3)],tilt3DLookUp);look3D(_0x569dfa,_0x235b0c,_0x4bdd7c,_0x212682),a720_0x39746e[_0x2ff25d(0xe5)](_0x235b0c,_0x569dfa[_0x2ff25d(0x19c)]);}return;}_0x21eaf7=a720_0x5277d5['getPoint'](_0x1fdef7,_0x5df287[_0x2ff25d(0x194)],tilt3DCenter);}_0x43d584&&(!a720_0x1e9adf(_0x1fdef7)&&(_0x1fdef7=_0x33f5ec[_0x2ff25d(0xe1)](_0x235b0c,tilt3DRay)),getTiltCenterUnderground(_0x569dfa,_0x1fdef7,_0x21eaf7,_0x21eaf7)),a720_0x39746e['clone'](_0x235b0c,_0x569dfa[_0x2ff25d(0x19c)]),a720_0x3e085a[_0x2ff25d(0xe5)](_0x21eaf7,_0x569dfa[_0x2ff25d(0x170)]);}var _0x12e9f2=_0x47ffdf[_0x2ff25d(0x186)],_0x51db84=tilt3DWindowPos;_0x51db84['x']=_0x12e9f2[_0x2ff25d(0xff)]/0x2,_0x51db84['y']=_0x569dfa['_tiltCenterMousePosition']['y'],_0x1fdef7=_0x33f5ec[_0x2ff25d(0xe1)](_0x51db84,tilt3DRay);var _0x596118=a720_0x3e085a[_0x2ff25d(0xdc)](_0x21eaf7),_0x1c633d=a720_0x3e085a[_0x2ff25d(0xdd)](_0x596118,_0x596118,_0x596118,scratchRadii),_0x424672=a720_0x51b82e[_0x2ff25d(0x1b1)](_0x1c633d,scratchEllipsoid);_0x5df287=a720_0x31a92c[_0x2ff25d(0x123)](_0x1fdef7,_0x424672);if(!a720_0x1e9adf(_0x5df287))return;var _0x3eab82=a720_0x3e085a[_0x2ff25d(0xdc)](_0x1fdef7[_0x2ff25d(0x137)])>_0x596118?_0x5df287[_0x2ff25d(0x194)]:_0x5df287[_0x2ff25d(0x139)],_0x285ac3=a720_0x5277d5['getPoint'](_0x1fdef7,_0x3eab82,tilt3DVerticalCenter),_0x533ef3=a720_0xdfbda6[_0x2ff25d(0x19d)](_0x21eaf7,_0x4ffef6,tilt3DTransform),_0xf4f718=a720_0xdfbda6[_0x2ff25d(0x19d)](_0x285ac3,_0x424672,tilt3DVerticalTransform),_0x26cefb=_0x569dfa[_0x2ff25d(0x1af)],_0x8ac010=_0x569dfa[_0x2ff25d(0x17e)];_0x569dfa[_0x2ff25d(0x1af)]=undefined,_0x569dfa['_ellipsoid']=a720_0x51b82e['UNIT_SPHERE'],_0x569dfa[_0x2ff25d(0xe2)]=0x1,_0x569dfa[_0x2ff25d(0x17a)]=0x1;var _0x11eb3b=a720_0x3e085a[_0x2ff25d(0x13c)],_0x577819=a720_0xe767[_0x2ff25d(0xe5)](_0x33f5ec[_0x2ff25d(0x14a)],tilt3DOldTransform);_0x33f5ec[_0x2ff25d(0xec)](_0xf4f718);var _0x3f6c97=a720_0x3e085a[_0x2ff25d(0xfd)](_0x285ac3,_0x33f5ec[_0x2ff25d(0x146)],tilt3DCartesian3),_0x563a3e=a720_0x3e085a[_0x2ff25d(0xfb)](_0x33f5ec[_0x2ff25d(0x119)],_0x3f6c97);if(_0x563a3e<0x0){var _0x8ef030=_0x4bdd7c[_0x2ff25d(0x10a)]['y']-_0x4bdd7c[_0x2ff25d(0x19a)]['y'];(_0x43d584&&_0x8ef030<0x0||!_0x43d584&&_0x8ef030>0x0)&&(_0x11eb3b=undefined);var _0x3f6974=_0x33f5ec[_0x2ff25d(0x101)];_0x33f5ec[_0x2ff25d(0x101)]=undefined,rotate3D(_0x569dfa,_0x235b0c,_0x4bdd7c,_0x11eb3b,!![],![]),_0x33f5ec[_0x2ff25d(0x101)]=_0x3f6974;}else rotate3D(_0x569dfa,_0x235b0c,_0x4bdd7c,_0x11eb3b,!![],![]);_0x33f5ec[_0x2ff25d(0xec)](_0x533ef3),rotate3D(_0x569dfa,_0x235b0c,_0x4bdd7c,_0x11eb3b,![],!![]);if(a720_0x1e9adf(_0x33f5ec['constrainedAxis'])){var _0x4f19df=a720_0x3e085a[_0x2ff25d(0xfd)](_0x33f5ec[_0x2ff25d(0xde)],_0x33f5ec[_0x2ff25d(0x101)],tilt3DCartesian3);!a720_0x3e085a[_0x2ff25d(0x17f)](_0x4f19df,a720_0x3e085a['ZERO'],a720_0x370b8b[_0x2ff25d(0x181)])&&(a720_0x3e085a[_0x2ff25d(0xfb)](_0x4f19df,_0x33f5ec[_0x2ff25d(0xf4)])<0x0&&a720_0x3e085a[_0x2ff25d(0x121)](_0x4f19df,_0x4f19df),a720_0x3e085a[_0x2ff25d(0xfd)](_0x4f19df,_0x33f5ec[_0x2ff25d(0xde)],_0x33f5ec['up']),a720_0x3e085a[_0x2ff25d(0xfd)](_0x33f5ec[_0x2ff25d(0xde)],_0x33f5ec['up'],_0x33f5ec[_0x2ff25d(0xf4)]),a720_0x3e085a[_0x2ff25d(0x18f)](_0x33f5ec['up'],_0x33f5ec['up']),a720_0x3e085a['normalize'](_0x33f5ec[_0x2ff25d(0xf4)],_0x33f5ec[_0x2ff25d(0xf4)]));}_0x33f5ec[_0x2ff25d(0xec)](_0x577819),_0x569dfa[_0x2ff25d(0x1af)]=_0x26cefb,_0x569dfa[_0x2ff25d(0x17e)]=_0x8ac010;var _0x5f05f3=_0x8ac010[_0x2ff25d(0x131)];_0x569dfa[_0x2ff25d(0xe2)]=0x1/_0x5f05f3,_0x569dfa['_rotateRateRangeAdjustment']=_0x5f05f3;var _0x1d462a=a720_0x3e085a[_0x2ff25d(0xe5)](_0x33f5ec[_0x2ff25d(0x146)],tilt3DCartesian3);_0x569dfa[_0x2ff25d(0x104)]&&adjustHeightForTerrain(_0x569dfa);if(!a720_0x3e085a[_0x2ff25d(0x128)](_0x33f5ec[_0x2ff25d(0x146)],_0x1d462a)){_0x33f5ec[_0x2ff25d(0xec)](_0xf4f718),_0x33f5ec[_0x2ff25d(0x14b)](_0x1d462a,_0x1d462a);var _0x2b28db=a720_0x3e085a[_0x2ff25d(0x17c)](_0x1d462a);a720_0x3e085a['magnitudeSquared'](_0x33f5ec[_0x2ff25d(0x1a3)])>_0x2b28db&&(a720_0x3e085a['normalize'](_0x33f5ec[_0x2ff25d(0x1a3)],_0x33f5ec[_0x2ff25d(0x1a3)]),a720_0x3e085a['multiplyByScalar'](_0x33f5ec['position'],Math[_0x2ff25d(0xef)](_0x2b28db),_0x33f5ec[_0x2ff25d(0x1a3)]));var _0x1a27e4=a720_0x3e085a[_0x2ff25d(0x192)](_0x1d462a,_0x33f5ec[_0x2ff25d(0x1a3)]),_0x1e1213=a720_0x3e085a[_0x2ff25d(0xfd)](_0x1d462a,_0x33f5ec[_0x2ff25d(0x1a3)],_0x1d462a);a720_0x3e085a[_0x2ff25d(0x18f)](_0x1e1213,_0x1e1213);var _0x1e3964=a720_0x362d9a[_0x2ff25d(0xf5)](_0x1e1213,_0x1a27e4,tilt3DQuaternion),_0x32d0d4=a720_0x447dbc[_0x2ff25d(0x1ad)](_0x1e3964,tilt3DMatrix);a720_0x447dbc[_0x2ff25d(0x178)](_0x32d0d4,_0x33f5ec[_0x2ff25d(0xde)],_0x33f5ec['direction']),a720_0x447dbc[_0x2ff25d(0x178)](_0x32d0d4,_0x33f5ec['up'],_0x33f5ec['up']),a720_0x3e085a['cross'](_0x33f5ec[_0x2ff25d(0xde)],_0x33f5ec['up'],_0x33f5ec[_0x2ff25d(0xf4)]),a720_0x3e085a[_0x2ff25d(0xfd)](_0x33f5ec['right'],_0x33f5ec['direction'],_0x33f5ec['up']),_0x33f5ec[_0x2ff25d(0xec)](_0x577819);}}var look3DStartPos=new a720_0x39746e(),look3DEndPos=new a720_0x39746e(),look3DStartRay=new a720_0x5277d5(),look3DEndRay=new a720_0x5277d5(),look3DNegativeRot=new a720_0x3e085a(),look3DTan=new a720_0x3e085a();function look3D(_0x2681ba,_0xdde5ad,_0x34961d,_0x408ab7){var _0x579691=a720_0x73dad0,_0x44d6d0=_0x2681ba['_scene'],_0x26f1b5=_0x44d6d0[_0x579691(0xe9)],_0x4b5474=look3DStartPos;_0x4b5474['x']=_0x34961d[_0x579691(0x10a)]['x'],_0x4b5474['y']=0x0;var _0x18d141=look3DEndPos;_0x18d141['x']=_0x34961d[_0x579691(0x19a)]['x'],_0x18d141['y']=0x0;var _0x167db6=_0x26f1b5[_0x579691(0xe1)](_0x4b5474,look3DStartRay),_0xbef518=_0x26f1b5[_0x579691(0xe1)](_0x18d141,look3DEndRay),_0x22101c=0x0,_0x150395,_0x584c27;_0x26f1b5[_0x579691(0x172)]instanceof a720_0x14af85?(_0x150395=_0x167db6[_0x579691(0x137)],_0x584c27=_0xbef518[_0x579691(0x137)],a720_0x3e085a[_0x579691(0xee)](_0x26f1b5[_0x579691(0xde)],_0x150395,_0x150395),a720_0x3e085a[_0x579691(0xee)](_0x26f1b5[_0x579691(0xde)],_0x584c27,_0x584c27),a720_0x3e085a[_0x579691(0x189)](_0x150395,_0x26f1b5[_0x579691(0x1a3)],_0x150395),a720_0x3e085a[_0x579691(0x189)](_0x584c27,_0x26f1b5['position'],_0x584c27),a720_0x3e085a[_0x579691(0x18f)](_0x150395,_0x150395),a720_0x3e085a[_0x579691(0x18f)](_0x584c27,_0x584c27)):(_0x150395=_0x167db6[_0x579691(0xde)],_0x584c27=_0xbef518[_0x579691(0xde)]);var _0x58af30=a720_0x3e085a[_0x579691(0xfb)](_0x150395,_0x584c27);_0x58af30<0x1&&(_0x22101c=Math[_0x579691(0x16c)](_0x58af30));_0x22101c=_0x34961d['startPosition']['x']>_0x34961d['endPosition']['x']?-_0x22101c:_0x22101c;var _0x45905c=_0x2681ba['_horizontalRotationAxis'];if(a720_0x1e9adf(_0x408ab7))_0x26f1b5[_0x579691(0x14d)](_0x408ab7,-_0x22101c);else a720_0x1e9adf(_0x45905c)?_0x26f1b5[_0x579691(0x14d)](_0x45905c,-_0x22101c):_0x26f1b5['lookLeft'](_0x22101c);_0x4b5474['x']=0x0,_0x4b5474['y']=_0x34961d[_0x579691(0x10a)]['y'],_0x18d141['x']=0x0,_0x18d141['y']=_0x34961d[_0x579691(0x19a)]['y'],_0x167db6=_0x26f1b5[_0x579691(0xe1)](_0x4b5474,look3DStartRay),_0xbef518=_0x26f1b5[_0x579691(0xe1)](_0x18d141,look3DEndRay),_0x22101c=0x0;_0x26f1b5[_0x579691(0x172)]instanceof a720_0x14af85?(_0x150395=_0x167db6[_0x579691(0x137)],_0x584c27=_0xbef518[_0x579691(0x137)],a720_0x3e085a[_0x579691(0xee)](_0x26f1b5['direction'],_0x150395,_0x150395),a720_0x3e085a[_0x579691(0xee)](_0x26f1b5[_0x579691(0xde)],_0x584c27,_0x584c27),a720_0x3e085a[_0x579691(0x189)](_0x150395,_0x26f1b5['position'],_0x150395),a720_0x3e085a[_0x579691(0x189)](_0x584c27,_0x26f1b5[_0x579691(0x1a3)],_0x584c27),a720_0x3e085a[_0x579691(0x18f)](_0x150395,_0x150395),a720_0x3e085a[_0x579691(0x18f)](_0x584c27,_0x584c27)):(_0x150395=_0x167db6[_0x579691(0xde)],_0x584c27=_0xbef518[_0x579691(0xde)]);_0x58af30=a720_0x3e085a[_0x579691(0xfb)](_0x150395,_0x584c27);_0x58af30<0x1&&(_0x22101c=Math[_0x579691(0x16c)](_0x58af30));_0x22101c=_0x34961d[_0x579691(0x10a)]['y']>_0x34961d[_0x579691(0x19a)]['y']?-_0x22101c:_0x22101c,_0x408ab7=a720_0x48e0e6(_0x408ab7,_0x45905c);if(a720_0x1e9adf(_0x408ab7)){var _0x1ac2d3=_0x26f1b5[_0x579691(0xde)],_0x2c7d3f=a720_0x3e085a[_0x579691(0x121)](_0x408ab7,look3DNegativeRot),_0x572f73=a720_0x3e085a[_0x579691(0x17f)](_0x1ac2d3,_0x408ab7,a720_0x370b8b[_0x579691(0x144)]),_0x130cb7=a720_0x3e085a[_0x579691(0x17f)](_0x1ac2d3,_0x2c7d3f,a720_0x370b8b[_0x579691(0x144)]);if(!_0x572f73&&!_0x130cb7){_0x58af30=a720_0x3e085a['dot'](_0x1ac2d3,_0x408ab7);var _0x2926c6=a720_0x370b8b[_0x579691(0x125)](_0x58af30);_0x22101c>0x0&&_0x22101c>_0x2926c6&&(_0x22101c=_0x2926c6-a720_0x370b8b[_0x579691(0x100)]);_0x58af30=a720_0x3e085a[_0x579691(0xfb)](_0x1ac2d3,_0x2c7d3f),_0x2926c6=a720_0x370b8b[_0x579691(0x125)](_0x58af30);_0x22101c<0x0&&-_0x22101c>_0x2926c6&&(_0x22101c=-_0x2926c6+a720_0x370b8b[_0x579691(0x100)]);var _0x387dfd=a720_0x3e085a[_0x579691(0xfd)](_0x408ab7,_0x1ac2d3,look3DTan);_0x26f1b5[_0x579691(0x14d)](_0x387dfd,_0x22101c);}else(_0x572f73&&_0x22101c<0x0||_0x130cb7&&_0x22101c>0x0)&&_0x26f1b5[_0x579691(0x14d)](_0x26f1b5['right'],-_0x22101c);}else _0x26f1b5[_0x579691(0x102)](_0x22101c);}function update3D(_0x1d110a){var _0x37eec6=a720_0x73dad0;reactToInput(_0x1d110a,_0x1d110a[_0x37eec6(0x134)],_0x1d110a['rotateEventTypes'],spin3D,_0x1d110a['inertiaSpin'],_0x37eec6(0x10d)),reactToInput(_0x1d110a,_0x1d110a[_0x37eec6(0x10c)],_0x1d110a[_0x37eec6(0x198)],zoom3D,_0x1d110a[_0x37eec6(0x18d)],_0x37eec6(0x151)),reactToInput(_0x1d110a,_0x1d110a[_0x37eec6(0x1ac)],_0x1d110a[_0x37eec6(0x18c)],tilt3D,_0x1d110a[_0x37eec6(0x10e)],_0x37eec6(0x11c)),reactToInput(_0x1d110a,_0x1d110a[_0x37eec6(0x173)],_0x1d110a['lookEventTypes'],look3D);}var scratchAdjustHeightTransform=new a720_0xe767(),scratchAdjustHeightCartographic=new a720_0x5d1a11();function adjustHeightForTerrain(_0x3b44e7){var _0x35790c=a720_0x73dad0;_0x3b44e7['_adjustedHeightForTerrain']=!![];var _0x4e4e83=_0x3b44e7['_scene'],_0x46cedb=_0x4e4e83['mode'],_0x51b343=_0x4e4e83[_0x35790c(0x1a8)];if(!a720_0x1e9adf(_0x51b343)||_0x46cedb===a720_0x21a5d0[_0x35790c(0x19f)]||_0x46cedb===a720_0x21a5d0[_0x35790c(0x184)])return;var _0x52e9c6=_0x4e4e83[_0x35790c(0xe9)],_0x5d5d85=_0x51b343[_0x35790c(0x19b)],_0x471f05=_0x4e4e83[_0x35790c(0xfc)],_0x26c8af,_0x55a0d0;!a720_0xe767[_0x35790c(0x128)](_0x52e9c6[_0x35790c(0x14a)],a720_0xe767['IDENTITY'])&&(_0x26c8af=a720_0xe767[_0x35790c(0xe5)](_0x52e9c6['transform'],scratchAdjustHeightTransform),_0x55a0d0=a720_0x3e085a[_0x35790c(0xdc)](_0x52e9c6[_0x35790c(0x1a3)]),_0x52e9c6['_setTransform'](a720_0xe767['IDENTITY']));var _0x1b3bd6=scratchAdjustHeightCartographic;_0x46cedb===a720_0x21a5d0[_0x35790c(0x1aa)]?_0x5d5d85['cartesianToCartographic'](_0x52e9c6[_0x35790c(0x1a3)],_0x1b3bd6):_0x471f05[_0x35790c(0x11f)](_0x52e9c6[_0x35790c(0x1a3)],_0x1b3bd6);var _0x517a82=![];if(_0x1b3bd6[_0x35790c(0x1ae)]<_0x3b44e7[_0x35790c(0x160)]){var _0x327f65=_0x3b44e7['_scene'][_0x35790c(0x17d)];if(a720_0x1e9adf(_0x327f65)){var _0x446b70=_0x327f65+_0x3b44e7['minimumZoomDistance'];_0x1b3bd6[_0x35790c(0x1ae)]<_0x446b70&&(_0x1b3bd6['height']=_0x446b70,_0x46cedb===a720_0x21a5d0[_0x35790c(0x1aa)]?_0x5d5d85[_0x35790c(0x1a1)](_0x1b3bd6,_0x52e9c6[_0x35790c(0x1a3)]):_0x471f05[_0x35790c(0xf2)](_0x1b3bd6,_0x52e9c6[_0x35790c(0x1a3)]),_0x517a82=!![]);}}a720_0x1e9adf(_0x26c8af)&&(_0x52e9c6['_setTransform'](_0x26c8af),_0x517a82&&(a720_0x3e085a['normalize'](_0x52e9c6[_0x35790c(0x1a3)],_0x52e9c6[_0x35790c(0x1a3)]),a720_0x3e085a[_0x35790c(0x121)](_0x52e9c6[_0x35790c(0x1a3)],_0x52e9c6[_0x35790c(0xde)]),a720_0x3e085a[_0x35790c(0x1a9)](_0x52e9c6[_0x35790c(0x1a3)],Math['max'](_0x55a0d0,_0x3b44e7[_0x35790c(0x13d)]),_0x52e9c6[_0x35790c(0x1a3)]),a720_0x3e085a['normalize'](_0x52e9c6[_0x35790c(0xde)],_0x52e9c6[_0x35790c(0xde)]),a720_0x3e085a[_0x35790c(0xfd)](_0x52e9c6[_0x35790c(0xde)],_0x52e9c6['up'],_0x52e9c6[_0x35790c(0xf4)]),a720_0x3e085a[_0x35790c(0xfd)](_0x52e9c6[_0x35790c(0xf4)],_0x52e9c6['direction'],_0x52e9c6['up'])));}ScreenSpaceCameraController[a720_0x73dad0(0xf7)][a720_0x73dad0(0x19e)]=function(){var _0x26ef32=a720_0x73dad0,_0x384659=this[_0x26ef32(0x169)],_0x21a39d=_0x384659[_0x26ef32(0xdf)],_0x300b69=_0x384659[_0x26ef32(0xe9)];if(_0x21a39d===a720_0x21a5d0['COLUMBUS_VIEW'])return Math[_0x26ef32(0x103)](_0x300b69[_0x26ef32(0x1a3)]['x'])-this[_0x26ef32(0x116)]['x']<0x0&&Math['abs'](_0x300b69[_0x26ef32(0x1a3)]['y'])-this[_0x26ef32(0x116)]['y']<0x0;return!![];};var scratchPreviousPosition=new a720_0x3e085a(),scratchPreviousDirection=new a720_0x3e085a();ScreenSpaceCameraController[a720_0x73dad0(0xf7)]['update']=function(){var _0x4448fd=a720_0x73dad0,_0x2d6132=this['_scene'],_0x4c59f7=_0x2d6132[_0x4448fd(0xe9)],_0x1b6cfc=_0x2d6132[_0x4448fd(0x1a8)],_0x307eb1=_0x2d6132['mode'];!a720_0xe767[_0x4448fd(0x128)](_0x4c59f7[_0x4448fd(0x14a)],a720_0xe767[_0x4448fd(0xeb)])?(this[_0x4448fd(0x1af)]=undefined,this[_0x4448fd(0x17e)]=a720_0x51b82e[_0x4448fd(0xe3)]):(this[_0x4448fd(0x1af)]=_0x1b6cfc,this[_0x4448fd(0x17e)]=a720_0x1e9adf(this[_0x4448fd(0x1af)])?this[_0x4448fd(0x1af)]['ellipsoid']:_0x2d6132[_0x4448fd(0xfc)][_0x4448fd(0x19b)]);var _0x5ed268=a720_0x1e9adf(this['_globe'])?this[_0x4448fd(0x1af)][_0x4448fd(0x105)]:0x1,_0x23aef4=a720_0x1e9adf(this[_0x4448fd(0x1af)])?this['_globe'][_0x4448fd(0x13b)]:0x0;this[_0x4448fd(0x160)]=a720_0x394e5a[_0x4448fd(0xd7)](this[_0x4448fd(0x14f)],_0x5ed268,_0x23aef4),this[_0x4448fd(0x113)]=a720_0x394e5a[_0x4448fd(0xd7)](this[_0x4448fd(0x129)],_0x5ed268,_0x23aef4),this[_0x4448fd(0x161)]=a720_0x394e5a[_0x4448fd(0xd7)](this[_0x4448fd(0x166)],_0x5ed268,_0x23aef4),this[_0x4448fd(0xd9)]=_0x2d6132[_0x4448fd(0x11b)]&&a720_0x1e9adf(this['_globe']);var _0x18538a=this[_0x4448fd(0x17e)][_0x4448fd(0x131)];this[_0x4448fd(0xe2)]=0x1/_0x18538a,this[_0x4448fd(0x17a)]=_0x18538a,this[_0x4448fd(0x10f)]=![];var _0x3e0510=a720_0x3e085a[_0x4448fd(0xe5)](_0x4c59f7['positionWC'],scratchPreviousPosition),_0x4945cc=a720_0x3e085a[_0x4448fd(0xe5)](_0x4c59f7[_0x4448fd(0xfe)],scratchPreviousDirection);if(_0x307eb1===a720_0x21a5d0[_0x4448fd(0x19f)])update2D(this);else{if(_0x307eb1===a720_0x21a5d0[_0x4448fd(0xf1)])this[_0x4448fd(0xda)]=a720_0x3e085a[_0x4448fd(0x13c)],updateCV(this);else _0x307eb1===a720_0x21a5d0[_0x4448fd(0x1aa)]&&(this[_0x4448fd(0xda)]=undefined,update3D(this));}if(this['enableCollisionDetection']&&!this[_0x4448fd(0x10f)]){var _0x2c7455=!a720_0x3e085a[_0x4448fd(0x128)](_0x3e0510,_0x4c59f7[_0x4448fd(0x146)])||!a720_0x3e085a[_0x4448fd(0x128)](_0x4945cc,_0x4c59f7['directionWC']);_0x2c7455&&adjustHeightForTerrain(this);}this[_0x4448fd(0x117)][_0x4448fd(0x16b)]();},ScreenSpaceCameraController[a720_0x73dad0(0xf7)]['isDestroyed']=function(){return![];},ScreenSpaceCameraController[a720_0x73dad0(0xf7)][a720_0x73dad0(0xe7)]=function(){var _0x46be78=a720_0x73dad0;return this[_0x46be78(0x154)][_0x46be78(0x1a7)](),this['_aggregator']=this[_0x46be78(0x117)]&&this[_0x46be78(0x117)]['destroy'](),a720_0x397e08(this);};export default ScreenSpaceCameraController;