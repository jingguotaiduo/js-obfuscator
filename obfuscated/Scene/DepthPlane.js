var a492_0x2076c1=a492_0x139e;function a492_0x139e(_0x4ce899,_0x3f10d5){var _0x242974=a492_0x2429();return a492_0x139e=function(_0x139e23,_0x12fd4d){_0x139e23=_0x139e23-0x167;var _0x556b85=_0x242974[_0x139e23];return _0x556b85;},a492_0x139e(_0x4ce899,_0x3f10d5);}(function(_0x588a5d,_0x46d4e7){var _0xe89fd6=a492_0x139e,_0x1bef2e=_0x588a5d();while(!![]){try{var _0x422d61=-parseInt(_0xe89fd6(0x18a))/0x1*(parseInt(_0xe89fd6(0x172))/0x2)+-parseInt(_0xe89fd6(0x181))/0x3+parseInt(_0xe89fd6(0x19b))/0x4+-parseInt(_0xe89fd6(0x16f))/0x5*(parseInt(_0xe89fd6(0x18e))/0x6)+parseInt(_0xe89fd6(0x198))/0x7+-parseInt(_0xe89fd6(0x1a2))/0x8*(-parseInt(_0xe89fd6(0x187))/0x9)+-parseInt(_0xe89fd6(0x196))/0xa*(parseInt(_0xe89fd6(0x189))/0xb);if(_0x422d61===_0x46d4e7)break;else _0x1bef2e['push'](_0x1bef2e['shift']());}catch(_0x3d3849){_0x1bef2e['push'](_0x1bef2e['shift']());}}}(a492_0x2429,0x9c2b1));import a492_0x447e91 from'../Core/BoundingSphere.js';import a492_0x38c886 from'../Core/Cartesian3.js';import a492_0x12cb9d from'../Core/ComponentDatatype.js';import a492_0x1c12a3 from'../Core/defined.js';import a492_0x192411 from'../Core/FeatureDetection.js';import a492_0xca345b from'../Core/Geometry.js';import a492_0x5abbdf from'../Core/GeometryAttribute.js';import a492_0x2cf814 from'../Core/OrthographicFrustum.js';import a492_0x3cb388 from'../Core/PrimitiveType.js';import a492_0x5b9ff8 from'../Renderer/BufferUsage.js';import a492_0x2493bf from'../Renderer/DrawCommand.js';import a492_0x280696 from'../Renderer/Pass.js';import a492_0xccd1ec from'../Renderer/RenderState.js';import a492_0x478e15 from'../Renderer/ShaderProgram.js';import a492_0x313fb5 from'../Renderer/ShaderSource.js';import a492_0x4a600c from'../Renderer/VertexArray.js';import a492_0x24db76 from'../Shaders/DepthPlaneFS.js';import a492_0x43fb5a from'../Shaders/DepthPlaneVS.js';import a492_0x2c92a3 from'./SceneMode.js';function DepthPlane(){var _0x28cd0a=a492_0x139e;this['_rs']=undefined,this['_sp']=undefined,this[_0x28cd0a(0x16a)]=undefined,this[_0x28cd0a(0x19c)]=undefined,this[_0x28cd0a(0x173)]=undefined,this[_0x28cd0a(0x179)]=![];}function a492_0x2429(){var _0x21587c=['_va','#extension\x20GL_EXT_frag_depth\x20:\x20enable\x20\x0a','mode','sqrt','vertexArray','10HqdEGB','copyFromArrayView','rightWC','160lmomnf','_mode','_sp','radii','execute','OPAQUE','fromCache','_useLogDepth','positionWC','multiplyByScalar','useLogDepth','shaderProgram','isDestroyed','vertexBuffer','cross','1526727Wfbvwe','ellipsoid','multiplyComponents','TRIANGLES','mapProjection','UNIT_Z','9VjewMk','replaceCache','1987667tODHqw','423YubGTw','supportsTypedArrays','oneOverRadii','destroy','2704854AKYAUK','maximumRadius','upWC','#endif\x20\x0a\x0a','ZERO','prototype','SCENE3D','getAttribute','10DHoiYn','add','7981652LSkXHH','LOG_DEPTH','normalize','3802304BzZAIx','_command','defines','update','subtract','camera','pack','1391336xWtOqn','fromGeometry','frustum','push'];a492_0x2429=function(){return _0x21587c;};return a492_0x2429();}var depthQuadScratch=a492_0x192411[a492_0x2076c1(0x18b)]()?new Float32Array(0xc):[],scratchCartesian1=new a492_0x38c886(),scratchCartesian2=new a492_0x38c886(),scratchCartesian3=new a492_0x38c886(),scratchCartesian4=new a492_0x38c886(),scratchCartesian5=new a492_0x38c886();function computeDepthQuad(_0x3d68f5,_0x58098f){var _0x1eb770=a492_0x2076c1,_0x3220a9=_0x3d68f5[_0x1eb770(0x175)],_0x256128=_0x58098f[_0x1eb770(0x1a0)],_0x2c98d4,_0x5710a9,_0x9287c8;if(_0x256128[_0x1eb770(0x168)]instanceof a492_0x2cf814)_0x2c98d4=a492_0x38c886[_0x1eb770(0x192)],_0x5710a9=_0x256128[_0x1eb770(0x171)],_0x9287c8=_0x256128[_0x1eb770(0x190)];else{var _0x4956bf=_0x256128[_0x1eb770(0x17a)],_0x375be6=a492_0x38c886['multiplyComponents'](_0x3d68f5[_0x1eb770(0x18c)],_0x4956bf,scratchCartesian1),_0x512948=a492_0x38c886[_0x1eb770(0x19a)](_0x375be6,scratchCartesian2),_0x1f8de0=a492_0x38c886[_0x1eb770(0x19a)](a492_0x38c886[_0x1eb770(0x180)](a492_0x38c886[_0x1eb770(0x186)],_0x375be6,scratchCartesian3),scratchCartesian3),_0x103347=a492_0x38c886[_0x1eb770(0x19a)](a492_0x38c886[_0x1eb770(0x180)](_0x512948,_0x1f8de0,scratchCartesian4),scratchCartesian4),_0x3f907b=a492_0x38c886['magnitude'](_0x375be6),_0xa926fe=Math[_0x1eb770(0x16d)](_0x3f907b*_0x3f907b-0x1);_0x2c98d4=a492_0x38c886[_0x1eb770(0x17b)](_0x512948,0x1/_0x3f907b,scratchCartesian1);var _0x177ea3=_0xa926fe/_0x3f907b;_0x5710a9=a492_0x38c886[_0x1eb770(0x17b)](_0x1f8de0,_0x177ea3,scratchCartesian2),_0x9287c8=a492_0x38c886['multiplyByScalar'](_0x103347,_0x177ea3,scratchCartesian3);}var _0x106595=a492_0x38c886[_0x1eb770(0x197)](_0x2c98d4,_0x9287c8,scratchCartesian5);a492_0x38c886[_0x1eb770(0x19f)](_0x106595,_0x5710a9,_0x106595),a492_0x38c886[_0x1eb770(0x183)](_0x3220a9,_0x106595,_0x106595),a492_0x38c886[_0x1eb770(0x1a1)](_0x106595,depthQuadScratch,0x0);var _0xbf458f=a492_0x38c886['subtract'](_0x2c98d4,_0x9287c8,scratchCartesian5);a492_0x38c886[_0x1eb770(0x19f)](_0xbf458f,_0x5710a9,_0xbf458f),a492_0x38c886[_0x1eb770(0x183)](_0x3220a9,_0xbf458f,_0xbf458f),a492_0x38c886['pack'](_0xbf458f,depthQuadScratch,0x3);var _0x599cc9=a492_0x38c886[_0x1eb770(0x197)](_0x2c98d4,_0x9287c8,scratchCartesian5);a492_0x38c886[_0x1eb770(0x197)](_0x599cc9,_0x5710a9,_0x599cc9),a492_0x38c886[_0x1eb770(0x183)](_0x3220a9,_0x599cc9,_0x599cc9),a492_0x38c886[_0x1eb770(0x1a1)](_0x599cc9,depthQuadScratch,0x6);var _0x538774=a492_0x38c886[_0x1eb770(0x19f)](_0x2c98d4,_0x9287c8,scratchCartesian5);return a492_0x38c886[_0x1eb770(0x197)](_0x538774,_0x5710a9,_0x538774),a492_0x38c886[_0x1eb770(0x183)](_0x3220a9,_0x538774,_0x538774),a492_0x38c886['pack'](_0x538774,depthQuadScratch,0x9),depthQuadScratch;}DepthPlane[a492_0x2076c1(0x193)][a492_0x2076c1(0x19e)]=function(_0x19146d){var _0x394079=a492_0x2076c1;this[_0x394079(0x173)]=_0x19146d['mode'];if(_0x19146d[_0x394079(0x16c)]!==a492_0x2c92a3[_0x394079(0x194)])return;var _0x1fce71=_0x19146d['context'],_0x2143d4=_0x19146d[_0x394079(0x185)][_0x394079(0x182)],_0x3f302f=_0x19146d[_0x394079(0x17c)];!a492_0x1c12a3(this[_0x394079(0x19c)])&&(this['_rs']=a492_0xccd1ec[_0x394079(0x178)]({'cull':{'enabled':!![]},'depthTest':{'enabled':!![]},'colorMask':{'red':![],'green':![],'blue':![],'alpha':![]}}),this[_0x394079(0x19c)]=new a492_0x2493bf({'renderState':this['_rs'],'boundingVolume':new a492_0x447e91(a492_0x38c886[_0x394079(0x192)],_0x2143d4[_0x394079(0x18f)]),'pass':a492_0x280696[_0x394079(0x177)],'owner':this}));if(!a492_0x1c12a3(this[_0x394079(0x174)])||this[_0x394079(0x179)]!==_0x3f302f){this[_0x394079(0x179)]=_0x3f302f;var _0x50cd66=new a492_0x313fb5({'sources':[a492_0x43fb5a]}),_0x5b1302=new a492_0x313fb5({'sources':[a492_0x24db76]});if(_0x3f302f){var _0x33805d='#ifdef\x20GL_EXT_frag_depth\x20\x0a'+_0x394079(0x16b)+_0x394079(0x191);_0x5b1302['sources'][_0x394079(0x169)](_0x33805d),_0x5b1302[_0x394079(0x19d)]['push']('LOG_DEPTH'),_0x50cd66[_0x394079(0x19d)]['push'](_0x394079(0x199));}this['_sp']=a492_0x478e15[_0x394079(0x188)]({'shaderProgram':this['_sp'],'context':_0x1fce71,'vertexShaderSource':_0x50cd66,'fragmentShaderSource':_0x5b1302,'attributeLocations':{'position':0x0}}),this['_command'][_0x394079(0x17d)]=this['_sp'];}var _0x4a17ff=computeDepthQuad(_0x2143d4,_0x19146d);if(!a492_0x1c12a3(this[_0x394079(0x16a)])){var _0x1a90d4=new a492_0xca345b({'attributes':{'position':new a492_0x5abbdf({'componentDatatype':a492_0x12cb9d['FLOAT'],'componentsPerAttribute':0x3,'values':_0x4a17ff})},'indices':[0x0,0x1,0x2,0x2,0x1,0x3],'primitiveType':a492_0x3cb388[_0x394079(0x184)]});this[_0x394079(0x16a)]=a492_0x4a600c[_0x394079(0x167)]({'context':_0x1fce71,'geometry':_0x1a90d4,'attributeLocations':{'position':0x0},'bufferUsage':a492_0x5b9ff8['DYNAMIC_DRAW']}),this['_command'][_0x394079(0x16e)]=this['_va'];}else this[_0x394079(0x16a)][_0x394079(0x195)](0x0)[_0x394079(0x17f)][_0x394079(0x170)](_0x4a17ff);},DepthPlane[a492_0x2076c1(0x193)][a492_0x2076c1(0x176)]=function(_0x3e7a9e,_0x210cee){var _0x9dd41b=a492_0x2076c1;this['_mode']===a492_0x2c92a3[_0x9dd41b(0x194)]&&this[_0x9dd41b(0x19c)][_0x9dd41b(0x176)](_0x3e7a9e,_0x210cee);},DepthPlane[a492_0x2076c1(0x193)][a492_0x2076c1(0x17e)]=function(){return![];},DepthPlane[a492_0x2076c1(0x193)][a492_0x2076c1(0x18d)]=function(){var _0xa2cef3=a492_0x2076c1;this['_sp']=this[_0xa2cef3(0x174)]&&this['_sp'][_0xa2cef3(0x18d)](),this[_0xa2cef3(0x16a)]=this[_0xa2cef3(0x16a)]&&this[_0xa2cef3(0x16a)]['destroy']();};export default DepthPlane;