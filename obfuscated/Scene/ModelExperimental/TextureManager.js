function a647_0x120b(_0x3268f3,_0x4adb6b){var _0x50ff0a=a647_0x50ff();return a647_0x120b=function(_0x120bb6,_0x5e8213){_0x120bb6=_0x120bb6-0xc1;var _0x5e4deb=_0x50ff0a[_0x120bb6];return _0x5e4deb;},a647_0x120b(_0x3268f3,_0x4adb6b);}var a647_0x29c11a=a647_0x120b;(function(_0x39c7a5,_0x38c8ea){var _0x5df761=a647_0x120b,_0xdc0ffe=_0x39c7a5();while(!![]){try{var _0x1bb046=-parseInt(_0x5df761(0xd8))/0x1+parseInt(_0x5df761(0xc3))/0x2*(parseInt(_0x5df761(0xcb))/0x3)+-parseInt(_0x5df761(0xcd))/0x4*(-parseInt(_0x5df761(0xca))/0x5)+parseInt(_0x5df761(0xdc))/0x6+parseInt(_0x5df761(0xd5))/0x7+-parseInt(_0x5df761(0xd6))/0x8+-parseInt(_0x5df761(0xdd))/0x9;if(_0x1bb046===_0x38c8ea)break;else _0xdc0ffe['push'](_0xdc0ffe['shift']());}catch(_0x3f1055){_0xdc0ffe['push'](_0xdc0ffe['shift']());}}}(a647_0x50ff,0xca092));import a647_0x4c5482 from'../../Core/defined.js';import a647_0x22c79f from'../../Core/destroyObject.js';import a647_0x4bf5ae from'../../Renderer/Texture.js';export default function TextureManager(){var _0x346e67=a647_0x120b;this[_0x346e67(0xde)]=undefined,this[_0x346e67(0xd1)]={},this['_loadedImages']=[],this[_0x346e67(0xc8)]=-0x1;}TextureManager['prototype'][a647_0x29c11a(0xd2)]=function(_0x463afe){return this['_textures'][_0x463afe];};function fetchTexture2D(_0x451016,_0x63d64c,_0x70a254){var _0x5bc488=a647_0x29c11a;_0x70a254[_0x5bc488(0xe0)][_0x5bc488(0xcc)]()[_0x5bc488(0xc5)](function(_0xf8a411){var _0xb71858=_0x5bc488;_0x451016['_loadedImages'][_0xb71858(0xd9)]({'id':_0x63d64c,'image':_0xf8a411,'textureUniform':_0x70a254});})['otherwise'](function(){var _0x3c2e6a=_0x5bc488,_0x5cb031=_0x451016[_0x3c2e6a(0xd1)][_0x63d64c];a647_0x4c5482(_0x5cb031)&&_0x5cb031!==_0x451016[_0x3c2e6a(0xde)]&&_0x5cb031['destroy'](),_0x451016['_textures'][_0x63d64c]=_0x451016[_0x3c2e6a(0xde)];});}TextureManager[a647_0x29c11a(0xdb)][a647_0x29c11a(0xc9)]=function(_0x10f931,_0x4c0249){var _0x58b91a=a647_0x29c11a;a647_0x4c5482(_0x4c0249[_0x58b91a(0xc2)])?this['_loadedImages']['push']({'id':_0x10f931,'textureUniform':_0x4c0249}):fetchTexture2D(this,_0x10f931,_0x4c0249);};function createTexture(_0xdbeb05,_0x50f615,_0x419a97){var _0x1de6d8=a647_0x29c11a,_0x3b0ee7=_0x50f615['id'],_0x39a5fd=_0x50f615[_0x1de6d8(0xc4)],_0x5e3b86=_0x39a5fd['typedArray'],_0x45d9d4=_0x39a5fd[_0x1de6d8(0xc7)],_0x5a6aca;a647_0x4c5482(_0x5e3b86)?_0x5a6aca=new a647_0x4bf5ae({'context':_0x419a97,'pixelFormat':_0x39a5fd[_0x1de6d8(0xcf)],'pixelDatatype':_0x39a5fd[_0x1de6d8(0xd7)],'source':{'arrayBufferView':_0x5e3b86,'width':_0x39a5fd[_0x1de6d8(0xce)],'height':_0x39a5fd[_0x1de6d8(0xc1)]},'sampler':_0x45d9d4,'flipY':![]}):_0x5a6aca=new a647_0x4bf5ae({'context':_0x419a97,'source':_0x50f615[_0x1de6d8(0xda)],'sampler':_0x45d9d4});var _0xa31d8f=_0xdbeb05[_0x1de6d8(0xd1)][_0x3b0ee7];a647_0x4c5482(_0xa31d8f)&&_0xa31d8f!==_0x419a97[_0x1de6d8(0xd0)]&&_0xa31d8f[_0x1de6d8(0xd4)](),_0xdbeb05[_0x1de6d8(0xd1)][_0x3b0ee7]=_0x5a6aca;}function a647_0x50ff(){var _0x41ac6b=['fetchImage','7444RybTwZ','width','pixelFormat','defaultTexture','_textures','getTexture','frameNumber','destroy','4170271JNgWIS','12062056bzTtpD','pixelDatatype','934325YZHIlK','push','image','prototype','8050602LqgdBM','3061413dBgCDE','_defaultTexture','update','resource','hasOwnProperty','height','typedArray','2242802WzTkBw','textureUniform','then','length','sampler','_lastUpdatedFrame','loadTexture2D','1480EQQKdy','3YIlTWP'];a647_0x50ff=function(){return _0x41ac6b;};return a647_0x50ff();}TextureManager[a647_0x29c11a(0xdb)][a647_0x29c11a(0xdf)]=function(_0x4936e7){var _0x38e38b=a647_0x29c11a;if(_0x4936e7[_0x38e38b(0xd3)]===this[_0x38e38b(0xc8)])return;this[_0x38e38b(0xc8)]=_0x4936e7[_0x38e38b(0xd3)];var _0x4a97b9=_0x4936e7['context'];this[_0x38e38b(0xde)]=_0x4a97b9['defaultTexture'];var _0x4e68dc=this['_loadedImages'];for(var _0x124e65=0x0;_0x124e65<_0x4e68dc['length'];_0x124e65++){var _0x233942=_0x4e68dc[_0x124e65];createTexture(this,_0x233942,_0x4a97b9);}_0x4e68dc[_0x38e38b(0xc6)]=0x0;},TextureManager['prototype']['isDestroyed']=function(){return![];},TextureManager[a647_0x29c11a(0xdb)][a647_0x29c11a(0xd4)]=function(){var _0x14c24c=a647_0x29c11a,_0x44bfbb=this[_0x14c24c(0xd1)];for(var _0x7d8d7b in _0x44bfbb){if(_0x44bfbb[_0x14c24c(0xe1)](_0x7d8d7b)){var _0x46623e=_0x44bfbb[_0x7d8d7b];_0x46623e!==this[_0x14c24c(0xde)]&&_0x46623e[_0x14c24c(0xd4)]();}}return a647_0x22c79f(this);};