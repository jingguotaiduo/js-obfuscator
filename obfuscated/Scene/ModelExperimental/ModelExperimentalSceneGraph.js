var a637_0x2b7d3b=a637_0x3d67;function a637_0x3d67(_0x4410c8,_0x39523a){var _0x96baef=a637_0x96ba();return a637_0x3d67=function(_0x3d67e1,_0x45a361){_0x3d67e1=_0x3d67e1-0x19a;var _0x4f8450=_0x96baef[_0x3d67e1];return _0x4f8450;},a637_0x3d67(_0x4410c8,_0x39523a);}(function(_0x4051ce,_0x31cc48){var _0x19643e=a637_0x3d67,_0x493df3=_0x4051ce();while(!![]){try{var _0x26f943=parseInt(_0x19643e(0x1bf))/0x1*(parseInt(_0x19643e(0x1b2))/0x2)+-parseInt(_0x19643e(0x1c0))/0x3*(-parseInt(_0x19643e(0x1b9))/0x4)+-parseInt(_0x19643e(0x19b))/0x5+parseInt(_0x19643e(0x1c1))/0x6*(-parseInt(_0x19643e(0x1b3))/0x7)+-parseInt(_0x19643e(0x1a5))/0x8+parseInt(_0x19643e(0x1be))/0x9*(parseInt(_0x19643e(0x19a))/0xa)+-parseInt(_0x19643e(0x1b6))/0xb*(-parseInt(_0x19643e(0x1bc))/0xc);if(_0x26f943===_0x31cc48)break;else _0x493df3['push'](_0x493df3['shift']());}catch(_0x41537e){_0x493df3['push'](_0x493df3['shift']());}}}(a637_0x96ba,0x82cc0));import a637_0x100213 from'./buildDrawCommands.js';import a637_0x2ddfd4 from'../../Core/BoundingSphere.js';import a637_0x74b35 from'../../Core/Check.js';import a637_0xdc0fe1 from'../../Core/defaultValue.js';import a637_0x25b397 from'../../Core/defined.js';import a637_0x52222d from'../../Core/Matrix4.js';import a637_0x31e0ef from'./CustomShaderPipelineStage.js';import a637_0x55e944 from'./LightingPipelineStage.js';import a637_0x35df68 from'./ModelColorPipelineStage.js';import a637_0x7f99e6 from'./ModelExperimentalPrimitive.js';import a637_0x9c3dba from'./ModelExperimentalNode.js';function a637_0x96ba(){var _0x219662=['customShader','pipelineStages','_modelComponents','typeOf','modelMatrix','getNodeTransform','apply','length','2160JEhFKY','3993180pEvCuk','process','children','EMPTY_OBJECT','buildDrawCommands','model','_boundingSpheres','scene','prototype','multiply','8334960otPvJz','boundingSphere','nodes','forwardAxis','_drawCommands','color','indexOf','_runtimeNodes','push','options.modelComponents','primitive','options.model','modelComponents','1635550sRYImu','7IkeLib','_boundingSphere','_model','18022136qJltLi','runtimePrimitives','fromBoundingSpheres','1828mbZCui','primitives','correctModelMatrix','12tTJUNj','object','19449ZoZSbU','1pzNyVo','3348tLwFbn','6340134dNKAAP'];a637_0x96ba=function(){return _0x219662;};return a637_0x96ba();}import a637_0x4dda4d from'./ModelExperimentalUtility.js';import a637_0xab2046 from'./ModelRenderResources.js';import a637_0x490206 from'./NodeRenderResources.js';import a637_0x59db42 from'./PrimitiveRenderResources.js';export default function ModelExperimentalSceneGraph(_0x3c49ca){var _0x1400c5=a637_0x3d67;_0x3c49ca=a637_0xdc0fe1(_0x3c49ca,a637_0xdc0fe1[_0x1400c5(0x19e)]),a637_0x74b35[_0x1400c5(0x1c5)]['object'](_0x1400c5(0x1b0),_0x3c49ca[_0x1400c5(0x1a0)]),a637_0x74b35['typeOf'][_0x1400c5(0x1bd)](_0x1400c5(0x1ae),_0x3c49ca[_0x1400c5(0x1b1)]),this[_0x1400c5(0x1b5)]=_0x3c49ca[_0x1400c5(0x1a0)],this[_0x1400c5(0x1c4)]=_0x3c49ca[_0x1400c5(0x1b1)],this['_pipelineStages']=[],this['_runtimeNodes']=[],this[_0x1400c5(0x1a9)]=[],this[_0x1400c5(0x1b4)]=undefined,this['_boundingSpheres']=[],initialize(this);}function initialize(_0xc0e024){var _0x38794c=a637_0x3d67,_0xd9cbfd=a637_0x52222d['clone'](_0xc0e024['_model'][_0x38794c(0x1c6)]),_0x591114=_0xc0e024[_0x38794c(0x1c4)]['scene'];a637_0x4dda4d[_0x38794c(0x1bb)](_0xd9cbfd,_0x591114['upAxis'],_0x591114[_0x38794c(0x1a8)]);var _0x5c86ab=_0xc0e024['_modelComponents'][_0x38794c(0x1a2)][_0x38794c(0x1a7)];for(var _0x487e36=0x0;_0x487e36<_0x5c86ab[_0x38794c(0x1c9)];_0x487e36++){var _0x311b22=_0xc0e024['_modelComponents'][_0x38794c(0x1a2)][_0x38794c(0x1a7)][_0x487e36],_0x4f1660=a637_0x52222d[_0x38794c(0x1a4)](_0xd9cbfd,a637_0x4dda4d[_0x38794c(0x1c7)](_0x311b22),new a637_0x52222d());traverseSceneGraph(_0xc0e024,_0x311b22,_0x4f1660);}}function traverseSceneGraph(_0x2e827f,_0x40450e,_0x357d33){var _0x1201c3=a637_0x3d67;if(!a637_0x25b397(_0x40450e['children'])&&!a637_0x25b397(_0x40450e[_0x1201c3(0x1ba)]))return;var _0xaf8b07;if(a637_0x25b397(_0x40450e['children']))for(_0xaf8b07=0x0;_0xaf8b07<_0x40450e[_0x1201c3(0x19d)][_0x1201c3(0x1c9)];_0xaf8b07++){var _0x24272b=_0x40450e[_0x1201c3(0x19d)][_0xaf8b07],_0x4e8e30=a637_0x52222d[_0x1201c3(0x1a4)](_0x357d33,a637_0x4dda4d[_0x1201c3(0x1c7)](_0x24272b),new a637_0x52222d());traverseSceneGraph(_0x2e827f,_0x24272b,_0x4e8e30);}var _0x43729f=new a637_0x9c3dba({'node':_0x40450e,'modelMatrix':_0x357d33});if(a637_0x25b397(_0x40450e['primitives']))for(_0xaf8b07=0x0;_0xaf8b07<_0x40450e[_0x1201c3(0x1ba)][_0x1201c3(0x1c9)];_0xaf8b07++){_0x43729f[_0x1201c3(0x1b7)]['push'](new a637_0x7f99e6({'primitive':_0x40450e[_0x1201c3(0x1ba)][_0xaf8b07],'node':_0x40450e,'model':_0x2e827f[_0x1201c3(0x1b5)]}));}_0x2e827f[_0x1201c3(0x1ac)][_0x1201c3(0x1ad)](_0x43729f);}ModelExperimentalSceneGraph[a637_0x2b7d3b(0x1a3)][a637_0x2b7d3b(0x19f)]=function(_0x63a7dd){var _0x5ebf88=a637_0x2b7d3b,_0x35baf3=new a637_0xab2046(this[_0x5ebf88(0x1b5)]),_0x4927db=[],_0x2a05c2=this[_0x5ebf88(0x1b5)];a637_0x25b397(_0x2a05c2[_0x5ebf88(0x1aa)])&&_0x4927db[_0x5ebf88(0x1ad)](a637_0x35df68);var _0x177ac1,_0x4984a3,_0x210be0;for(_0x177ac1=0x0;_0x177ac1<_0x4927db[_0x5ebf88(0x1c9)];_0x177ac1++){var _0x4710f3=_0x4927db[_0x177ac1];_0x4710f3['process'](_0x35baf3,_0x2a05c2,_0x63a7dd);}for(_0x177ac1=0x0;_0x177ac1<this['_runtimeNodes'][_0x5ebf88(0x1c9)];_0x177ac1++){var _0x36fa3c=this[_0x5ebf88(0x1ac)][_0x177ac1],_0x3731c0=new a637_0x490206(_0x35baf3,_0x36fa3c);for(_0x4984a3=0x0;_0x4984a3<_0x36fa3c[_0x5ebf88(0x1c3)][_0x5ebf88(0x1c9)];_0x4984a3++){var _0x47de60=_0x36fa3c[_0x5ebf88(0x1c3)][_0x4984a3];_0x47de60[_0x5ebf88(0x19c)](_0x3731c0,_0x36fa3c['node'],_0x63a7dd);}for(_0x4984a3=0x0;_0x4984a3<_0x36fa3c[_0x5ebf88(0x1b7)][_0x5ebf88(0x1c9)];_0x4984a3++){var _0x1488ce=_0x36fa3c[_0x5ebf88(0x1b7)][_0x4984a3],_0xa2b54c=_0x1488ce[_0x5ebf88(0x1c3)]['slice']();if(a637_0x25b397(_0x2a05c2[_0x5ebf88(0x1c2)])){var _0x88c6ec=_0xa2b54c[_0x5ebf88(0x1ab)](a637_0x55e944);_0xa2b54c['splice'](_0x88c6ec,0x0,a637_0x31e0ef);}var _0x3a34f2=new a637_0x59db42(_0x3731c0,_0x1488ce);for(_0x210be0=0x0;_0x210be0<_0xa2b54c[_0x5ebf88(0x1c9)];_0x210be0++){var _0xc37770=_0xa2b54c[_0x210be0];_0xc37770[_0x5ebf88(0x19c)](_0x3a34f2,_0x1488ce[_0x5ebf88(0x1af)],_0x63a7dd);}this[_0x5ebf88(0x1a1)][_0x5ebf88(0x1ad)](_0x3a34f2[_0x5ebf88(0x1a6)]);var _0x78e69c=a637_0x100213(_0x3a34f2,_0x63a7dd);this[_0x5ebf88(0x1a9)][_0x5ebf88(0x1ad)][_0x5ebf88(0x1c8)](this[_0x5ebf88(0x1a9)],_0x78e69c);}}this['_boundingSphere']=a637_0x2ddfd4[_0x5ebf88(0x1b8)](this[_0x5ebf88(0x1a1)]);};