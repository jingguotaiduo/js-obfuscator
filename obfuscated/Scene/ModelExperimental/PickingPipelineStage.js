var a644_0x499386=a644_0x5825;(function(_0x4a9c8b,_0x3ccdbf){var _0x2996d3=a644_0x5825,_0x1f01c4=_0x4a9c8b();while(!![]){try{var _0x1a9d75=parseInt(_0x2996d3(0x92))/0x1*(-parseInt(_0x2996d3(0xb0))/0x2)+parseInt(_0x2996d3(0xc3))/0x3+parseInt(_0x2996d3(0xc0))/0x4+parseInt(_0x2996d3(0xa5))/0x5+-parseInt(_0x2996d3(0xaf))/0x6*(-parseInt(_0x2996d3(0xa3))/0x7)+parseInt(_0x2996d3(0xc1))/0x8*(parseInt(_0x2996d3(0x8f))/0x9)+-parseInt(_0x2996d3(0x98))/0xa;if(_0x1a9d75===_0x3ccdbf)break;else _0x1f01c4['push'](_0x1f01c4['shift']());}catch(_0x4e70bd){_0x1f01c4['push'](_0x1f01c4['shift']());}}}(a644_0x3bb5,0x38f4f));import a644_0x260ef9 from'../../Renderer/Buffer.js';import a644_0x29d68a from'../../Renderer/BufferUsage.js';import a644_0x4bbd9b from'../../Core/Color.js';import a644_0x195880 from'../../Core/combine.js';import a644_0x4f8832 from'../../Core/ComponentDatatype.js';import a644_0x52e1fd from'../../Core/defaultValue.js';import a644_0x1293ad from'../../Core/defined.js';import a644_0x114614 from'../../Renderer/ShaderDestination.js';var PickingPipelineStage={};PickingPipelineStage[a644_0x499386(0x8b)]=a644_0x499386(0xa2),PickingPipelineStage[a644_0x499386(0x93)]=function(_0x55f668,_0x4893b7,_0x33ec45){var _0x12e76c=a644_0x499386,_0x4982c7=_0x33ec45[_0x12e76c(0xbd)],_0x5cbc4a=_0x55f668['runtimeNode'],_0x37df65=_0x55f668['shaderBuilder'],_0x515a07=_0x55f668[_0x12e76c(0xc2)],_0x584db3=_0x5cbc4a[_0x12e76c(0xba)][_0x12e76c(0xbb)];if(_0x55f668['hasFeatureIds'])processPickTexture(_0x55f668,_0x4893b7,_0x584db3,_0x4982c7);else{if(a644_0x1293ad(_0x584db3))processInstancedPickIds(_0x55f668,_0x584db3,_0x4982c7);else{var _0x1b5942=buildPickObject(_0x55f668),_0x5453b4=_0x4982c7['createPickId'](_0x1b5942);_0x515a07[_0x12e76c(0xa1)][_0x12e76c(0xbf)](_0x5453b4),_0x37df65['addUniform'](_0x12e76c(0xb9),'czm_pickColor',a644_0x114614[_0x12e76c(0xa6)]);var _0x420a3a=_0x55f668[_0x12e76c(0xb2)];_0x420a3a[_0x12e76c(0x9e)]=function(){return _0x5453b4['color'];},_0x55f668['pickId']=_0x12e76c(0x9e);}}};function a644_0x5825(_0x530f5e,_0x974d36){var _0x3bb57e=a644_0x3bb5();return a644_0x5825=function(_0x58252d,_0x5a2703){_0x58252d=_0x58252d-0x8a;var _0x4a61e8=_0x3bb57e[_0x58252d];return _0x4a61e8;},a644_0x5825(_0x530f5e,_0x974d36);}function buildPickObject(_0x971324,_0x1e69f1){var _0x5c494c=a644_0x499386,_0x29797a=_0x971324['model'],_0x1b6c50={'model':_0x29797a,'node':_0x971324[_0x5c494c(0xb4)],'primitive':_0x971324[_0x5c494c(0xa9)]},_0x5d00aa=_0x29797a[_0x5c494c(0xb6)],_0xd51c1c;return a644_0x1293ad(_0x5d00aa)?_0xd51c1c={'content':_0x5d00aa,'primitive':_0x5d00aa[_0x5c494c(0x8d)],'detail':_0x1b6c50}:_0xd51c1c={'primitive':_0x29797a,'detail':_0x1b6c50},a644_0x1293ad(_0x1e69f1)&&(_0xd51c1c['instanceId']=_0x1e69f1),_0xd51c1c;}function processPickTexture(_0x4f9f0e,_0x2ad030,_0x31eb32){var _0x4527a2=a644_0x499386,_0xb46be0=_0x4f9f0e[_0x4527a2(0xc2)],_0x51588e,_0xec074b,_0x2669de=_0xb46be0['featureIdAttributeIndex'];if(a644_0x1293ad(_0xb46be0[_0x4527a2(0x8c)]))_0x51588e=_0xb46be0[_0x4527a2(0x8c)];else{if(a644_0x1293ad(_0x31eb32))_0xec074b=_0x31eb32['featureIdAttributes'][_0x2669de],_0x51588e=_0xec074b[_0x4527a2(0x90)];else{if(_0x2ad030[_0x4527a2(0xae)]['length']>0x0){var _0x3394c9=_0xb46be0[_0x4527a2(0x96)],_0x1b2966=_0x2ad030[_0x4527a2(0xae)][_0x3394c9];_0x51588e=_0x1b2966[_0x4527a2(0x90)];}else _0xec074b=_0x2ad030[_0x4527a2(0xb3)][_0x2669de],_0x51588e=_0xec074b[_0x4527a2(0x90)];}}var _0x536b21=_0xb46be0['featureTables'][_0x51588e],_0x5abb42=_0x4f9f0e[_0x4527a2(0xb1)];_0x5abb42[_0x4527a2(0x9f)](_0x4527a2(0x91),_0x4527a2(0xb5),a644_0x114614[_0x4527a2(0xa6)]);var _0x5e793f=_0x536b21[_0x4527a2(0xb8)],_0x2e4b33={'model_pickTexture':function(){var _0x2286da=_0x4527a2;return a644_0x52e1fd(_0x5e793f[_0x2286da(0x94)],_0x5e793f[_0x2286da(0xac)]);}};_0x4f9f0e['uniformMap']=a644_0x195880(_0x2e4b33,_0x4f9f0e[_0x4527a2(0xb2)]),_0x4f9f0e[_0x4527a2(0xa8)]=_0x4527a2(0xaa);}function processInstancedPickIds(_0x45662d,_0x204e31,_0x5d994c){var _0x3315be=a644_0x499386,_0x3d9d5d=_0x45662d[_0x3315be(0x9b)],_0x17d116=new Array(_0x3d9d5d),_0x553b88=new Uint8Array(_0x3d9d5d*0x4),_0x3369cc=_0x45662d[_0x3315be(0xc2)],_0x204549=_0x3369cc[_0x3315be(0xa1)];for(var _0x3be539=0x0;_0x3be539<_0x3d9d5d;_0x3be539++){var _0x4908fd=buildPickObject(_0x45662d,_0x3be539),_0xe0e9d9=_0x5d994c[_0x3315be(0xb7)](_0x4908fd);_0x204549[_0x3315be(0xbf)](_0xe0e9d9),_0x17d116[_0x3be539]=_0xe0e9d9;var _0x57b20e=_0xe0e9d9[_0x3315be(0x99)];_0x553b88[_0x3be539*0x4+0x0]=a644_0x4bbd9b[_0x3315be(0xad)](_0x57b20e[_0x3315be(0x9d)]),_0x553b88[_0x3be539*0x4+0x1]=a644_0x4bbd9b[_0x3315be(0xad)](_0x57b20e[_0x3315be(0xa7)]),_0x553b88[_0x3be539*0x4+0x2]=a644_0x4bbd9b[_0x3315be(0xad)](_0x57b20e['blue']),_0x553b88[_0x3be539*0x4+0x3]=a644_0x4bbd9b[_0x3315be(0xad)](_0x57b20e[_0x3315be(0xbe)]);}var _0x1010a0=a644_0x260ef9[_0x3315be(0xbc)]({'context':_0x5d994c,'typedArray':_0x553b88,'usage':a644_0x29d68a['STATIC_DRAW']});_0x1010a0[_0x3315be(0x8e)]=![],_0x204549['push'](_0x1010a0);var _0x42fa6f={'index':_0x45662d[_0x3315be(0xa4)]++,'vertexBuffer':_0x1010a0,'componentsPerAttribute':0x4,'componentDatatype':a644_0x4f8832[_0x3315be(0x95)],'normalize':!![],'offsetInBytes':0x0,'strideInBytes':0x0,'instanceDivisor':0x1};_0x45662d[_0x3315be(0x97)][_0x3315be(0xbf)](_0x42fa6f);var _0x263476=_0x45662d[_0x3315be(0xb1)];_0x263476[_0x3315be(0x8a)]('USE_PICKING',undefined,a644_0x114614['BOTH']),_0x263476[_0x3315be(0x9c)](_0x3315be(0xb9),_0x3315be(0xa0)),_0x263476[_0x3315be(0x9a)](_0x3315be(0xb9),_0x3315be(0xab)),_0x45662d[_0x3315be(0xa8)]=_0x3315be(0xab);}function a644_0x3bb5(){var _0x3c1f6d=['attributes','3193940jDssfR','color','addVarying','instanceCount','addAttribute','red','czm_pickColor','addUniform','a_pickColor','_resources','PickingPipelineStage','2818774WBGMMi','attributeIndex','1904100nonyuI','FRAGMENT','green','pickId','runtimePrimitive','((feature.id\x20<\x20int(model_featuresLength))\x20?\x20texture2D(model_pickTexture,\x20feature.st)\x20:\x20vec4(0.0))','v_pickColor','defaultTexture','floatToByte','featureIdTextures','6rzLiZp','832598gvFqWK','shaderBuilder','uniformMap','featureIdAttributes','runtimeNode','model_pickTexture','content','createPickId','batchTexture','vec4','node','instances','createVertexBuffer','context','alpha','push','592400QGlwGR','40hZLmNc','model','45438oejouS','addDefine','name','featureTableId','tileset','vertexArrayDestroyable','40032CmDHAg','propertyTableId','sampler2D','1XrfxIN','process','pickTexture','UNSIGNED_BYTE','featureIdTextureIndex'];a644_0x3bb5=function(){return _0x3c1f6d;};return a644_0x3bb5();}export default PickingPipelineStage;