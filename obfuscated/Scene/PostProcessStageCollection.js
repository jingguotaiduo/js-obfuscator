var a691_0x1e716f=a691_0x4770;(function(_0x10db1a,_0x332707){var _0x47dd40=a691_0x4770,_0x5d5bb5=_0x10db1a();while(!![]){try{var _0x223db6=parseInt(_0x47dd40(0xd8))/0x1*(-parseInt(_0x47dd40(0xe4))/0x2)+parseInt(_0x47dd40(0xe2))/0x3+parseInt(_0x47dd40(0xba))/0x4*(parseInt(_0x47dd40(0xe0))/0x5)+parseInt(_0x47dd40(0xda))/0x6*(parseInt(_0x47dd40(0xb0))/0x7)+parseInt(_0x47dd40(0x99))/0x8*(parseInt(_0x47dd40(0xb2))/0x9)+parseInt(_0x47dd40(0xd6))/0xa*(-parseInt(_0x47dd40(0xd0))/0xb)+-parseInt(_0x47dd40(0xe3))/0xc*(parseInt(_0x47dd40(0xad))/0xd);if(_0x223db6===_0x332707)break;else _0x5d5bb5['push'](_0x5d5bb5['shift']());}catch(_0x59422f){_0x5d5bb5['push'](_0x5d5bb5['shift']());}}}(a691_0x1177,0x18c96));import a691_0x1bf75f from'../Core/arraySlice.js';import a691_0x49f28f from'../Core/Check.js';import a691_0x54660b from'../Core/defined.js';import a691_0x2f4c48 from'../Core/destroyObject.js';import a691_0x39ec5 from'../Core/DeveloperError.js';import a691_0x16e3a0 from'../Core/PixelFormat.js';import a691_0x5d3e29 from'../Renderer/PixelDatatype.js';import a691_0x3b1bcb from'../Renderer/Sampler.js';import a691_0x548b8e from'../Renderer/Texture.js';import a691_0x1a77af from'../Renderer/TextureMagnificationFilter.js';import a691_0x3c0038 from'../Renderer/TextureMinificationFilter.js';import a691_0x2b8e21 from'../Renderer/TextureWrap.js';import a691_0x2161c9 from'../Shaders/PostProcessStages/PassThrough.js';import a691_0x7c0024 from'./PostProcessStageLibrary.js';import a691_0x3e59a7 from'./PostProcessStageTextureCache.js';import a691_0x5dc756 from'./Tonemapper.js';var stackScratch=[];function PostProcessStageCollection(){var _0x4237ab=a691_0x4770,_0x1b4dcc=a691_0x7c0024[_0x4237ab(0x9c)](),_0x530ba6=a691_0x7c0024[_0x4237ab(0xc9)](),_0x48e4a4=a691_0x7c0024[_0x4237ab(0xe5)]();this['_autoExposureEnabled']=![],this['_autoExposure']=a691_0x7c0024[_0x4237ab(0xd5)](),this[_0x4237ab(0xae)]=undefined,this[_0x4237ab(0xa3)]=undefined,this[_0x4237ab(0xc4)]=a691_0x5dc756[_0x4237ab(0x94)];var _0x5c1516=this[_0x4237ab(0xae)];_0x1b4dcc[_0x4237ab(0xab)]=![],_0x530ba6[_0x4237ab(0xab)]=![],_0x48e4a4[_0x4237ab(0xab)]=![],_0x5c1516[_0x4237ab(0xab)]=![];var _0x39b0e3=new a691_0x3e59a7(this),_0x31f7ee={},_0x3de866=stackScratch;_0x3de866['push'](_0x1b4dcc,_0x530ba6,_0x48e4a4,_0x5c1516);while(_0x3de866[_0x4237ab(0xc5)]>0x0){var _0x5d5ea3=_0x3de866[_0x4237ab(0xb7)]();_0x31f7ee[_0x5d5ea3[_0x4237ab(0xa5)]]=_0x5d5ea3,_0x5d5ea3[_0x4237ab(0xe1)]=_0x39b0e3;var _0x4fce11=_0x5d5ea3[_0x4237ab(0xc5)];if(a691_0x54660b(_0x4fce11))for(var _0x435e36=0x0;_0x435e36<_0x4fce11;++_0x435e36){_0x3de866[_0x4237ab(0xde)](_0x5d5ea3[_0x4237ab(0xbc)](_0x435e36));}}this['_stages']=[],this[_0x4237ab(0x9d)]=[],this[_0x4237ab(0xca)]=[],this[_0x4237ab(0x97)]=undefined;var _0x324ba1=this;_0x530ba6[_0x4237ab(0x98)]['randomTexture']=function(){var _0x5b0536=_0x4237ab;return _0x324ba1[_0x5b0536(0x97)];},this[_0x4237ab(0x9f)]=_0x530ba6,this[_0x4237ab(0xa4)]=_0x48e4a4,this['_fxaa']=_0x1b4dcc,this[_0x4237ab(0xa2)]=undefined,this[_0x4237ab(0xc6)]=undefined,this['_tonemappingEnabled']=undefined,this[_0x4237ab(0xbd)]=undefined,this['_activeStagesChanged']=![],this[_0x4237ab(0xb6)]=![],this['_textureCacheDirty']=![],this['_stageNames']=_0x31f7ee,this['_textureCache']=_0x39b0e3;}Object[a691_0x1e716f(0xb5)](PostProcessStageCollection[a691_0x1e716f(0xc3)],{'ready':{'get':function(){var _0x58d456=a691_0x1e716f,_0x58d4af=![],_0xba6dea=this[_0x58d456(0xa0)],_0x15a196=_0xba6dea['length'];for(var _0x1ef377=_0x15a196-0x1;_0x1ef377>=0x0;--_0x1ef377){var _0x595440=_0xba6dea[_0x1ef377];_0x58d4af=_0x58d4af||_0x595440[_0x58d456(0xd1)]&&_0x595440[_0x58d456(0xab)];}var _0x4cb480=this[_0x58d456(0xd4)],_0x28c68c=this[_0x58d456(0x9f)],_0x2c54df=this[_0x58d456(0xa4)],_0x52e4b2=this[_0x58d456(0xae)];return _0x58d4af=_0x58d4af||_0x4cb480[_0x58d456(0xd1)]&&_0x4cb480['enabled'],_0x58d4af=_0x58d4af||_0x28c68c[_0x58d456(0xd1)]&&_0x28c68c[_0x58d456(0xab)],_0x58d4af=_0x58d4af||_0x2c54df[_0x58d456(0xd1)]&&_0x2c54df['enabled'],_0x58d4af=_0x58d4af||_0x52e4b2[_0x58d456(0xd1)]&&_0x52e4b2['enabled'],_0x58d4af;}},'fxaa':{'get':function(){var _0x118928=a691_0x1e716f;return this[_0x118928(0xd4)];}},'ambientOcclusion':{'get':function(){var _0x2a17f1=a691_0x1e716f;return this[_0x2a17f1(0x9f)];}},'bloom':{'get':function(){var _0x27091b=a691_0x1e716f;return this[_0x27091b(0xa4)];}},'length':{'get':function(){var _0x45ce17=a691_0x1e716f;return removeStages(this),this[_0x45ce17(0xa0)][_0x45ce17(0xc5)];}},'outputTexture':{'get':function(){var _0x40c8c3=a691_0x1e716f,_0x54fbc4=this[_0x40c8c3(0xd4)];if(_0x54fbc4['enabled']&&_0x54fbc4[_0x40c8c3(0xd1)])return this[_0x40c8c3(0xc2)](_0x54fbc4['name']);var _0x332faa=this['_stages'],_0xa6f1df=_0x332faa[_0x40c8c3(0xc5)];for(var _0x4babaa=_0xa6f1df-0x1;_0x4babaa>=0x0;--_0x4babaa){var _0x577fd7=_0x332faa[_0x4babaa];if(a691_0x54660b(_0x577fd7)&&_0x577fd7[_0x40c8c3(0xd1)]&&_0x577fd7[_0x40c8c3(0xab)])return this[_0x40c8c3(0xc2)](_0x577fd7['name']);}var _0x757346=this[_0x40c8c3(0xae)];if(_0x757346['enabled']&&_0x757346['ready'])return this[_0x40c8c3(0xc2)](_0x757346[_0x40c8c3(0xa5)]);var _0x4375a9=this[_0x40c8c3(0xa4)];if(_0x4375a9['enabled']&&_0x4375a9[_0x40c8c3(0xd1)])return this[_0x40c8c3(0xc2)](_0x4375a9[_0x40c8c3(0xa5)]);var _0x367494=this[_0x40c8c3(0x9f)];if(_0x367494[_0x40c8c3(0xab)]&&_0x367494[_0x40c8c3(0xd1)])return this[_0x40c8c3(0xc2)](_0x367494[_0x40c8c3(0xa5)]);return undefined;}},'hasSelected':{'get':function(){var _0x5c21ab=a691_0x1e716f,_0x3bbef0=a691_0x1bf75f(this[_0x5c21ab(0xa0)]);while(_0x3bbef0[_0x5c21ab(0xc5)]>0x0){var _0x47d2c0=_0x3bbef0[_0x5c21ab(0xb7)]();if(!a691_0x54660b(_0x47d2c0))continue;if(a691_0x54660b(_0x47d2c0['selected']))return!![];var _0x4d984c=_0x47d2c0[_0x5c21ab(0xc5)];if(a691_0x54660b(_0x4d984c))for(var _0x1412ed=0x0;_0x1412ed<_0x4d984c;++_0x1412ed){_0x3bbef0[_0x5c21ab(0xde)](_0x47d2c0[_0x5c21ab(0xbc)](_0x1412ed));}}return![];}},'tonemapper':{'get':function(){var _0x57f860=a691_0x1e716f;return this[_0x57f860(0xa3)];},'set':function(_0x28c064){var _0x5b2d7a=a691_0x1e716f;if(this[_0x5b2d7a(0xa3)]===_0x28c064)return;if(!a691_0x5dc756['validate'](_0x28c064))throw new a691_0x39ec5(_0x5b2d7a(0xb1));a691_0x54660b(this[_0x5b2d7a(0xae)])&&(delete this[_0x5b2d7a(0xb4)][this[_0x5b2d7a(0xae)][_0x5b2d7a(0xa5)]],this[_0x5b2d7a(0xae)][_0x5b2d7a(0xd9)]());var _0xc19efc=this[_0x5b2d7a(0xaa)],_0x2da5fe;switch(_0x28c064){case a691_0x5dc756[_0x5b2d7a(0xcb)]:_0x2da5fe=a691_0x7c0024[_0x5b2d7a(0xcc)](_0xc19efc);break;case a691_0x5dc756['MODIFIED_REINHARD']:_0x2da5fe=a691_0x7c0024[_0x5b2d7a(0xdb)](_0xc19efc);break;case a691_0x5dc756[_0x5b2d7a(0xd2)]:_0x2da5fe=a691_0x7c0024[_0x5b2d7a(0xdf)](_0xc19efc);break;default:_0x2da5fe=a691_0x7c0024['createAcesTonemappingStage'](_0xc19efc);break;}if(_0xc19efc){var _0x474d3f=this[_0x5b2d7a(0xe7)];_0x2da5fe[_0x5b2d7a(0x98)]['autoExposure']=function(){var _0xd0f880=_0x5b2d7a;return _0x474d3f[_0xd0f880(0x9a)];};}this['_tonemapper']=_0x28c064,this['_tonemapping']=_0x2da5fe,a691_0x54660b(this[_0x5b2d7a(0xb4)])&&(this[_0x5b2d7a(0xb4)][_0x2da5fe[_0x5b2d7a(0xa5)]]=_0x2da5fe,_0x2da5fe[_0x5b2d7a(0xe1)]=this[_0x5b2d7a(0xe1)]),this[_0x5b2d7a(0xac)]=!![];}}});function removeStages(_0x267636){var _0x4fb0a9=a691_0x1e716f;if(!_0x267636['_stagesRemoved'])return;_0x267636[_0x4fb0a9(0xb6)]=![];var _0x4ca825=[],_0x511bd2=_0x267636[_0x4fb0a9(0xa0)],_0x1d8b28=_0x511bd2[_0x4fb0a9(0xc5)];for(var _0x32081a=0x0,_0x363e0d=0x0;_0x32081a<_0x1d8b28;++_0x32081a){var _0x4e3d9=_0x511bd2[_0x32081a];_0x4e3d9&&(_0x4e3d9['_index']=_0x363e0d++,_0x4ca825[_0x4fb0a9(0xde)](_0x4e3d9));}_0x267636[_0x4fb0a9(0xa0)]=_0x4ca825;}PostProcessStageCollection[a691_0x1e716f(0xc3)][a691_0x1e716f(0xdc)]=function(_0x3cb207){var _0x5ed86c=a691_0x1e716f;a691_0x49f28f[_0x5ed86c(0xcf)][_0x5ed86c(0xe6)](_0x5ed86c(0x9e),_0x3cb207);var _0x2bf045=this[_0x5ed86c(0xb4)],_0x730ca=stackScratch;_0x730ca[_0x5ed86c(0xde)](_0x3cb207);while(_0x730ca['length']>0x0){var _0x14bf4c=_0x730ca[_0x5ed86c(0xb7)]();if(a691_0x54660b(_0x2bf045[_0x14bf4c[_0x5ed86c(0xa5)]]))throw new a691_0x39ec5(_0x14bf4c[_0x5ed86c(0xa5)]+_0x5ed86c(0xc0));_0x2bf045[_0x14bf4c[_0x5ed86c(0xa5)]]=_0x14bf4c,_0x14bf4c[_0x5ed86c(0xe1)]=this[_0x5ed86c(0xe1)];var _0x3133a6=_0x14bf4c[_0x5ed86c(0xc5)];if(a691_0x54660b(_0x3133a6))for(var _0x3ec3c0=0x0;_0x3ec3c0<_0x3133a6;++_0x3ec3c0){_0x730ca[_0x5ed86c(0xde)](_0x14bf4c[_0x5ed86c(0xbc)](_0x3ec3c0));}}var _0x36ff63=this[_0x5ed86c(0xa0)];return _0x3cb207[_0x5ed86c(0xdd)]=_0x36ff63['length'],_0x36ff63[_0x5ed86c(0xde)](_0x3cb207),this[_0x5ed86c(0xac)]=!![],_0x3cb207;},PostProcessStageCollection[a691_0x1e716f(0xc3)][a691_0x1e716f(0xbb)]=function(_0x4a5e50){var _0x19cf41=a691_0x1e716f;if(!this[_0x19cf41(0xb3)](_0x4a5e50))return![];var _0x129e52=this['_stageNames'],_0x1649f0=stackScratch;_0x1649f0[_0x19cf41(0xde)](_0x4a5e50);while(_0x1649f0[_0x19cf41(0xc5)]>0x0){var _0x2ecadd=_0x1649f0[_0x19cf41(0xb7)]();delete _0x129e52[_0x2ecadd['name']];var _0x4834fa=_0x2ecadd['length'];if(a691_0x54660b(_0x4834fa))for(var _0x397fbf=0x0;_0x397fbf<_0x4834fa;++_0x397fbf){_0x1649f0[_0x19cf41(0xde)](_0x2ecadd[_0x19cf41(0xbc)](_0x397fbf));}}return this['_stages'][_0x4a5e50[_0x19cf41(0xdd)]]=undefined,this[_0x19cf41(0xb6)]=!![],this[_0x19cf41(0xac)]=!![],_0x4a5e50[_0x19cf41(0xdd)]=undefined,_0x4a5e50['_textureCache']=undefined,_0x4a5e50[_0x19cf41(0xd9)](),!![];},PostProcessStageCollection[a691_0x1e716f(0xc3)]['contains']=function(_0xa5cdf2){var _0xbc083c=a691_0x1e716f;return a691_0x54660b(_0xa5cdf2)&&a691_0x54660b(_0xa5cdf2[_0xbc083c(0xdd)])&&_0xa5cdf2['_textureCache']===this['_textureCache'];},PostProcessStageCollection['prototype'][a691_0x1e716f(0xbc)]=function(_0x3daa4d){var _0x1d7f29=a691_0x1e716f;removeStages(this);var _0x13d42e=this[_0x1d7f29(0xa0)],_0xd6432=_0x13d42e[_0x1d7f29(0xc5)];return a691_0x49f28f['typeOf'][_0x1d7f29(0xd7)][_0x1d7f29(0xb9)]('stages\x20length',_0xd6432,0x0),a691_0x49f28f[_0x1d7f29(0xcf)][_0x1d7f29(0xd7)][_0x1d7f29(0xb9)]('index',_0x3daa4d,0x0),a691_0x49f28f[_0x1d7f29(0xcf)][_0x1d7f29(0xd7)][_0x1d7f29(0x93)](_0x1d7f29(0xa6),_0x3daa4d,_0xd6432),_0x13d42e[_0x3daa4d];},PostProcessStageCollection[a691_0x1e716f(0xc3)][a691_0x1e716f(0xcd)]=function(){var _0x3ca59a=a691_0x1e716f,_0x10b335=this[_0x3ca59a(0xa0)],_0x308b9a=_0x10b335[_0x3ca59a(0xc5)];for(var _0x5d9462=0x0;_0x5d9462<_0x308b9a;++_0x5d9462){this[_0x3ca59a(0xbb)](_0x10b335[_0x5d9462]);}_0x10b335[_0x3ca59a(0xc5)]=0x0;},PostProcessStageCollection[a691_0x1e716f(0xc3)][a691_0x1e716f(0xce)]=function(_0x59e658){var _0x3fd076=a691_0x1e716f;return this[_0x3fd076(0xb4)][_0x59e658];},PostProcessStageCollection[a691_0x1e716f(0xc3)]['update']=function(_0x1a4301,_0x31d070,_0x4fb4f2){var _0x45b242=a691_0x1e716f;removeStages(this);var _0x5cceb1=this[_0x45b242(0x9d)],_0x4e577d=this[_0x45b242(0x9d)]=this[_0x45b242(0xca)];this[_0x45b242(0xca)]=_0x5cceb1;var _0x4898f2=this[_0x45b242(0xa0)],_0x21de8d=_0x4e577d['length']=_0x4898f2[_0x45b242(0xc5)],_0x5634ce,_0x21605c,_0x1c9fa8=0x0;for(_0x5634ce=0x0;_0x5634ce<_0x21de8d;++_0x5634ce){_0x21605c=_0x4898f2[_0x5634ce],_0x21605c['ready']&&_0x21605c['enabled']&&_0x21605c[_0x45b242(0x96)](_0x1a4301)&&(_0x4e577d[_0x1c9fa8++]=_0x21605c);}_0x4e577d['length']=_0x1c9fa8;var _0x372ebc=_0x1c9fa8!==_0x5cceb1[_0x45b242(0xc5)];if(!_0x372ebc)for(_0x5634ce=0x0;_0x5634ce<_0x1c9fa8;++_0x5634ce){if(_0x4e577d[_0x5634ce]!==_0x5cceb1[_0x5634ce]){_0x372ebc=!![];break;}}var _0x1d38dd=this[_0x45b242(0x9f)],_0x2f2f07=this[_0x45b242(0xa4)],_0x5cb137=this['_autoExposure'],_0x1fd201=this[_0x45b242(0xae)],_0x37630d=this[_0x45b242(0xd4)];_0x1fd201[_0x45b242(0xab)]=_0x4fb4f2;var _0x4d2050=_0x1d38dd[_0x45b242(0xab)]&&_0x1d38dd[_0x45b242(0x96)](_0x1a4301),_0xa04c70=_0x2f2f07['enabled']&&_0x2f2f07[_0x45b242(0x96)](_0x1a4301),_0x48cc4a=_0x1fd201['enabled']&&_0x1fd201[_0x45b242(0x96)](_0x1a4301),_0x507894=_0x37630d[_0x45b242(0xab)]&&_0x37630d[_0x45b242(0x96)](_0x1a4301);(_0x372ebc||this['_textureCacheDirty']||_0x4d2050!==this[_0x45b242(0xa2)]||_0xa04c70!==this['_bloomEnabled']||_0x48cc4a!==this[_0x45b242(0xbe)]||_0x507894!==this[_0x45b242(0xbd)])&&(this[_0x45b242(0xe1)]['updateDependencies'](),this['_aoEnabled']=_0x4d2050,this[_0x45b242(0xc6)]=_0xa04c70,this[_0x45b242(0xbe)]=_0x48cc4a,this[_0x45b242(0xbd)]=_0x507894,this[_0x45b242(0xac)]=![]);a691_0x54660b(this[_0x45b242(0x97)])&&!_0x4d2050&&(this['_randomTexture']['destroy'](),this[_0x45b242(0x97)]=undefined);if(!a691_0x54660b(this[_0x45b242(0x97)])&&_0x4d2050){_0x21de8d=0x100*0x100*0x3;var _0x87f68b=new Uint8Array(_0x21de8d);for(_0x5634ce=0x0;_0x5634ce<_0x21de8d;_0x5634ce+=0x3){_0x87f68b[_0x5634ce]=Math[_0x45b242(0xaf)](Math[_0x45b242(0xa1)]()*0xff);}this[_0x45b242(0x97)]=new a691_0x548b8e({'context':_0x1a4301,'pixelFormat':a691_0x16e3a0[_0x45b242(0xc7)],'pixelDatatype':a691_0x5d3e29[_0x45b242(0xc1)],'source':{'arrayBufferView':_0x87f68b,'width':0x100,'height':0x100},'sampler':new a691_0x3b1bcb({'wrapS':a691_0x2b8e21[_0x45b242(0xa8)],'wrapT':a691_0x2b8e21['REPEAT'],'minificationFilter':a691_0x3c0038[_0x45b242(0xa9)],'magnificationFilter':a691_0x1a77af[_0x45b242(0xa9)]})});}this[_0x45b242(0xe1)][_0x45b242(0x9b)](_0x1a4301),_0x37630d[_0x45b242(0x9b)](_0x1a4301,_0x31d070),_0x1d38dd[_0x45b242(0x9b)](_0x1a4301,_0x31d070),_0x2f2f07[_0x45b242(0x9b)](_0x1a4301,_0x31d070),_0x1fd201[_0x45b242(0x9b)](_0x1a4301,_0x31d070);this[_0x45b242(0xaa)]&&_0x5cb137['update'](_0x1a4301,_0x31d070);_0x21de8d=_0x4898f2[_0x45b242(0xc5)];for(_0x5634ce=0x0;_0x5634ce<_0x21de8d;++_0x5634ce){_0x4898f2[_0x5634ce][_0x45b242(0x9b)](_0x1a4301,_0x31d070);}_0x1c9fa8=0x0;for(_0x5634ce=0x0;_0x5634ce<_0x21de8d;++_0x5634ce){_0x21605c=_0x4898f2[_0x5634ce],_0x21605c[_0x45b242(0xd1)]&&_0x21605c[_0x45b242(0xab)]&&_0x21605c[_0x45b242(0x96)](_0x1a4301)&&_0x1c9fa8++;}_0x372ebc=_0x1c9fa8!==_0x4e577d[_0x45b242(0xc5)],_0x372ebc&&this[_0x45b242(0x9b)](_0x1a4301,_0x31d070,_0x4fb4f2);},PostProcessStageCollection['prototype'][a691_0x1e716f(0x92)]=function(_0x3d28a3){var _0x275b3c=a691_0x1e716f;this[_0x275b3c(0xe1)][_0x275b3c(0x92)](_0x3d28a3),this[_0x275b3c(0xaa)]&&this['_autoExposure']['clear'](_0x3d28a3);};function a691_0x4770(_0x341004,_0x101c04){var _0x1177fb=a691_0x1177();return a691_0x4770=function(_0x47707b,_0x3aa889){_0x47707b=_0x47707b-0x91;var _0x334ae1=_0x1177fb[_0x47707b];return _0x334ae1;},a691_0x4770(_0x341004,_0x101c04);}function getOutputTexture(_0x4f988b){var _0x1fc21f=a691_0x1e716f;while(a691_0x54660b(_0x4f988b[_0x1fc21f(0xc5)])){_0x4f988b=_0x4f988b[_0x1fc21f(0xbc)](_0x4f988b[_0x1fc21f(0xc5)]-0x1);}return _0x4f988b[_0x1fc21f(0x9a)];}PostProcessStageCollection[a691_0x1e716f(0xc3)][a691_0x1e716f(0xc2)]=function(_0x3b20ce){var _0x451cbe=a691_0x1e716f,_0x2b7844=this[_0x451cbe(0xce)](_0x3b20ce);if(!a691_0x54660b(_0x2b7844))return undefined;return getOutputTexture(_0x2b7844);};function a691_0x1177(){var _0x1eb3f8=['push','createFilmicTonemappingStage','470bwNUXM','_textureCache','562389dwcPwJ','12rRRnYD','167038mnIsBN','createBloomStage','object','_autoExposure','createViewportQuadCommand','clear','lessThan','ACES','execute','_isSupported','_randomTexture','uniforms','539080KqIihe','outputTexture','update','createFXAAStage','_activeStages','stage','_ao','_stages','random','_aoEnabled','_tonemapper','_bloom','name','index','copy','REPEAT','NEAREST','_autoExposureEnabled','enabled','_textureCacheDirty','4234243Pjfrkn','_tonemapping','floor','65576XAACwa','tonemapper\x20was\x20set\x20to\x20an\x20invalid\x20value.','18LZdbQT','contains','_stageNames','defineProperties','_stagesRemoved','pop','_copyColorCommand','greaterThanOrEquals','7564FgdGiq','remove','get','_fxaaEnabled','_tonemappingEnabled','isDestroyed','\x20has\x20already\x20been\x20added\x20to\x20the\x20collection\x20or\x20does\x20not\x20have\x20a\x20unique\x20name.','UNSIGNED_BYTE','getOutputTexture','prototype','tonemapper','length','_bloomEnabled','RGB','framebuffer','createAmbientOcclusionStage','_previousActiveStages','REINHARD','createReinhardTonemappingStage','removeAll','getStageByName','typeOf','253LlLtCb','ready','FILMIC','inputPreviousStageTexture','_fxaa','createAutoExposureStage','11610yCQtmj','number','1AyfqZY','destroy','24fUQnNw','createModifiedReinhardTonemappingStage','add','_index'];a691_0x1177=function(){return _0x1eb3f8;};return a691_0x1177();}function execute(_0x5da816,_0x446053,_0x13afee,_0x316553,_0x1079cf){var _0x53d814=a691_0x1e716f;if(a691_0x54660b(_0x5da816[_0x53d814(0x95)])){_0x5da816[_0x53d814(0x95)](_0x446053,_0x13afee,_0x316553,_0x1079cf);return;}var _0x1e9175=_0x5da816[_0x53d814(0xc5)],_0x1adfbb;if(_0x5da816[_0x53d814(0xd3)]){execute(_0x5da816[_0x53d814(0xbc)](0x0),_0x446053,_0x13afee,_0x316553,_0x1079cf);for(_0x1adfbb=0x1;_0x1adfbb<_0x1e9175;++_0x1adfbb){execute(_0x5da816[_0x53d814(0xbc)](_0x1adfbb),_0x446053,getOutputTexture(_0x5da816[_0x53d814(0xbc)](_0x1adfbb-0x1)),_0x316553,_0x1079cf);}}else for(_0x1adfbb=0x0;_0x1adfbb<_0x1e9175;++_0x1adfbb){execute(_0x5da816[_0x53d814(0xbc)](_0x1adfbb),_0x446053,_0x13afee,_0x316553,_0x1079cf);}}PostProcessStageCollection[a691_0x1e716f(0xc3)][a691_0x1e716f(0x95)]=function(_0x1047e4,_0x20664d,_0x4d218d,_0x351aa3){var _0x5f0481=a691_0x1e716f,_0x360cdf=this['_activeStages'],_0x56b863=_0x360cdf['length'],_0x3210ca=this[_0x5f0481(0xd4)],_0x599624=this[_0x5f0481(0x9f)],_0x16d453=this[_0x5f0481(0xa4)],_0x4cb5bc=this['_autoExposure'],_0x5b9161=this['_tonemapping'],_0x5862e0=_0x599624['enabled']&&_0x599624[_0x5f0481(0x96)](_0x1047e4),_0xe1fd43=_0x16d453['enabled']&&_0x16d453[_0x5f0481(0x96)](_0x1047e4),_0x3fb431=this[_0x5f0481(0xaa)],_0x4f1bb0=_0x5b9161['enabled']&&_0x5b9161[_0x5f0481(0x96)](_0x1047e4),_0x43a641=_0x3210ca[_0x5f0481(0xab)]&&_0x3210ca[_0x5f0481(0x96)](_0x1047e4);if(!_0x43a641&&!_0x5862e0&&!_0xe1fd43&&!_0x4f1bb0&&_0x56b863===0x0)return;var _0x36eb86=_0x20664d;_0x5862e0&&_0x599624['ready']&&(execute(_0x599624,_0x1047e4,_0x36eb86,_0x4d218d,_0x351aa3),_0x36eb86=getOutputTexture(_0x599624));_0xe1fd43&&_0x16d453[_0x5f0481(0xd1)]&&(execute(_0x16d453,_0x1047e4,_0x36eb86,_0x4d218d,_0x351aa3),_0x36eb86=getOutputTexture(_0x16d453));_0x3fb431&&_0x4cb5bc[_0x5f0481(0xd1)]&&execute(_0x4cb5bc,_0x1047e4,_0x36eb86,_0x4d218d,_0x351aa3);_0x4f1bb0&&_0x5b9161['ready']&&(execute(_0x5b9161,_0x1047e4,_0x36eb86,_0x4d218d,_0x351aa3),_0x36eb86=getOutputTexture(_0x5b9161));var _0x2b215e=_0x36eb86;if(_0x56b863>0x0){execute(_0x360cdf[0x0],_0x1047e4,_0x36eb86,_0x4d218d,_0x351aa3);for(var _0x14a5ea=0x1;_0x14a5ea<_0x56b863;++_0x14a5ea){execute(_0x360cdf[_0x14a5ea],_0x1047e4,getOutputTexture(_0x360cdf[_0x14a5ea-0x1]),_0x4d218d,_0x351aa3);}_0x2b215e=getOutputTexture(_0x360cdf[_0x56b863-0x1]);}_0x43a641&&_0x3210ca['ready']&&execute(_0x3210ca,_0x1047e4,_0x2b215e,_0x4d218d,_0x351aa3);},PostProcessStageCollection[a691_0x1e716f(0xc3)][a691_0x1e716f(0xa7)]=function(_0x56bf09,_0x1dc521){var _0x2d049c=a691_0x1e716f;if(!a691_0x54660b(this[_0x2d049c(0xb8)])){var _0x454f74=this;this[_0x2d049c(0xb8)]=_0x56bf09[_0x2d049c(0x91)](a691_0x2161c9,{'uniformMap':{'colorTexture':function(){var _0x3631a1=_0x2d049c;return _0x454f74[_0x3631a1(0x9a)];}},'owner':this});}this[_0x2d049c(0xb8)][_0x2d049c(0xc8)]=_0x1dc521,this[_0x2d049c(0xb8)][_0x2d049c(0x95)](_0x56bf09);},PostProcessStageCollection[a691_0x1e716f(0xc3)][a691_0x1e716f(0xbf)]=function(){return![];},PostProcessStageCollection[a691_0x1e716f(0xc3)][a691_0x1e716f(0xd9)]=function(){var _0x5dd0af=a691_0x1e716f;return this['_fxaa'][_0x5dd0af(0xd9)](),this[_0x5dd0af(0x9f)][_0x5dd0af(0xd9)](),this[_0x5dd0af(0xa4)]['destroy'](),this[_0x5dd0af(0xe7)][_0x5dd0af(0xd9)](),this[_0x5dd0af(0xae)][_0x5dd0af(0xd9)](),this[_0x5dd0af(0xcd)](),this['_textureCache']=this[_0x5dd0af(0xe1)]&&this[_0x5dd0af(0xe1)][_0x5dd0af(0xd9)](),a691_0x2f4c48(this);};export default PostProcessStageCollection;