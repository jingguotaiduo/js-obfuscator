var a676_0x4b82c7=a676_0x12b6;(function(_0x5d210f,_0x4eee58){var _0x26660b=a676_0x12b6,_0xe9a220=_0x5d210f();while(!![]){try{var _0x26c831=parseInt(_0x26660b(0x1ea))/0x1+parseInt(_0x26660b(0x1f2))/0x2*(parseInt(_0x26660b(0x1da))/0x3)+-parseInt(_0x26660b(0x1f6))/0x4+-parseInt(_0x26660b(0x1e2))/0x5*(-parseInt(_0x26660b(0x1f0))/0x6)+-parseInt(_0x26660b(0x1dc))/0x7+parseInt(_0x26660b(0x1ef))/0x8+parseInt(_0x26660b(0x1eb))/0x9;if(_0x26c831===_0x4eee58)break;else _0xe9a220['push'](_0xe9a220['shift']());}catch(_0xaa6d29){_0xe9a220['push'](_0xe9a220['shift']());}}}(a676_0x395a,0x2a80e));import a676_0x30365d from'../Core/Cartesian4.js';import a676_0xa75b4c from'../Core/defined.js';import a676_0x14da17 from'../Core/destroyObject.js';import a676_0x1209d5 from'../Core/PixelFormat.js';import a676_0x1f7e39 from'../Renderer/Framebuffer.js';import a676_0x567fb1 from'../Renderer/PixelDatatype.js';import a676_0x16b66f from'../Renderer/RenderState.js';import a676_0x218c29 from'../Renderer/Texture.js';function PickDepth(){var _0x52218a=a676_0x12b6;this['_framebuffer']=undefined,this[_0x52218a(0x1e1)]=undefined,this[_0x52218a(0x1de)]=undefined,this['_copyDepthCommand']=undefined;}function a676_0x395a(){var _0x33e1de=['427888oiXOHZ','9954ujtUFn','shaderProgram','62dKhPmL','UNSIGNED_BYTE','_copyDepthCommand','execute','418648FwxrAl','destroy','1287EbFaFH','varying\x20vec2\x20v_textureCoordinates;\x0a','628005ocaMOW','RGBA','_textureToCopy','createViewportQuadCommand','void\x20main()\x0a','_depthTexture','210LtzBey','height','fromCache','width','framebuffer','_framebuffer','readPixels','getDepth','175810iixuaz','505782BUPcTO','isDestroyed','dot','prototype'];a676_0x395a=function(){return _0x33e1de;};return a676_0x395a();}function destroyTextures(_0xaed91){var _0x1e57f2=a676_0x12b6;_0xaed91['_depthTexture']=_0xaed91[_0x1e57f2(0x1e1)]&&!_0xaed91[_0x1e57f2(0x1e1)]['isDestroyed']()&&_0xaed91[_0x1e57f2(0x1e1)][_0x1e57f2(0x1f7)]();}function a676_0x12b6(_0x4e65a1,_0x589b4f){var _0x395a0a=a676_0x395a();return a676_0x12b6=function(_0x12b625,_0x4b2416){_0x12b625=_0x12b625-0x1da;var _0x46b523=_0x395a0a[_0x12b625];return _0x46b523;},a676_0x12b6(_0x4e65a1,_0x589b4f);}function destroyFramebuffers(_0x13b45b){var _0x48ac44=a676_0x12b6;_0x13b45b[_0x48ac44(0x1e7)]=_0x13b45b[_0x48ac44(0x1e7)]&&!_0x13b45b[_0x48ac44(0x1e7)][_0x48ac44(0x1ec)]()&&_0x13b45b[_0x48ac44(0x1e7)][_0x48ac44(0x1f7)]();}function createTextures(_0x19a16c,_0x37cf04,_0x5bf62b,_0x91bb68){var _0xb2bc40=a676_0x12b6;_0x19a16c[_0xb2bc40(0x1e1)]=new a676_0x218c29({'context':_0x37cf04,'width':_0x5bf62b,'height':_0x91bb68,'pixelFormat':a676_0x1209d5[_0xb2bc40(0x1dd)],'pixelDatatype':a676_0x567fb1[_0xb2bc40(0x1f3)]});}function createFramebuffers(_0x181d06,_0x3e6f41,_0x11a1ed,_0x4a46dd){var _0x12c95a=a676_0x12b6;destroyTextures(_0x181d06),destroyFramebuffers(_0x181d06),createTextures(_0x181d06,_0x3e6f41,_0x11a1ed,_0x4a46dd),_0x181d06[_0x12c95a(0x1e7)]=new a676_0x1f7e39({'context':_0x3e6f41,'colorTextures':[_0x181d06[_0x12c95a(0x1e1)]],'destroyAttachments':![]});}function updateFramebuffers(_0x3cee59,_0x584d34,_0x3236f7){var _0x159954=a676_0x12b6,_0x3d6ef5=_0x3236f7[_0x159954(0x1e5)],_0x4d9b61=_0x3236f7['height'],_0x38739c=_0x3cee59[_0x159954(0x1e1)],_0x115a0b=!a676_0xa75b4c(_0x38739c)||_0x38739c[_0x159954(0x1e5)]!==_0x3d6ef5||_0x38739c[_0x159954(0x1e3)]!==_0x4d9b61;(!a676_0xa75b4c(_0x3cee59[_0x159954(0x1e7)])||_0x115a0b)&&createFramebuffers(_0x3cee59,_0x584d34,_0x3d6ef5,_0x4d9b61);}function updateCopyCommands(_0x476331,_0xd3a8e6,_0x24a6af){var _0x44ed7d=a676_0x12b6;if(!a676_0xa75b4c(_0x476331[_0x44ed7d(0x1f4)])){var _0x1ff7dc='uniform\x20highp\x20sampler2D\x20u_texture;\x0a'+_0x44ed7d(0x1db)+_0x44ed7d(0x1e0)+'{\x0a'+'\x20\x20\x20\x20gl_FragColor\x20=\x20czm_packDepth(texture2D(u_texture,\x20v_textureCoordinates).r);\x0a'+'}\x0a';_0x476331[_0x44ed7d(0x1f4)]=_0xd3a8e6[_0x44ed7d(0x1df)](_0x1ff7dc,{'renderState':a676_0x16b66f[_0x44ed7d(0x1e4)](),'uniformMap':{'u_texture':function(){var _0x3ae798=_0x44ed7d;return _0x476331[_0x3ae798(0x1de)];}},'owner':_0x476331});}_0x476331[_0x44ed7d(0x1de)]=_0x24a6af,_0x476331[_0x44ed7d(0x1f4)][_0x44ed7d(0x1e6)]=_0x476331[_0x44ed7d(0x1e7)];}PickDepth['prototype']['update']=function(_0x2eb132,_0x46ee8c){updateFramebuffers(this,_0x2eb132,_0x46ee8c),updateCopyCommands(this,_0x2eb132,_0x46ee8c);};var scratchPackedDepth=new a676_0x30365d(),packedDepthScale=new a676_0x30365d(0x1,0x1/0xff,0x1/0xfe01,0x1/0xfd02ff);PickDepth['prototype'][a676_0x4b82c7(0x1e9)]=function(_0x2e48db,_0x16d2c9,_0xe2ba89){var _0x30843d=a676_0x4b82c7;if(!a676_0xa75b4c(this[_0x30843d(0x1e7)]))return undefined;var _0x1bda76=_0x2e48db[_0x30843d(0x1e8)]({'x':_0x16d2c9,'y':_0xe2ba89,'width':0x1,'height':0x1,'framebuffer':this['_framebuffer']}),_0x1b8046=a676_0x30365d['unpack'](_0x1bda76,0x0,scratchPackedDepth);return a676_0x30365d['divideByScalar'](_0x1b8046,0xff,_0x1b8046),a676_0x30365d[_0x30843d(0x1ed)](_0x1b8046,packedDepthScale);},PickDepth[a676_0x4b82c7(0x1ee)]['executeCopyDepth']=function(_0x1fd068,_0xd9d95d){var _0x52c5a9=a676_0x4b82c7;this[_0x52c5a9(0x1f4)][_0x52c5a9(0x1f5)](_0x1fd068,_0xd9d95d);},PickDepth[a676_0x4b82c7(0x1ee)][a676_0x4b82c7(0x1ec)]=function(){return![];},PickDepth[a676_0x4b82c7(0x1ee)][a676_0x4b82c7(0x1f7)]=function(){var _0x40679f=a676_0x4b82c7;return destroyTextures(this),destroyFramebuffers(this),a676_0xa75b4c(this[_0x40679f(0x1f4)])&&(this[_0x40679f(0x1f4)][_0x40679f(0x1f1)]=a676_0xa75b4c(this[_0x40679f(0x1f4)]['shaderProgram'])&&this[_0x40679f(0x1f4)][_0x40679f(0x1f1)]['destroy']()),a676_0x14da17(this);};export default PickDepth;