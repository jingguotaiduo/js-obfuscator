var a666_0x2ff461=a666_0x2b03;(function(_0x4f3f4f,_0x4513e5){var _0x677276=a666_0x2b03,_0x3b3e4a=_0x4f3f4f();while(!![]){try{var _0x7da238=parseInt(_0x677276(0xd2))/0x1*(parseInt(_0x677276(0xfc))/0x2)+parseInt(_0x677276(0xfb))/0x3+parseInt(_0x677276(0xd3))/0x4+parseInt(_0x677276(0xe5))/0x5+-parseInt(_0x677276(0xed))/0x6*(-parseInt(_0x677276(0xec))/0x7)+-parseInt(_0x677276(0xe1))/0x8*(-parseInt(_0x677276(0xd8))/0x9)+-parseInt(_0x677276(0xda))/0xa*(parseInt(_0x677276(0xe6))/0xb);if(_0x7da238===_0x4513e5)break;else _0x3b3e4a['push'](_0x3b3e4a['shift']());}catch(_0x39cb43){_0x3b3e4a['push'](_0x3b3e4a['shift']());}}}(a666_0x5492,0x307ef));import a666_0x460024 from'../Core/Check.js';import a666_0x18b418 from'../Core/defined.js';import a666_0x549091 from'../Core/deprecationWarning.js';import a666_0x4c0c1a from'../Core/RuntimeError.js';import a666_0x217f3b from'./BatchTableHierarchy.js';import a666_0x2e2edc from'./FeatureMetadata.js';import a666_0x13b4f9 from'./PropertyTable.js';function a666_0x2b03(_0x4a1715,_0x1232c0){var _0x5492ce=a666_0x5492();return a666_0x2b03=function(_0x2b03ca,_0x28e611){_0x2b03ca=_0x2b03ca-0xc6;var _0x3528e8=_0x5492ce[_0x2b03ca];return _0x3528e8;},a666_0x2b03(_0x4a1715,_0x1232c0);}import a666_0x27e901 from'./getBinaryAccessor.js';import a666_0x598996 from'./JsonMetadataTable.js';function a666_0x5492(){var _0xf5c147=['1572236JhstjC','_deprecationWarning','Property\x20','transcodedSchema','UNSIGNED_INT','1426761myjVcQ','extras','10zBglys','UNSIGNED_SHORT','INT','createArrayBufferView','batchTableHierarchyExtension','isArray','HIERARCHY','8PdYjoP','hasOwnProperty','FLOAT','jsonProperties','65740FBEOxj','10270799FKYYwv','componentType','binaryProperties','SINGLE','FLOAT32','typeOf','56399lGVhsj','150fQkqte','classes','properties','DOUBLE','SCALAR','UINT32','count','options.batchTable','UNSIGNED_BYTE','Batch\x20Table','SHORT','INT8','INT16','number','442881fUlhJq','32rRbiHH','extensions','byteOffset','featureTableJson','binaryBody','FLOAT64','UINT16','3DTILES_batch_table_hierarchy','buffer','options.count','bufferViewsU8','\x20requires\x20a\x20batch\x20table\x20binary.','type','13660pRPSBm'];a666_0x5492=function(){return _0xf5c147;};return a666_0x5492();}import a666_0x2fb1c7 from'./MetadataClass.js';import a666_0x4c282d from'./MetadataSchema.js';import a666_0xb865e5 from'./MetadataTable.js';export default function parseBatchTable(_0x3fa8fb){var _0x2b64e6=a666_0x2b03;a666_0x460024['typeOf'][_0x2b64e6(0xfa)](_0x2b64e6(0xce),_0x3fa8fb[_0x2b64e6(0xf3)]),a666_0x460024[_0x2b64e6(0xeb)]['object'](_0x2b64e6(0xf4),_0x3fa8fb['batchTable']);var _0x40de5e=_0x3fa8fb[_0x2b64e6(0xf3)],_0x526214=_0x3fa8fb['batchTable'],_0x1f0002=_0x3fa8fb[_0x2b64e6(0xc9)],_0x44b814=partitionProperties(_0x526214),_0x2bf434=new a666_0x598996({'count':_0x40de5e,'properties':_0x44b814[_0x2b64e6(0xe4)]}),_0x297045=initializeHierarchy(_0x44b814['hierarchy'],_0x1f0002),_0x24823a=a666_0x2fb1c7['BATCH_TABLE_CLASS_NAME'],_0x180071=transcodeBinaryProperties(_0x40de5e,_0x24823a,_0x44b814[_0x2b64e6(0xe8)],_0x1f0002),_0x2ddb71=_0x180071[_0x2b64e6(0xc8)],_0x4216a1=new a666_0xb865e5({'count':_0x2ddb71[_0x2b64e6(0xf3)],'properties':_0x2ddb71[_0x2b64e6(0xef)],'class':_0x180071['transcodedClass'],'bufferViews':_0x180071[_0x2b64e6(0xcf)]}),_0x2c86bd=new a666_0x13b4f9({'id':0x0,'name':_0x2b64e6(0xf6),'count':_0x2ddb71[_0x2b64e6(0xf3)],'metadataTable':_0x4216a1,'jsonMetadataTable':_0x2bf434,'batchTableHierarchy':_0x297045});return new a666_0x2e2edc({'schema':_0x180071[_0x2b64e6(0xd6)],'propertyTables':[_0x2c86bd],'extensions':_0x44b814[_0x2b64e6(0xc6)],'extras':_0x44b814[_0x2b64e6(0xd9)]});}function partitionProperties(_0x4677b5){var _0xefcb47=a666_0x2b03,_0x2f6cb7=_0x4677b5[_0xefcb47(0xe0)],_0x1bf382=_0x4677b5['extras'],_0x4a14da=_0x4677b5[_0xefcb47(0xc6)],_0x5f62ef;if(a666_0x18b418(_0x2f6cb7))parseBatchTable['_deprecationWarning'](_0xefcb47(0xde),'The\x20batch\x20table\x20HIERARCHY\x20property\x20has\x20been\x20moved\x20to\x20an\x20extension.\x20Use\x20extensions.3DTILES_batch_table_hierarchy\x20instead.'),_0x5f62ef=_0x2f6cb7;else a666_0x18b418(_0x4a14da)&&(_0x5f62ef=_0x4a14da[_0xefcb47(0xcc)]);var _0x2d90f7={},_0x55e89c={};for(var _0x37a44d in _0x4677b5){if(!_0x4677b5['hasOwnProperty'](_0x37a44d)||_0x37a44d==='HIERARCHY'||_0x37a44d===_0xefcb47(0xc6)||_0x37a44d==='extras')continue;var _0x11dbb5=_0x4677b5[_0x37a44d];Array[_0xefcb47(0xdf)](_0x11dbb5)?_0x2d90f7[_0x37a44d]=_0x11dbb5:_0x55e89c[_0x37a44d]=_0x11dbb5;}return{'binaryProperties':_0x55e89c,'jsonProperties':_0x2d90f7,'hierarchy':_0x5f62ef,'extras':_0x1bf382,'extensions':_0x4a14da};}function transcodeBinaryProperties(_0x201b65,_0x113182,_0x402660,_0x3f0b9b){var _0x3f4f49=a666_0x2b03,_0x218bef={},_0x149de6={},_0x5d375d={},_0x6505c1=0x0;for(var _0x344281 in _0x402660){if(!_0x402660[_0x3f4f49(0xe2)](_0x344281))continue;if(!a666_0x18b418(_0x3f0b9b))throw new a666_0x4c0c1a(_0x3f4f49(0xd5)+_0x344281+_0x3f4f49(0xd0));var _0x92d2c2=_0x402660[_0x344281],_0x45dab2=a666_0x27e901(_0x92d2c2);_0x149de6[_0x344281]={'bufferView':_0x6505c1},_0x218bef[_0x344281]=transcodePropertyType(_0x92d2c2),_0x5d375d[_0x6505c1]=_0x45dab2[_0x3f4f49(0xdd)](_0x3f0b9b[_0x3f4f49(0xcd)],_0x3f0b9b['byteOffset']+_0x92d2c2[_0x3f4f49(0xc7)],_0x201b65),_0x6505c1++;}var _0x1688d2={'classes':{}};_0x1688d2[_0x3f4f49(0xee)][_0x113182]={'properties':_0x218bef};var _0x1e4d7d=new a666_0x4c282d(_0x1688d2),_0x3f7401={'class':_0x113182,'count':_0x201b65,'properties':_0x149de6};return{'featureTableJson':_0x3f7401,'bufferViewsU8':_0x5d375d,'transcodedSchema':_0x1e4d7d,'transcodedClass':_0x1e4d7d[_0x3f4f49(0xee)][_0x113182]};}function transcodePropertyType(_0x71408d){var _0x5c8ac5=a666_0x2b03,_0x212659=transcodeComponentType(_0x71408d[_0x5c8ac5(0xe7)]),_0x5e25a4=_0x71408d[_0x5c8ac5(0xd1)];if(_0x5e25a4===_0x5c8ac5(0xf1))return{'type':_0x5c8ac5(0xe9),'componentType':_0x212659};return{'type':_0x5e25a4,'componentType':_0x212659};}function transcodeComponentType(_0x51b8d7){var _0x963074=a666_0x2b03;switch(_0x51b8d7){case'BYTE':return _0x963074(0xf8);case _0x963074(0xf5):return'UINT8';case _0x963074(0xf7):return _0x963074(0xf9);case _0x963074(0xdb):return _0x963074(0xcb);case _0x963074(0xdc):return'INT32';case _0x963074(0xd7):return _0x963074(0xf2);case _0x963074(0xe3):return _0x963074(0xea);case _0x963074(0xf0):return _0x963074(0xca);}}function initializeHierarchy(_0x501d4e,_0xe6c986){if(a666_0x18b418(_0x501d4e))return new a666_0x217f3b({'extension':_0x501d4e,'binaryBody':_0xe6c986});return undefined;}parseBatchTable[a666_0x2ff461(0xd4)]=a666_0x549091;