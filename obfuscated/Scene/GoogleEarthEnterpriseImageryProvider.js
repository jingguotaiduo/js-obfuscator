var a557_0x4704de=a557_0x145d;(function(_0xffcf91,_0x29f8bc){var _0x59e9f9=a557_0x145d,_0x145a06=_0xffcf91();while(!![]){try{var _0x126d4f=-parseInt(_0x59e9f9(0x6e))/0x1*(-parseInt(_0x59e9f9(0x75))/0x2)+parseInt(_0x59e9f9(0x8c))/0x3+-parseInt(_0x59e9f9(0x9d))/0x4+parseInt(_0x59e9f9(0xb2))/0x5*(parseInt(_0x59e9f9(0xaf))/0x6)+parseInt(_0x59e9f9(0xa6))/0x7+-parseInt(_0x59e9f9(0xa1))/0x8*(-parseInt(_0x59e9f9(0x88))/0x9)+-parseInt(_0x59e9f9(0x74))/0xa;if(_0x126d4f===_0x29f8bc)break;else _0x145a06['push'](_0x145a06['shift']());}catch(_0x12aec8){_0x145a06['push'](_0x145a06['shift']());}}}(a557_0x15bc,0x1e1f1));import a557_0x1e06f5 from'../Core/Credit.js';import a557_0x35d9c3 from'../Core/decodeGoogleEarthEnterpriseData.js';import a557_0x344bdf from'../Core/defaultValue.js';import a557_0x383c69 from'../Core/defined.js';function a557_0x145d(_0x5ee2ec,_0x5bcfa9){var _0x15bc65=a557_0x15bc();return a557_0x145d=function(_0x145db0,_0x24eca6){_0x145db0=_0x145db0-0x6a;var _0x1d4beb=_0x15bc65[_0x145db0];return _0x1d4beb;},a557_0x145d(_0x5ee2ec,_0x5bcfa9);}import a557_0x38885b from'../Core/DeveloperError.js';import a557_0x483830 from'../Core/Event.js';import a557_0x39fd6b from'../Core/GeographicTilingScheme.js';import a557_0x446e14 from'../Core/GoogleEarthEnterpriseMetadata.js';import a557_0x51c00e from'../Core/loadImageFromTypedArray.js';import a557_0x39839c from'../Core/Math.js';import a557_0x12ddc3 from'../Core/Rectangle.js';import a557_0x4c5dd9 from'../Core/Request.js';import a557_0x593311 from'../Core/Resource.js';import a557_0x2f61d7 from'../Core/RuntimeError.js';import a557_0x5303d3 from'../Core/TileProviderError.js';import a557_0x511a52 from'../ThirdParty/protobufjs.js';import a557_0x4cfb79 from'../ThirdParty/when.js';function GoogleEarthEnterpriseDiscardPolicy(){this['_image']=new Image();}GoogleEarthEnterpriseDiscardPolicy[a557_0x4704de(0x96)]['isReady']=function(){return!![];},GoogleEarthEnterpriseDiscardPolicy[a557_0x4704de(0x96)][a557_0x4704de(0xb0)]=function(_0x2c132b){var _0x7fec7e=a557_0x4704de;return _0x2c132b===this[_0x7fec7e(0xa5)];};function GoogleEarthEnterpriseImageryProvider(_0x5b9641){var _0x19443f=a557_0x4704de;_0x5b9641=a557_0x344bdf(_0x5b9641,a557_0x344bdf[_0x19443f(0x72)]);if(!(a557_0x383c69(_0x5b9641['url'])||a557_0x383c69(_0x5b9641[_0x19443f(0x6d)])))throw new a557_0x38885b(_0x19443f(0xb8));this['defaultAlpha']=undefined,this[_0x19443f(0x99)]=undefined,this[_0x19443f(0xb7)]=undefined,this['defaultBrightness']=undefined,this[_0x19443f(0xa4)]=undefined,this[_0x19443f(0x8b)]=undefined,this[_0x19443f(0xa8)]=undefined,this[_0x19443f(0x7f)]=undefined,this[_0x19443f(0xbc)]=undefined,this[_0x19443f(0x92)]=undefined;var _0x1b45d8;if(a557_0x383c69(_0x5b9641['metadata']))_0x1b45d8=_0x5b9641[_0x19443f(0x6d)];else{var _0x41526=a557_0x593311[_0x19443f(0xbd)](_0x5b9641[_0x19443f(0x76)]);_0x1b45d8=new a557_0x446e14(_0x41526);}this['_metadata']=_0x1b45d8,this[_0x19443f(0xa2)]=_0x5b9641[_0x19443f(0x91)],this[_0x19443f(0x84)]=new a557_0x39fd6b({'numberOfLevelZeroTilesX':0x2,'numberOfLevelZeroTilesY':0x2,'rectangle':new a557_0x12ddc3(-a557_0x39839c['PI'],-a557_0x39839c['PI'],a557_0x39839c['PI'],a557_0x39839c['PI']),'ellipsoid':_0x5b9641[_0x19443f(0xaa)]});var _0x5d1d02=_0x5b9641[_0x19443f(0x7e)];typeof _0x5d1d02==='string'&&(_0x5d1d02=new a557_0x1e06f5(_0x5d1d02));this[_0x19443f(0x90)]=_0x5d1d02,this[_0x19443f(0x87)]=0x100,this['_tileHeight']=0x100,this[_0x19443f(0xb4)]=0x17;!a557_0x383c69(this[_0x19443f(0xa2)])&&(this[_0x19443f(0xa2)]=new GoogleEarthEnterpriseDiscardPolicy());this[_0x19443f(0x79)]=new a557_0x483830(),this['_ready']=![];var _0x13a68e=this,_0x535f53;this['_readyPromise']=_0x1b45d8[_0x19443f(0xa7)][_0x19443f(0xbe)](function(_0x3930fb){var _0x40137c=_0x19443f;if(!_0x1b45d8[_0x40137c(0x80)]){var _0x334780=new a557_0x2f61d7(_0x40137c(0x9a)+_0x1b45d8[_0x40137c(0x76)]+_0x40137c(0x8d));return _0x535f53=a557_0x5303d3['handleError'](_0x535f53,_0x13a68e,_0x13a68e[_0x40137c(0x79)],_0x334780['message'],undefined,undefined,undefined,_0x334780),a557_0x4cfb79[_0x40137c(0x86)](_0x334780);}return a557_0x5303d3[_0x40137c(0x89)](_0x535f53),_0x13a68e[_0x40137c(0x8f)]=_0x3930fb,_0x3930fb;})[_0x19443f(0x70)](function(_0x42796e){var _0x1e9477=_0x19443f;return _0x535f53=a557_0x5303d3['handleError'](_0x535f53,_0x13a68e,_0x13a68e[_0x1e9477(0x79)],_0x42796e[_0x1e9477(0x8a)],undefined,undefined,undefined,_0x42796e),a557_0x4cfb79[_0x1e9477(0x86)](_0x42796e);});}Object[a557_0x4704de(0xb9)](GoogleEarthEnterpriseImageryProvider['prototype'],{'url':{'get':function(){var _0x1d72b8=a557_0x4704de;return this[_0x1d72b8(0x7c)]['url'];}},'proxy':{'get':function(){var _0x5834c0=a557_0x4704de;return this[_0x5834c0(0x7c)][_0x5834c0(0x82)];}},'tileWidth':{'get':function(){var _0x5f0dd4=a557_0x4704de;if(!this[_0x5f0dd4(0x8f)])throw new a557_0x38885b('tileWidth\x20must\x20not\x20be\x20called\x20before\x20the\x20imagery\x20provider\x20is\x20ready.');return this['_tileWidth'];}},'tileHeight':{'get':function(){var _0x4f255b=a557_0x4704de;if(!this[_0x4f255b(0x8f)])throw new a557_0x38885b('tileHeight\x20must\x20not\x20be\x20called\x20before\x20the\x20imagery\x20provider\x20is\x20ready.');return this['_tileHeight'];}},'maximumLevel':{'get':function(){var _0x5a7932=a557_0x4704de;if(!this[_0x5a7932(0x8f)])throw new a557_0x38885b('maximumLevel\x20must\x20not\x20be\x20called\x20before\x20the\x20imagery\x20provider\x20is\x20ready.');return this[_0x5a7932(0xb4)];}},'minimumLevel':{'get':function(){var _0x29686f=a557_0x4704de;if(!this[_0x29686f(0x8f)])throw new a557_0x38885b('minimumLevel\x20must\x20not\x20be\x20called\x20before\x20the\x20imagery\x20provider\x20is\x20ready.');return 0x0;}},'tilingScheme':{'get':function(){var _0x503d95=a557_0x4704de;if(!this[_0x503d95(0x8f)])throw new a557_0x38885b(_0x503d95(0xad));return this[_0x503d95(0x84)];}},'rectangle':{'get':function(){var _0x35a729=a557_0x4704de;if(!this['_ready'])throw new a557_0x38885b(_0x35a729(0x6b));return this[_0x35a729(0x84)]['rectangle'];}},'tileDiscardPolicy':{'get':function(){var _0x48ca34=a557_0x4704de;if(!this['_ready'])throw new a557_0x38885b('tileDiscardPolicy\x20must\x20not\x20be\x20called\x20before\x20the\x20imagery\x20provider\x20is\x20ready.');return this[_0x48ca34(0xa2)];}},'errorEvent':{'get':function(){var _0x596c7a=a557_0x4704de;return this[_0x596c7a(0x79)];}},'ready':{'get':function(){var _0x45108b=a557_0x4704de;return this[_0x45108b(0x8f)];}},'readyPromise':{'get':function(){var _0x27284a=a557_0x4704de;return this[_0x27284a(0x7a)];}},'credit':{'get':function(){var _0x2af278=a557_0x4704de;return this[_0x2af278(0x90)];}},'hasAlphaChannel':{'get':function(){return![];}}}),GoogleEarthEnterpriseImageryProvider[a557_0x4704de(0x96)]['getTileCredits']=function(_0x5a3920,_0x4d58dc,_0x2b74be){var _0x2f5ef6=a557_0x4704de;if(!this[_0x2f5ef6(0x8f)])throw new a557_0x38885b(_0x2f5ef6(0xac));var _0x2d8cb1=this[_0x2f5ef6(0x7c)],_0x47b2be=_0x2d8cb1[_0x2f5ef6(0x71)](_0x5a3920,_0x4d58dc,_0x2b74be);if(a557_0x383c69(_0x47b2be)){var _0x54d958=_0x2d8cb1['providers'][_0x47b2be[_0x2f5ef6(0xa0)]];if(a557_0x383c69(_0x54d958))return[_0x54d958];}return undefined;},GoogleEarthEnterpriseImageryProvider['prototype'][a557_0x4704de(0x6c)]=function(_0x59cfd8,_0x56c60d,_0x4818cd,_0x530ff8){var _0x3f6546=a557_0x4704de;if(!this['_ready'])throw new a557_0x38885b('requestImage\x20must\x20not\x20be\x20called\x20before\x20the\x20imagery\x20provider\x20is\x20ready.');var _0x551516=this['_tileDiscardPolicy'][_0x3f6546(0xa5)],_0x202314=this[_0x3f6546(0x7c)],_0x424f1f=a557_0x446e14[_0x3f6546(0xa3)](_0x59cfd8,_0x56c60d,_0x4818cd),_0x3c86ee=_0x202314[_0x3f6546(0x71)](_0x59cfd8,_0x56c60d,_0x4818cd);if(!a557_0x383c69(_0x3c86ee)){if(_0x202314[_0x3f6546(0x93)](_0x424f1f)){var _0x2c5089=new a557_0x4c5dd9({'throttle':_0x530ff8[_0x3f6546(0x98)],'throttleByServer':_0x530ff8['throttleByServer'],'type':_0x530ff8[_0x3f6546(0xb5)],'priorityFunction':_0x530ff8[_0x3f6546(0x7b)]});return _0x202314['populateSubtree'](_0x59cfd8,_0x56c60d,_0x4818cd,_0x2c5089),undefined;}return _0x551516;}if(!_0x3c86ee[_0x3f6546(0x97)]())return _0x551516;var _0x21402a=buildImageResource(this,_0x3c86ee,_0x59cfd8,_0x56c60d,_0x4818cd,_0x530ff8)[_0x3f6546(0xb3)]();if(!a557_0x383c69(_0x21402a))return undefined;return _0x21402a[_0x3f6546(0xbe)](function(_0xa5f6f5){var _0x10226e=_0x3f6546;a557_0x35d9c3(_0x202314['key'],_0xa5f6f5);var _0x579497=new Uint8Array(_0xa5f6f5),_0x37b1bc,_0x3067d5=_0x202314[_0x10226e(0x77)];(!a557_0x383c69(_0x3067d5)||!_0x3067d5)&&(_0x37b1bc=getImageType(_0x579497));if(!a557_0x383c69(_0x37b1bc)&&(!a557_0x383c69(_0x3067d5)||_0x3067d5)){var _0xe6f73e=decodeEarthImageryPacket(_0x579497);_0x37b1bc=_0xe6f73e['imageType'],_0x579497=_0xe6f73e['imageData'];}if(!a557_0x383c69(_0x37b1bc)||!a557_0x383c69(_0x579497))return _0x551516;return a557_0x51c00e({'uint8Array':_0x579497,'format':_0x37b1bc,'flipY':!![]});});},GoogleEarthEnterpriseImageryProvider['prototype']['pickFeatures']=function(_0x285eac,_0x3d889d,_0x11fa6d,_0x18d567,_0x338284){return undefined;};function a557_0x15bc(){var _0x3b8682=['getDerivedResource','121490azIpaw','fetchArrayBuffer','_maximumLevel','type','Reader','defaultDayAlpha','options.url\x20or\x20options.metadata\x20is\x20required.','defineProperties','imageType','copyrightIds','defaultMinificationFilter','createIfNeeded','then','uint32','rectangle\x20must\x20not\x20be\x20called\x20before\x20the\x20imagery\x20provider\x20is\x20ready.','requestImage','metadata','46109PVrxIB','imageryVersion','otherwise','getTileInformation','EMPTY_OBJECT','log','3704320GtJpLE','6NpfotB','url','protoImagery','bytes','_errorEvent','_readyPromise','priorityFunction','_metadata','GoogleEarthEnterpriseImageryProvider:\x20Unsupported\x20image\x20type.','credit','defaultGamma','imageryPresent','create','proxy','pos','_tilingScheme','image/png','reject','_tileWidth','358542aOqWrI','handleSuccess','message','defaultHue','122973cYJpYs','\x20doesn\x27t\x20have\x20imagery','imageAlpha','_ready','_credit','tileDiscardPolicy','defaultMagnificationFilter','isValid','skipType','-i.','prototype','hasImagery','throttle','defaultNightAlpha','The\x20server\x20','imageData','alphaType','432288pxdXPy','flatfile?f1-0','charCodeAt','imageryProvider','32qyAGpW','_tileDiscardPolicy','tileXYToQuadKey','defaultContrast','_image','992047okdKMe','readyPromise','defaultSaturation','toString','ellipsoid','image/jpeg','getTileCredits\x20must\x20not\x20be\x20called\x20before\x20the\x20imagery\x20provider\x20is\x20ready.','tilingScheme\x20must\x20not\x20be\x20called\x20before\x20the\x20imagery\x20provider\x20is\x20ready.','JFIF','30KzitGv','shouldDiscardImage'];a557_0x15bc=function(){return _0x3b8682;};return a557_0x15bc();}function buildImageResource(_0x4dfcae,_0x449d15,_0x4be6ab,_0x5b48a3,_0x5de239,_0x467c78){var _0x429103=a557_0x4704de,_0x4cbe35=a557_0x446e14[_0x429103(0xa3)](_0x4be6ab,_0x5b48a3,_0x5de239),_0x48153b=_0x449d15[_0x429103(0x6f)];return _0x48153b=a557_0x383c69(_0x48153b)&&_0x48153b>0x0?_0x48153b:0x1,_0x4dfcae['_metadata']['resource'][_0x429103(0xb1)]({'url':_0x429103(0x9e)+_0x4cbe35+_0x429103(0x95)+_0x48153b[_0x429103(0xa9)](),'request':_0x467c78});}function getImageType(_0x4a4fb3){var _0xd8b874=a557_0x4704de,_0x54d0bf=_0xd8b874(0xae);if(_0x4a4fb3[0x6]===_0x54d0bf[_0xd8b874(0x9f)](0x0)&&_0x4a4fb3[0x7]===_0x54d0bf['charCodeAt'](0x1)&&_0x4a4fb3[0x8]===_0x54d0bf[_0xd8b874(0x9f)](0x2)&&_0x4a4fb3[0x9]===_0x54d0bf['charCodeAt'](0x3))return'image/jpeg';var _0x1a5b10='PNG';if(_0x4a4fb3[0x1]===_0x1a5b10[_0xd8b874(0x9f)](0x0)&&_0x4a4fb3[0x2]===_0x1a5b10[_0xd8b874(0x9f)](0x1)&&_0x4a4fb3[0x3]===_0x1a5b10[_0xd8b874(0x9f)](0x2))return'image/png';return undefined;}function decodeEarthImageryPacket(_0x3660ce){var _0x325e32=a557_0x4704de,_0x4034bf=a557_0x511a52[_0x325e32(0xb6)][_0x325e32(0x81)](_0x3660ce),_0x268bf0=_0x4034bf['len'],_0x1b19bd={};while(_0x4034bf[_0x325e32(0x83)]<_0x268bf0){var _0x26f9b8=_0x4034bf[_0x325e32(0x6a)]();switch(_0x26f9b8>>>0x3){case 0x1:_0x1b19bd[_0x325e32(0xba)]=_0x4034bf['uint32']();break;case 0x2:_0x1b19bd[_0x325e32(0x9b)]=_0x4034bf[_0x325e32(0x78)]();break;case 0x3:_0x1b19bd['alphaType']=_0x4034bf[_0x325e32(0x6a)]();break;case 0x4:_0x1b19bd['imageAlpha']=_0x4034bf[_0x325e32(0x78)]();break;case 0x5:var _0x494a6c=_0x1b19bd[_0x325e32(0xbb)];!a557_0x383c69(_0x494a6c)&&(_0x494a6c=_0x1b19bd['copyrightIds']=[]);if((_0x26f9b8&0x7)===0x2){var _0x550630=_0x4034bf[_0x325e32(0x6a)]()+_0x4034bf[_0x325e32(0x83)];while(_0x4034bf['pos']<_0x550630){_0x494a6c['push'](_0x4034bf[_0x325e32(0x6a)]());}}else _0x494a6c['push'](_0x4034bf['uint32']());break;default:_0x4034bf[_0x325e32(0x94)](_0x26f9b8&0x7);break;}}var _0x47794f=_0x1b19bd[_0x325e32(0xba)];if(a557_0x383c69(_0x47794f))switch(_0x47794f){case 0x0:_0x1b19bd[_0x325e32(0xba)]=_0x325e32(0xab);break;case 0x4:_0x1b19bd[_0x325e32(0xba)]=_0x325e32(0x85);break;default:throw new a557_0x2f61d7(_0x325e32(0x7d));}var _0x4ff06c=_0x1b19bd['alphaType'];return a557_0x383c69(_0x4ff06c)&&_0x4ff06c!==0x0&&(console[_0x325e32(0x73)]('GoogleEarthEnterpriseImageryProvider:\x20External\x20alpha\x20not\x20supported.'),delete _0x1b19bd[_0x325e32(0x9c)],delete _0x1b19bd[_0x325e32(0x8e)]),_0x1b19bd;}export default GoogleEarthEnterpriseImageryProvider;