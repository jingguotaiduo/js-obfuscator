var a521_0xa1448e=a521_0x5903;(function(_0x41401,_0x2285c5){var _0x5a4266=a521_0x5903,_0x5a1eaa=_0x41401();while(!![]){try{var _0xf9eb97=-parseInt(_0x5a4266(0xb0))/0x1+-parseInt(_0x5a4266(0xc7))/0x2*(-parseInt(_0x5a4266(0xd4))/0x3)+-parseInt(_0x5a4266(0xb5))/0x4+parseInt(_0x5a4266(0xd2))/0x5*(parseInt(_0x5a4266(0xcd))/0x6)+parseInt(_0x5a4266(0xb9))/0x7+-parseInt(_0x5a4266(0xaa))/0x8+-parseInt(_0x5a4266(0xab))/0x9*(-parseInt(_0x5a4266(0xc6))/0xa);if(_0xf9eb97===_0x2285c5)break;else _0x5a1eaa['push'](_0x5a1eaa['shift']());}catch(_0x12bb9d){_0x5a1eaa['push'](_0x5a1eaa['shift']());}}}(a521_0x49f8,0x3faa7));import a521_0x113cbd from'../Core/BoundingRectangle.js';import a521_0x118e63 from'../Core/Color.js';import a521_0x2ae879 from'../Core/defined.js';import a521_0x2b0cd9 from'../Core/destroyObject.js';import a521_0x3eb3f6 from'../Core/PixelFormat.js';import a521_0x1f6b93 from'../Renderer/ClearCommand.js';import a521_0x496188 from'../Renderer/Framebuffer.js';import a521_0x12515d from'../Renderer/PixelDatatype.js';import a521_0x35bee1 from'../Renderer/Renderbuffer.js';function a521_0x5903(_0x4e3876,_0x23a3c6){var _0x49f8fa=a521_0x49f8();return a521_0x5903=function(_0x590367,_0x477d42){_0x590367=_0x590367-0xa9;var _0x44abac=_0x49f8fa[_0x590367];return _0x44abac;},a521_0x5903(_0x4e3876,_0x23a3c6);}function a521_0x49f8(){var _0x5da678=['equals','_depthStencilTexture','335853RDljFa','_viewport','clearClassification','halfFloatingPointTexture','width','1900336UbqfeC','_depthStencilRenderbuffer','framebuffer','isDestroyed','368053YAhrQk','renderState','defineProperties','execute','_renderState','FLOAT','_packedDepthCommand','_packedDepthFramebuffer','fromCache','depthTexture','_framebuffer','packDepth','_colorTexture','625130VJkPzL','13414THXXNr','createViewportQuadCommand','_clearCommand','RGBA','NEAREST','HALF_FLOAT','633846nGJslc','clone','_packedDepthTexture','_scissorRectangle','DEPTH_STENCIL','5IXUySb','UNSIGNED_BYTE','192IDoqwh','destroy','_useHdr','_useScissorTest','height','prototype','3127504rCBlUi','126YksTvg','updateAndClear','viewport'];a521_0x49f8=function(){return _0x5da678;};return a521_0x49f8();}import a521_0x18e06f from'../Renderer/RenderbufferFormat.js';import a521_0x598255 from'../Renderer/RenderState.js';import a521_0x2242ee from'../Renderer/Sampler.js';import a521_0x1029e5 from'../Renderer/Texture.js';import a521_0x566913 from'../Shaders/PostProcessStages/PassThroughDepth.js';function GlobeTranslucencyFramebuffer(){var _0x395d75=a521_0x5903;this['_colorTexture']=undefined,this[_0x395d75(0xaf)]=undefined,this[_0x395d75(0xb6)]=undefined,this[_0x395d75(0xc3)]=undefined,this[_0x395d75(0xcf)]=undefined,this[_0x395d75(0xc0)]=undefined,this[_0x395d75(0xbd)]=undefined,this['_packedDepthCommand']=undefined,this['_clearCommand']=undefined,this['_viewport']=new a521_0x113cbd(),this[_0x395d75(0xd7)]=![],this[_0x395d75(0xd0)]=undefined,this['_useHdr']=undefined;}Object[a521_0xa1448e(0xbb)](GlobeTranslucencyFramebuffer['prototype'],{'classificationTexture':{'get':function(){var _0xf09595=a521_0xa1448e;return this[_0xf09595(0xc5)];}},'classificationFramebuffer':{'get':function(){return this['_framebuffer'];}}});function destroyResources(_0x16ab98){var _0x32b616=a521_0xa1448e;_0x16ab98[_0x32b616(0xc5)]=_0x16ab98['_colorTexture']&&!_0x16ab98[_0x32b616(0xc5)][_0x32b616(0xb8)]()&&_0x16ab98['_colorTexture'][_0x32b616(0xd5)](),_0x16ab98[_0x32b616(0xaf)]=_0x16ab98[_0x32b616(0xaf)]&&!_0x16ab98[_0x32b616(0xaf)][_0x32b616(0xb8)]()&&_0x16ab98[_0x32b616(0xaf)][_0x32b616(0xd5)](),_0x16ab98[_0x32b616(0xb6)]=_0x16ab98[_0x32b616(0xb6)]&&!_0x16ab98[_0x32b616(0xb6)][_0x32b616(0xb8)]()&&_0x16ab98[_0x32b616(0xb6)][_0x32b616(0xd5)](),_0x16ab98[_0x32b616(0xc3)]=_0x16ab98[_0x32b616(0xc3)]&&!_0x16ab98[_0x32b616(0xc3)][_0x32b616(0xb8)]()&&_0x16ab98['_framebuffer'][_0x32b616(0xd5)](),_0x16ab98['_packedDepthTexture']=_0x16ab98[_0x32b616(0xcf)]&&!_0x16ab98[_0x32b616(0xcf)][_0x32b616(0xb8)]()&&_0x16ab98[_0x32b616(0xcf)][_0x32b616(0xd5)](),_0x16ab98['_packedDepthFramebuffer']=_0x16ab98['_packedDepthFramebuffer']&&!_0x16ab98[_0x32b616(0xc0)][_0x32b616(0xb8)]()&&_0x16ab98[_0x32b616(0xc0)][_0x32b616(0xd5)]();}function createResources(_0x5ea59f,_0x119e4e,_0x44c909,_0x281f7c,_0x548d59){var _0x2663d1=a521_0xa1448e,_0x4df609=_0x548d59?_0x119e4e[_0x2663d1(0xb3)]?a521_0x12515d[_0x2663d1(0xcc)]:a521_0x12515d[_0x2663d1(0xbe)]:a521_0x12515d[_0x2663d1(0xd3)];_0x5ea59f[_0x2663d1(0xc5)]=new a521_0x1029e5({'context':_0x119e4e,'width':_0x44c909,'height':_0x281f7c,'pixelFormat':a521_0x3eb3f6['RGBA'],'pixelDatatype':_0x4df609,'sampler':a521_0x2242ee[_0x2663d1(0xcb)]}),_0x119e4e[_0x2663d1(0xc2)]?_0x5ea59f[_0x2663d1(0xaf)]=new a521_0x1029e5({'context':_0x119e4e,'width':_0x44c909,'height':_0x281f7c,'pixelFormat':a521_0x3eb3f6[_0x2663d1(0xd1)],'pixelDatatype':a521_0x12515d['UNSIGNED_INT_24_8']}):_0x5ea59f['_depthStencilRenderbuffer']=new a521_0x35bee1({'context':_0x119e4e,'width':_0x44c909,'height':_0x281f7c,'format':a521_0x18e06f[_0x2663d1(0xd1)]}),_0x5ea59f['_framebuffer']=new a521_0x496188({'context':_0x119e4e,'colorTextures':[_0x5ea59f[_0x2663d1(0xc5)]],'depthStencilTexture':_0x5ea59f['_depthStencilTexture'],'depthStencilRenderbuffer':_0x5ea59f[_0x2663d1(0xb6)],'destroyAttachments':![]}),_0x5ea59f['_packedDepthTexture']=new a521_0x1029e5({'context':_0x119e4e,'width':_0x44c909,'height':_0x281f7c,'pixelFormat':a521_0x3eb3f6[_0x2663d1(0xca)],'pixelDatatype':a521_0x12515d[_0x2663d1(0xd3)],'sampler':a521_0x2242ee[_0x2663d1(0xcb)]}),_0x5ea59f[_0x2663d1(0xc0)]=new a521_0x496188({'context':_0x119e4e,'colorTextures':[_0x5ea59f[_0x2663d1(0xcf)]],'destroyAttachments':![]});}function updateResources(_0x3c63e0,_0x3451f3,_0x587e59,_0xcb8bf4,_0x3230c2){var _0x20c338=a521_0xa1448e,_0x1348f3=_0x3c63e0['_colorTexture'],_0xc2edee=!a521_0x2ae879(_0x1348f3)||_0x1348f3[_0x20c338(0xb4)]!==_0x587e59||_0x1348f3[_0x20c338(0xd8)]!==_0xcb8bf4||_0x3230c2!==_0x3c63e0[_0x20c338(0xd6)];_0xc2edee&&(destroyResources(_0x3c63e0),createResources(_0x3c63e0,_0x3451f3,_0x587e59,_0xcb8bf4,_0x3230c2));}function updateCommands(_0x3cac9c,_0x53def2,_0x47c215,_0x2c4925,_0x2f83e0){var _0x4761e6=a521_0xa1448e;_0x3cac9c[_0x4761e6(0xb1)][_0x4761e6(0xb4)]=_0x47c215,_0x3cac9c[_0x4761e6(0xb1)][_0x4761e6(0xd8)]=_0x2c4925;var _0x52241b=!a521_0x113cbd['equals'](_0x3cac9c[_0x4761e6(0xb1)],_0x2f83e0[_0x4761e6(0xad)]),_0x541dad=_0x52241b!==_0x3cac9c['_useScissorTest'];_0x3cac9c[_0x4761e6(0xd7)]=_0x52241b,!a521_0x113cbd[_0x4761e6(0xae)](_0x3cac9c[_0x4761e6(0xd0)],_0x2f83e0['viewport'])&&(_0x3cac9c['_scissorRectangle']=a521_0x113cbd[_0x4761e6(0xce)](_0x2f83e0[_0x4761e6(0xad)],_0x3cac9c[_0x4761e6(0xd0)]),_0x541dad=!![]),(!a521_0x2ae879(_0x3cac9c[_0x4761e6(0xbd)])||!a521_0x113cbd[_0x4761e6(0xae)](_0x3cac9c[_0x4761e6(0xb1)],_0x3cac9c['_renderState'][_0x4761e6(0xad)])||_0x541dad)&&(_0x3cac9c[_0x4761e6(0xbd)]=a521_0x598255[_0x4761e6(0xc1)]({'viewport':_0x3cac9c[_0x4761e6(0xb1)],'scissorTest':{'enabled':_0x3cac9c[_0x4761e6(0xd7)],'rectangle':_0x3cac9c[_0x4761e6(0xd0)]}})),!a521_0x2ae879(_0x3cac9c[_0x4761e6(0xbf)])&&(_0x3cac9c[_0x4761e6(0xbf)]=_0x53def2[_0x4761e6(0xc8)](a521_0x566913,{'uniformMap':{'u_depthTexture':function(){return _0x3cac9c['_depthStencilTexture'];}},'owner':_0x3cac9c})),!a521_0x2ae879(_0x3cac9c[_0x4761e6(0xc9)])&&(_0x3cac9c[_0x4761e6(0xc9)]=new a521_0x1f6b93({'color':new a521_0x118e63(0x0,0x0,0x0,0x0),'depth':0x1,'stencil':0x0,'owner':_0x3cac9c})),_0x3cac9c[_0x4761e6(0xbf)][_0x4761e6(0xb7)]=_0x3cac9c['_packedDepthFramebuffer'],_0x3cac9c[_0x4761e6(0xbf)][_0x4761e6(0xba)]=_0x3cac9c['_renderState'],_0x3cac9c['_clearCommand']['framebuffer']=_0x3cac9c[_0x4761e6(0xc3)],_0x3cac9c[_0x4761e6(0xc9)][_0x4761e6(0xba)]=_0x3cac9c[_0x4761e6(0xbd)];}GlobeTranslucencyFramebuffer[a521_0xa1448e(0xa9)][a521_0xa1448e(0xac)]=function(_0x3ed625,_0xb8d012,_0x26835b,_0xdfe219){var _0x97489e=a521_0xa1448e,_0x418e55=_0xb8d012[_0x97489e(0xb4)],_0x256209=_0xb8d012['height'];updateResources(this,_0x26835b,_0x418e55,_0x256209,_0x3ed625),updateCommands(this,_0x26835b,_0x418e55,_0x256209,_0xdfe219),this['_useHdr']=_0x3ed625;},GlobeTranslucencyFramebuffer[a521_0xa1448e(0xa9)][a521_0xa1448e(0xb2)]=function(_0x5f5b74,_0x517eab){var _0x140e3a=a521_0xa1448e;this[_0x140e3a(0xc9)][_0x140e3a(0xbc)](_0x5f5b74,_0x517eab);},GlobeTranslucencyFramebuffer[a521_0xa1448e(0xa9)][a521_0xa1448e(0xc4)]=function(_0x2fd832,_0xd78265){var _0x4dbce2=a521_0xa1448e;return this[_0x4dbce2(0xbf)]['execute'](_0x2fd832,_0xd78265),this[_0x4dbce2(0xcf)];},GlobeTranslucencyFramebuffer[a521_0xa1448e(0xa9)][a521_0xa1448e(0xb8)]=function(){return![];},GlobeTranslucencyFramebuffer[a521_0xa1448e(0xa9)][a521_0xa1448e(0xd5)]=function(){return destroyResources(this),a521_0x2b0cd9(this);};export default GlobeTranslucencyFramebuffer;