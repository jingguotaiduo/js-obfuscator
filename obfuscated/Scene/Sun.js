var a734_0x578d15=a734_0x4f38;(function(_0x4ae5ae,_0x843d37){var _0x285669=a734_0x4f38,_0x34596d=_0x4ae5ae();while(!![]){try{var _0xc5ec=-parseInt(_0x285669(0x1bd))/0x1+-parseInt(_0x285669(0x191))/0x2+parseInt(_0x285669(0x1c0))/0x3+parseInt(_0x285669(0x1ab))/0x4+parseInt(_0x285669(0x19f))/0x5*(parseInt(_0x285669(0x1bb))/0x6)+parseInt(_0x285669(0x1c9))/0x7*(-parseInt(_0x285669(0x19a))/0x8)+parseInt(_0x285669(0x192))/0x9*(parseInt(_0x285669(0x1b8))/0xa);if(_0xc5ec===_0x843d37)break;else _0x34596d['push'](_0x34596d['shift']());}catch(_0x3da501){_0x34596d['push'](_0x34596d['shift']());}}}(a734_0x2552,0x37a48));import a734_0x183874 from'../Core/BoundingSphere.js';import a734_0x58142a from'../Core/Cartesian2.js';import a734_0x1b667b from'../Core/Cartesian3.js';import a734_0x2628f0 from'../Core/Cartesian4.js';import a734_0x3aee1b from'../Core/ComponentDatatype.js';import a734_0x27eb9d from'../Core/defined.js';import a734_0x1d3c63 from'../Core/destroyObject.js';import a734_0x434ed from'../Core/IndexDatatype.js';import a734_0x2e0790 from'../Core/Math.js';import a734_0x189a12 from'../Core/Matrix4.js';import a734_0x1c4589 from'../Core/PixelFormat.js';import a734_0x43ba1e from'../Core/PrimitiveType.js';import a734_0x228832 from'../Renderer/Buffer.js';import a734_0x58fb3a from'../Renderer/BufferUsage.js';import a734_0x643d8 from'../Renderer/ComputeCommand.js';import a734_0x20a8e3 from'../Renderer/DrawCommand.js';import a734_0x3b2e6f from'../Renderer/PixelDatatype.js';import a734_0x5a1b27 from'../Renderer/RenderState.js';import a734_0x2ded24 from'../Renderer/ShaderProgram.js';import a734_0x1e44c9 from'../Renderer/Texture.js';import a734_0x46e1b3 from'../Renderer/VertexArray.js';import a734_0x49ed92 from'../Shaders/SunFS.js';import a734_0x52869a from'../Shaders/SunTextureFS.js';function a734_0x2552(){var _0x211ce0=['413022cIVXAj','prototype','width','1201830PQmAAn','mode','log','context','sunPositionWC','glowFactor','clipToGLWindowCoordinates','direction','_drawingBufferWidth','9667bHdQCC','radius','FLOAT','RGBA','magnitude','vertexArray','_size','show','_radiusTS','_boundingVolume2D','createVertexBuffer','_texture','_commands','multiplyByVector','MORPHING','viewport','687640lHbzXm','63xEXMmh','_glowLengthTS','subtract','max','camera','_drawingBufferHeight','SCENE3D','boundingVolume','976WLSWNU','render','_boundingVolume','UNSIGNED_BYTE','uniformState','8345bBCffD','TRIANGLES','ceil','_glowFactorDirty','destroy','_drawCommand','computeActualWgs84Position','HALF_FLOAT','_useHdr','projection','_uniformMap','passes','1418244lkIbow','shaderProgram','sunPositionColumbusView','fromCache','update','clone','isDestroyed','height','createIndexBuffer','_glowFactor','center','SOLAR_RADIUS','COLUMBUS_VIEW','249170bZJNiX','ALPHA_BLEND','halfFloatingPointTexture','804xAgSDV','UNSIGNED_SHORT'];a734_0x2552=function(){return _0x211ce0;};return a734_0x2552();}import a734_0xb2774b from'../Shaders/SunVS.js';import a734_0x201749 from'./BlendingState.js';function a734_0x4f38(_0x399010,_0x5cc61b){var _0x25527c=a734_0x2552();return a734_0x4f38=function(_0x4f38d3,_0xabb1ec){_0x4f38d3=_0x4f38d3-0x186;var _0x4fe89f=_0x25527c[_0x4f38d3];return _0x4fe89f;},a734_0x4f38(_0x399010,_0x5cc61b);}import a734_0xd3f0fe from'./SceneMode.js';import a734_0x2f0b2b from'./SceneTransforms.js';function Sun(){var _0x4d1e88=a734_0x4f38;this[_0x4d1e88(0x188)]=!![],this[_0x4d1e88(0x1a4)]=new a734_0x20a8e3({'primitiveType':a734_0x43ba1e[_0x4d1e88(0x1a0)],'boundingVolume':new a734_0x183874(),'owner':this}),this[_0x4d1e88(0x18d)]={'drawCommand':this[_0x4d1e88(0x1a4)],'computeCommand':undefined},this[_0x4d1e88(0x19c)]=new a734_0x183874(),this[_0x4d1e88(0x18a)]=new a734_0x183874(),this[_0x4d1e88(0x18c)]=undefined,this[_0x4d1e88(0x1c8)]=undefined,this[_0x4d1e88(0x197)]=undefined,this['_radiusTS']=undefined,this[_0x4d1e88(0x187)]=undefined,this[_0x4d1e88(0x1c5)]=0x1,this['_glowFactorDirty']=![],this['_useHdr']=undefined;var _0x53ce1b=this;this[_0x4d1e88(0x1a9)]={'u_texture':function(){var _0x461a84=_0x4d1e88;return _0x53ce1b[_0x461a84(0x18c)];},'u_size':function(){return _0x53ce1b['_size'];}};}Object['defineProperties'](Sun[a734_0x578d15(0x1be)],{'glowFactor':{'get':function(){return this['_glowFactor'];},'set':function(_0x222883){var _0xc6222e=a734_0x578d15;_0x222883=Math['max'](_0x222883,0x0),this[_0xc6222e(0x1b4)]=_0x222883,this[_0xc6222e(0x1a2)]=!![];}}});var scratchPositionWC=new a734_0x58142a(),scratchLimbWC=new a734_0x58142a(),scratchPositionEC=new a734_0x2628f0(),scratchCartesian4=new a734_0x2628f0();Sun[a734_0x578d15(0x1be)][a734_0x578d15(0x1af)]=function(_0x40ef98,_0x29fb34,_0x2af2d0){var _0x45e542=a734_0x578d15;if(!this['show'])return undefined;var _0x1723ed=_0x40ef98[_0x45e542(0x1c1)];if(_0x1723ed===a734_0xd3f0fe['SCENE2D']||_0x1723ed===a734_0xd3f0fe[_0x45e542(0x18f)])return undefined;if(!_0x40ef98[_0x45e542(0x1aa)][_0x45e542(0x19b)])return undefined;var _0x44d49c=_0x40ef98[_0x45e542(0x1c3)],_0x2c4d36=_0x29fb34[_0x45e542(0x190)][_0x45e542(0x1bf)],_0x2db3ff=_0x29fb34['viewport'][_0x45e542(0x1b2)];if(!a734_0x27eb9d(this[_0x45e542(0x18c)])||_0x2c4d36!==this['_drawingBufferWidth']||_0x2db3ff!==this[_0x45e542(0x197)]||this['_glowFactorDirty']||_0x2af2d0!==this['_useHdr']){this[_0x45e542(0x18c)]=this[_0x45e542(0x18c)]&&this[_0x45e542(0x18c)][_0x45e542(0x1a3)](),this[_0x45e542(0x1c8)]=_0x2c4d36,this[_0x45e542(0x197)]=_0x2db3ff,this[_0x45e542(0x1a2)]=![],this[_0x45e542(0x1a7)]=_0x2af2d0;var _0x378664=Math[_0x45e542(0x195)](_0x2c4d36,_0x2db3ff);_0x378664=Math['pow'](0x2,Math['ceil'](Math[_0x45e542(0x1c2)](_0x378664)/Math['log'](0x2))-0x2),_0x378664=Math[_0x45e542(0x195)](0x1,_0x378664);var _0x266e66=_0x2af2d0?_0x44d49c[_0x45e542(0x1ba)]?a734_0x3b2e6f[_0x45e542(0x1a6)]:a734_0x3b2e6f[_0x45e542(0x1cb)]:a734_0x3b2e6f['UNSIGNED_BYTE'];this['_texture']=new a734_0x1e44c9({'context':_0x44d49c,'width':_0x378664,'height':_0x378664,'pixelFormat':a734_0x1c4589[_0x45e542(0x1cc)],'pixelDatatype':_0x266e66}),this['_glowLengthTS']=this[_0x45e542(0x1b4)]*0x5,this[_0x45e542(0x189)]=0x1/(0x1+0x2*this[_0x45e542(0x193)])*0.5;var _0x4aff66=this,_0x2a1490={'u_radiusTS':function(){var _0x126ce2=_0x45e542;return _0x4aff66[_0x126ce2(0x189)];}};this[_0x45e542(0x18d)]['computeCommand']=new a734_0x643d8({'fragmentShaderSource':a734_0x52869a,'outputTexture':this[_0x45e542(0x18c)],'uniformMap':_0x2a1490,'persists':![],'owner':this,'postExecute':function(){var _0x1727e3=_0x45e542;_0x4aff66[_0x1727e3(0x18d)]['computeCommand']=undefined;}});}var _0x3f9714=this['_drawCommand'];if(!a734_0x27eb9d(_0x3f9714[_0x45e542(0x186)])){var _0x11743d={'direction':0x0},_0x197a71=new Uint8Array(0x4*0x2);_0x197a71[0x0]=0x0,_0x197a71[0x1]=0x0,_0x197a71[0x2]=0xff,_0x197a71[0x3]=0x0,_0x197a71[0x4]=0xff,_0x197a71[0x5]=0xff,_0x197a71[0x6]=0x0,_0x197a71[0x7]=0xff;var _0x14578d=a734_0x228832[_0x45e542(0x18b)]({'context':_0x44d49c,'typedArray':_0x197a71,'usage':a734_0x58fb3a['STATIC_DRAW']}),_0x42ed12=[{'index':_0x11743d[_0x45e542(0x1c7)],'vertexBuffer':_0x14578d,'componentsPerAttribute':0x2,'normalize':!![],'componentDatatype':a734_0x3aee1b[_0x45e542(0x19d)]}],_0x114a02=a734_0x228832[_0x45e542(0x1b3)]({'context':_0x44d49c,'typedArray':new Uint16Array([0x0,0x1,0x2,0x0,0x2,0x3]),'usage':a734_0x58fb3a['STATIC_DRAW'],'indexDatatype':a734_0x434ed[_0x45e542(0x1bc)]});_0x3f9714[_0x45e542(0x186)]=new a734_0x46e1b3({'context':_0x44d49c,'attributes':_0x42ed12,'indexBuffer':_0x114a02}),_0x3f9714[_0x45e542(0x1ac)]=a734_0x2ded24[_0x45e542(0x1ae)]({'context':_0x44d49c,'vertexShaderSource':a734_0xb2774b,'fragmentShaderSource':a734_0x49ed92,'attributeLocations':_0x11743d}),_0x3f9714['renderState']=a734_0x5a1b27[_0x45e542(0x1ae)]({'blending':a734_0x201749[_0x45e542(0x1b9)]}),_0x3f9714['uniformMap']=this[_0x45e542(0x1a9)];}var _0x5ceec0=_0x44d49c['uniformState'][_0x45e542(0x1c4)],_0x475a33=_0x44d49c[_0x45e542(0x19e)][_0x45e542(0x1ad)],_0x40e256=this['_boundingVolume'],_0x51efb8=this['_boundingVolume2D'];a734_0x1b667b[_0x45e542(0x1b0)](_0x5ceec0,_0x40e256[_0x45e542(0x1b5)]),_0x51efb8[_0x45e542(0x1b5)]['x']=_0x475a33['z'],_0x51efb8[_0x45e542(0x1b5)]['y']=_0x475a33['x'],_0x51efb8[_0x45e542(0x1b5)]['z']=_0x475a33['y'],_0x40e256['radius']=a734_0x2e0790['SOLAR_RADIUS']+a734_0x2e0790['SOLAR_RADIUS']*this[_0x45e542(0x193)],_0x51efb8[_0x45e542(0x1ca)]=_0x40e256[_0x45e542(0x1ca)];if(_0x1723ed===a734_0xd3f0fe[_0x45e542(0x198)])a734_0x183874['clone'](_0x40e256,_0x3f9714[_0x45e542(0x199)]);else _0x1723ed===a734_0xd3f0fe[_0x45e542(0x1b7)]&&a734_0x183874[_0x45e542(0x1b0)](_0x51efb8,_0x3f9714[_0x45e542(0x199)]);var _0x4add98=a734_0x2f0b2b[_0x45e542(0x1a5)](_0x40ef98,_0x5ceec0,scratchCartesian4),_0x9aee70=a734_0x1b667b[_0x45e542(0x1cd)](a734_0x1b667b[_0x45e542(0x194)](_0x4add98,_0x40ef98[_0x45e542(0x196)]['position'],scratchCartesian4)),_0x554d8c=_0x44d49c[_0x45e542(0x19e)][_0x45e542(0x1a8)],_0x119cbc=scratchPositionEC;_0x119cbc['x']=0x0,_0x119cbc['y']=0x0,_0x119cbc['z']=-_0x9aee70,_0x119cbc['w']=0x1;var _0x2135b0=a734_0x189a12[_0x45e542(0x18e)](_0x554d8c,_0x119cbc,scratchCartesian4),_0x4e5a1d=a734_0x2f0b2b[_0x45e542(0x1c6)](_0x29fb34[_0x45e542(0x190)],_0x2135b0,scratchPositionWC);_0x119cbc['x']=a734_0x2e0790[_0x45e542(0x1b6)];var _0x1d8e92=a734_0x189a12[_0x45e542(0x18e)](_0x554d8c,_0x119cbc,scratchCartesian4),_0xf4001d=a734_0x2f0b2b[_0x45e542(0x1c6)](_0x29fb34['viewport'],_0x1d8e92,scratchLimbWC);return this[_0x45e542(0x187)]=a734_0x58142a[_0x45e542(0x1cd)](a734_0x58142a[_0x45e542(0x194)](_0xf4001d,_0x4e5a1d,scratchCartesian4)),this['_size']=0x2*this[_0x45e542(0x187)]*(0x1+0x2*this[_0x45e542(0x193)]),this[_0x45e542(0x187)]=Math[_0x45e542(0x1a1)](this[_0x45e542(0x187)]),this[_0x45e542(0x18d)];},Sun[a734_0x578d15(0x1be)][a734_0x578d15(0x1b1)]=function(){return![];},Sun[a734_0x578d15(0x1be)][a734_0x578d15(0x1a3)]=function(){var _0x30af6c=a734_0x578d15,_0x106263=this[_0x30af6c(0x1a4)];return _0x106263['vertexArray']=_0x106263[_0x30af6c(0x186)]&&_0x106263['vertexArray'][_0x30af6c(0x1a3)](),_0x106263['shaderProgram']=_0x106263['shaderProgram']&&_0x106263[_0x30af6c(0x1ac)]['destroy'](),this[_0x30af6c(0x18c)]=this[_0x30af6c(0x18c)]&&this[_0x30af6c(0x18c)][_0x30af6c(0x1a3)](),a734_0x1d3c63(this);};export default Sun;