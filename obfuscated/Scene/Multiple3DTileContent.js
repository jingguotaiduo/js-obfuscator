var a660_0x31c930=a660_0x5e07;(function(_0xcd9352,_0x373159){var _0x9d5fb3=a660_0x5e07,_0x58f599=_0xcd9352();while(!![]){try{var _0x1bb9bc=-parseInt(_0x9d5fb3(0x12b))/0x1+-parseInt(_0x9d5fb3(0x135))/0x2+parseInt(_0x9d5fb3(0x122))/0x3*(-parseInt(_0x9d5fb3(0x145))/0x4)+-parseInt(_0x9d5fb3(0x128))/0x5+-parseInt(_0x9d5fb3(0x136))/0x6+parseInt(_0x9d5fb3(0x12f))/0x7+parseInt(_0x9d5fb3(0x14f))/0x8;if(_0x1bb9bc===_0x373159)break;else _0x58f599['push'](_0x58f599['shift']());}catch(_0x344f31){_0x58f599['push'](_0x58f599['shift']());}}}(a660_0x5bee,0x9b2aa));import a660_0x4655c0 from'../Core/defined.js';import a660_0x513741 from'../Core/destroyObject.js';function a660_0x5bee(){var _0x93c92f=['content','all','_disableSkipLevelOfDetail','applyStyle','_contentState','update','binaryPayload','VECTOR','62043nFhuEb','isDestroyed','filter','tile','length','defer','2007505QLGxuf','_readyPromise','hasProperty','1257483LgPFqH','destroy','getDerivedResource','message','2858926MxxdpN','readyPromise','Multiple3DTileContent\x20cannot\x20have\x20group\x20metadata','TILES3D','serverHasOpenSlots','requestInnerContents','937366mwOCQN','23676DvBbrp','EXTERNAL_TILESET','_priority','contentType','_innerContentHeaders','state','_innerContentResources','then','clone','jsonPayload','numberOfListeners','_arrayFetchPromises','_requestsInFlight','_cancelCount','request','8vRxAEh','Error:\x20','promise','getFeature','tileFailed','_contentsFetchedPromise','numberOfPendingRequests','_contents','statistics','reject','19200952zLytqm','otherwise','_tile','_serverKeys','_tileset','applyDebugSettings','GEOMETRY','_requests','raiseEvent','url','prototype','_tilesetResource','tileset','map','A\x20content\x20failed\x20to\x20load:\x20','log','uri','resolve','defineProperties','cancelRequests','fetchArrayBuffer'];a660_0x5bee=function(){return _0x93c92f;};return a660_0x5bee();}import a660_0x3636af from'../Core/DeveloperError.js';import a660_0x50890f from'../Core/Request.js';import a660_0xfc356 from'../Core/RequestScheduler.js';import a660_0x2eac9a from'../Core/RequestState.js';import a660_0xb39f96 from'../Core/RequestType.js';import a660_0xcae81d from'../Core/RuntimeError.js';import a660_0x3769a0 from'../ThirdParty/when.js';import a660_0x5c68da from'./Cesium3DTileContentType.js';import a660_0x4afa3f from'./Cesium3DTileContentFactory.js';import a660_0x1ea1bf from'./findGroupMetadata.js';import a660_0x4c5438 from'./preprocess3DTileContent.js';export default function Multiple3DTileContent(_0x188eab,_0x4ab525,_0x5c3ff6,_0x26b02c){var _0x26e2d9=a660_0x5e07;this['_tileset']=_0x188eab,this[_0x26e2d9(0x151)]=_0x4ab525,this[_0x26e2d9(0x15a)]=_0x5c3ff6,this[_0x26e2d9(0x14c)]=[];var _0x15f405=_0x26b02c[_0x26e2d9(0x11a)];this['_innerContentHeaders']=_0x15f405,this[_0x26e2d9(0x142)]=0x0,this[_0x26e2d9(0x143)]=0x0;var _0x59a608=this['_innerContentHeaders'][_0x26e2d9(0x126)];this[_0x26e2d9(0x141)]=new Array(_0x59a608),this['_requests']=new Array(_0x59a608),this[_0x26e2d9(0x13c)]=new Array(_0x59a608),this[_0x26e2d9(0x152)]=new Array(_0x59a608);for(var _0x34abd6=0x0;_0x34abd6<_0x59a608;_0x34abd6++){var _0x3364e7=_0x5c3ff6[_0x26e2d9(0x12d)]({'url':_0x15f405[_0x34abd6][_0x26e2d9(0x15f)]}),_0x21f3ef=a660_0xfc356['getServerKey'](_0x3364e7['getUrlComponent']());this[_0x26e2d9(0x13c)][_0x34abd6]=_0x3364e7,this[_0x26e2d9(0x152)][_0x34abd6]=_0x21f3ef;}this[_0x26e2d9(0x14a)]=undefined,this[_0x26e2d9(0x129)]=a660_0x3769a0[_0x26e2d9(0x127)]();}Object[a660_0x31c930(0x161)](Multiple3DTileContent['prototype'],{'featurePropertiesDirty':{'get':function(){var _0x34c040=a660_0x31c930,_0x1e5be3=this[_0x34c040(0x14c)],_0x2e6bfc=_0x1e5be3[_0x34c040(0x126)];for(var _0x3ef7f5=0x0;_0x3ef7f5<_0x2e6bfc;++_0x3ef7f5){if(_0x1e5be3[_0x3ef7f5]['featurePropertiesDirty'])return!![];}return![];},'set':function(_0x255d88){var _0x49caf9=a660_0x31c930,_0x4bd120=this[_0x49caf9(0x14c)],_0xab2f29=_0x4bd120[_0x49caf9(0x126)];for(var _0x4014a8=0x0;_0x4014a8<_0xab2f29;++_0x4014a8){_0x4bd120[_0x4014a8]['featurePropertiesDirty']=_0x255d88;}}},'featuresLength':{'get':function(){return 0x0;}},'pointsLength':{'get':function(){return 0x0;}},'trianglesLength':{'get':function(){return 0x0;}},'geometryByteLength':{'get':function(){return 0x0;}},'texturesByteLength':{'get':function(){return 0x0;}},'batchTableByteLength':{'get':function(){return 0x0;}},'innerContents':{'get':function(){return this['_contents'];}},'readyPromise':{'get':function(){return this['_readyPromise']['promise'];}},'tileset':{'get':function(){var _0x310104=a660_0x31c930;return this[_0x310104(0x153)];}},'tile':{'get':function(){return this['_tile'];}},'url':{'get':function(){return undefined;}},'batchTable':{'get':function(){return undefined;}},'groupMetadata':{'get':function(){return undefined;},'set':function(){var _0x598a19=a660_0x31c930;throw new a660_0x3636af(_0x598a19(0x131));}},'innerContentUrls':{'get':function(){var _0x595e06=a660_0x31c930;return this[_0x595e06(0x13a)][_0x595e06(0x15c)](function(_0x363e77){return _0x363e77['uri'];});}},'contentsFetchedPromise':{'get':function(){var _0x1af3d1=a660_0x31c930;if(a660_0x4655c0(this[_0x1af3d1(0x14a)]))return this[_0x1af3d1(0x14a)][_0x1af3d1(0x147)];return undefined;}}});function updatePendingRequests(_0x4c2299,_0x45640a){var _0x19dea2=a660_0x31c930;_0x4c2299[_0x19dea2(0x142)]+=_0x45640a,_0x4c2299[_0x19dea2(0x15b)][_0x19dea2(0x14d)][_0x19dea2(0x14b)]+=_0x45640a;}function a660_0x5e07(_0x4e0288,_0x3cc468){var _0x5bee85=a660_0x5bee();return a660_0x5e07=function(_0x5e0776,_0x1f56b6){_0x5e0776=_0x5e0776-0x11a;var _0x35cb9a=_0x5bee85[_0x5e0776];return _0x35cb9a;},a660_0x5e07(_0x4e0288,_0x3cc468);}function cancelPendingRequests(_0x4b6f9f,_0x2f6a34){var _0xae1472=a660_0x31c930;_0x4b6f9f[_0xae1472(0x143)]++,_0x4b6f9f[_0xae1472(0x151)][_0xae1472(0x11e)]=_0x2f6a34,_0x4b6f9f[_0xae1472(0x15b)]['statistics'][_0xae1472(0x14b)]-=_0x4b6f9f[_0xae1472(0x142)],_0x4b6f9f[_0xae1472(0x142)]=0x0;var _0x34500f=_0x4b6f9f[_0xae1472(0x13a)][_0xae1472(0x126)];_0x4b6f9f['_arrayFetchPromises']=new Array(_0x34500f);}Multiple3DTileContent[a660_0x31c930(0x159)][a660_0x31c930(0x134)]=function(){var _0x113988=a660_0x31c930;if(!canScheduleAllRequests(this['_serverKeys']))return this[_0x113988(0x152)][_0x113988(0x126)];var _0x15c907=this[_0x113988(0x13a)];updatePendingRequests(this,_0x15c907[_0x113988(0x126)]);for(var _0x32b6f9=0x0;_0x32b6f9<_0x15c907['length'];_0x32b6f9++){this[_0x113988(0x141)][_0x32b6f9]=requestInnerContent(this,_0x32b6f9,this['_cancelCount'],this[_0x113988(0x151)][_0x113988(0x11e)]);}return!a660_0x4655c0(this[_0x113988(0x14a)])&&(this[_0x113988(0x14a)]=a660_0x3769a0['defer']()),createInnerContents(this),0x0;};function canScheduleAllRequests(_0x1a882f){var _0x437009=a660_0x31c930,_0x24b735={};for(var _0xbd802=0x0;_0xbd802<_0x1a882f[_0x437009(0x126)];_0xbd802++){var _0x435983=_0x1a882f[_0xbd802];a660_0x4655c0(_0x24b735[_0x435983])?_0x24b735[_0x435983]++:_0x24b735[_0x435983]=0x1;}for(var _0x37fcc0 in _0x24b735){if(_0x24b735['hasOwnProperty'](_0x37fcc0)&&!a660_0xfc356[_0x437009(0x133)](_0x37fcc0,_0x24b735[_0x37fcc0]))return![];}return a660_0xfc356['heapHasOpenSlots'](_0x1a882f[_0x437009(0x126)]);}function requestInnerContent(_0x4333d8,_0x4df550,_0x49fbf3,_0x168b3e){var _0x2c32a2=a660_0x31c930,_0x17ef19=_0x4333d8[_0x2c32a2(0x13c)][_0x4df550][_0x2c32a2(0x13e)](),_0x3adbab=_0x4333d8[_0x2c32a2(0x125)],_0x1e6a2b=function(){var _0x354b4b=_0x2c32a2;return _0x3adbab[_0x354b4b(0x138)];},_0x593f2d=_0x4333d8[_0x2c32a2(0x152)][_0x4df550],_0x947a74=new a660_0x50890f({'throttle':!![],'throttleByServer':!![],'type':a660_0xb39f96[_0x2c32a2(0x132)],'priorityFunction':_0x1e6a2b,'serverKey':_0x593f2d});return _0x17ef19[_0x2c32a2(0x144)]=_0x947a74,_0x4333d8['_requests'][_0x4df550]=_0x947a74,_0x17ef19[_0x2c32a2(0x163)]()[_0x2c32a2(0x13d)](function(_0x3ac471){var _0x1e9cd8=_0x2c32a2;if(_0x49fbf3<_0x4333d8[_0x1e9cd8(0x143)])return undefined;return updatePendingRequests(_0x4333d8,-0x1),_0x3ac471;})[_0x2c32a2(0x150)](function(_0x47ee76){var _0x5a5ee8=_0x2c32a2;if(_0x49fbf3<_0x4333d8[_0x5a5ee8(0x143)])return undefined;if(_0x17ef19[_0x5a5ee8(0x144)][_0x5a5ee8(0x13b)]===a660_0x2eac9a['CANCELLED'])return cancelPendingRequests(_0x4333d8,_0x168b3e),undefined;return updatePendingRequests(_0x4333d8,-0x1),handleInnerContentFailed(_0x4333d8,_0x4df550,_0x47ee76),undefined;});}function createInnerContents(_0x1b95ea){var _0x13e5bf=a660_0x31c930,_0x11b2fd=_0x1b95ea[_0x13e5bf(0x143)];a660_0x3769a0[_0x13e5bf(0x11b)](_0x1b95ea[_0x13e5bf(0x141)])['then'](function(_0x53d709){var _0x3c1cda=_0x13e5bf;if(_0x11b2fd<_0x1b95ea[_0x3c1cda(0x143)])return undefined;return _0x53d709[_0x3c1cda(0x15c)](function(_0x53384d,_0xa76507){if(!a660_0x4655c0(_0x53384d))return undefined;try{return createInnerContent(_0x1b95ea,_0x53384d,_0xa76507);}catch(_0x2f0232){return handleInnerContentFailed(_0x1b95ea,_0xa76507,_0x2f0232),undefined;}});})[_0x13e5bf(0x13d)](function(_0x41a02d){var _0x342180=_0x13e5bf;if(!a660_0x4655c0(_0x41a02d)){a660_0x4655c0(_0x1b95ea[_0x342180(0x14a)])&&(_0x1b95ea[_0x342180(0x14a)][_0x342180(0x160)](),_0x1b95ea[_0x342180(0x14a)]=undefined);return;}_0x1b95ea[_0x342180(0x14c)]=_0x41a02d[_0x342180(0x124)](a660_0x4655c0),awaitReadyPromises(_0x1b95ea),a660_0x4655c0(_0x1b95ea[_0x342180(0x14a)])&&_0x1b95ea[_0x342180(0x14a)]['resolve']();})['otherwise'](function(_0x15bfba){var _0x58724d=_0x13e5bf;a660_0x4655c0(_0x1b95ea[_0x58724d(0x14a)])&&_0x1b95ea[_0x58724d(0x14a)][_0x58724d(0x14e)](_0x15bfba);});}function createInnerContent(_0x1d42b1,_0x2d77de,_0x48c473){var _0x23f2f2=a660_0x31c930,_0x339f53=a660_0x4c5438(_0x2d77de);if(_0x339f53['contentType']===a660_0x5c68da[_0x23f2f2(0x137)])throw new a660_0xcae81d('External\x20tilesets\x20are\x20disallowed\x20inside\x20the\x203DTILES_multiple_contents\x20extension');_0x1d42b1[_0x23f2f2(0x11c)]=_0x1d42b1['_disableSkipLevelOfDetail']||_0x339f53[_0x23f2f2(0x139)]===a660_0x5c68da[_0x23f2f2(0x155)]||_0x339f53['contentType']===a660_0x5c68da[_0x23f2f2(0x121)];var _0x4a25ab=_0x1d42b1[_0x23f2f2(0x153)],_0x53bd28=_0x1d42b1[_0x23f2f2(0x13c)][_0x48c473],_0x3a955d,_0x143d33=a660_0x4afa3f[_0x339f53[_0x23f2f2(0x139)]];a660_0x4655c0(_0x339f53['binaryPayload'])?_0x3a955d=_0x143d33(_0x4a25ab,_0x1d42b1[_0x23f2f2(0x151)],_0x53bd28,_0x339f53[_0x23f2f2(0x120)]['buffer'],0x0):_0x3a955d=_0x143d33(_0x4a25ab,_0x1d42b1['_tile'],_0x53bd28,_0x339f53[_0x23f2f2(0x13f)]);var _0x1262a4=_0x1d42b1[_0x23f2f2(0x13a)][_0x48c473];return _0x3a955d['groupMetadata']=a660_0x1ea1bf(_0x4a25ab,_0x1262a4),_0x3a955d;}function awaitReadyPromises(_0x24db2e){var _0x52fdf0=a660_0x31c930,_0x39e0a9=_0x24db2e[_0x52fdf0(0x14c)][_0x52fdf0(0x15c)](function(_0x27378b){var _0x4ec147=_0x52fdf0;return _0x27378b[_0x4ec147(0x130)];});a660_0x3769a0[_0x52fdf0(0x11b)](_0x39e0a9)['then'](function(){var _0x30ee40=_0x52fdf0;_0x24db2e[_0x30ee40(0x129)][_0x30ee40(0x160)](_0x24db2e);})[_0x52fdf0(0x150)](function(_0x50feed){var _0x13f737=_0x52fdf0;_0x24db2e['_readyPromise'][_0x13f737(0x14e)](_0x50feed);});}function handleInnerContentFailed(_0xd10a70,_0x6c5738,_0x25f18f){var _0x45d59c=a660_0x31c930,_0x364123=_0xd10a70[_0x45d59c(0x153)],_0x3a2fb1=_0xd10a70['_innerContentResources'][_0x6c5738][_0x45d59c(0x158)],_0x6b3475=a660_0x4655c0(_0x25f18f[_0x45d59c(0x12e)])?_0x25f18f['message']:_0x25f18f['toString']();_0x364123[_0x45d59c(0x149)][_0x45d59c(0x140)]>0x0?_0x364123[_0x45d59c(0x149)][_0x45d59c(0x157)]({'url':_0x3a2fb1,'message':_0x6b3475}):(console[_0x45d59c(0x15e)](_0x45d59c(0x15d)+_0x3a2fb1),console[_0x45d59c(0x15e)](_0x45d59c(0x146)+_0x6b3475));}Multiple3DTileContent[a660_0x31c930(0x159)][a660_0x31c930(0x162)]=function(){var _0x289d3b=a660_0x31c930;for(var _0x539d0a=0x0;_0x539d0a<this['_requests'][_0x289d3b(0x126)];_0x539d0a++){var _0x50903d=this[_0x289d3b(0x156)][_0x539d0a];a660_0x4655c0(_0x50903d)&&_0x50903d['cancel']();}},Multiple3DTileContent[a660_0x31c930(0x159)][a660_0x31c930(0x12a)]=function(_0x134ae1,_0x2bc653){return![];},Multiple3DTileContent[a660_0x31c930(0x159)][a660_0x31c930(0x148)]=function(_0x137225){return undefined;},Multiple3DTileContent[a660_0x31c930(0x159)][a660_0x31c930(0x154)]=function(_0x4dbe63,_0x54de08){var _0x5240a6=a660_0x31c930,_0x295ba0=this[_0x5240a6(0x14c)],_0x4e0c66=_0x295ba0[_0x5240a6(0x126)];for(var _0x64d29a=0x0;_0x64d29a<_0x4e0c66;++_0x64d29a){_0x295ba0[_0x64d29a]['applyDebugSettings'](_0x4dbe63,_0x54de08);}},Multiple3DTileContent['prototype'][a660_0x31c930(0x11d)]=function(_0x4a7e03){var _0x3be6cf=a660_0x31c930,_0x4a25f6=this[_0x3be6cf(0x14c)],_0x3cac40=_0x4a25f6[_0x3be6cf(0x126)];for(var _0x1badd0=0x0;_0x1badd0<_0x3cac40;++_0x1badd0){_0x4a25f6[_0x1badd0][_0x3be6cf(0x11d)](_0x4a7e03);}},Multiple3DTileContent['prototype'][a660_0x31c930(0x11f)]=function(_0x36a7c8,_0x582c34){var _0x1adfb5=a660_0x31c930,_0x308e1e=this[_0x1adfb5(0x14c)],_0xc32303=_0x308e1e[_0x1adfb5(0x126)];for(var _0x305406=0x0;_0x305406<_0xc32303;++_0x305406){_0x308e1e[_0x305406][_0x1adfb5(0x11f)](_0x36a7c8,_0x582c34);}},Multiple3DTileContent['prototype'][a660_0x31c930(0x123)]=function(){return![];},Multiple3DTileContent[a660_0x31c930(0x159)][a660_0x31c930(0x12c)]=function(){var _0x4f4860=a660_0x31c930,_0xe0bdab=this[_0x4f4860(0x14c)],_0x37a22e=_0xe0bdab[_0x4f4860(0x126)];for(var _0x552e41=0x0;_0x552e41<_0x37a22e;++_0x552e41){_0xe0bdab[_0x552e41][_0x4f4860(0x12c)]();}return a660_0x513741(this);};