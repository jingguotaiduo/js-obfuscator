var a589_0x531237=a589_0x4391;(function(_0x474e56,_0x509924){var _0x27b563=a589_0x4391,_0x385623=_0x474e56();while(!![]){try{var _0x3f1c40=parseInt(_0x27b563(0x238))/0x1*(parseInt(_0x27b563(0x21a))/0x2)+-parseInt(_0x27b563(0x1fd))/0x3+-parseInt(_0x27b563(0x1c8))/0x4*(parseInt(_0x27b563(0x201))/0x5)+-parseInt(_0x27b563(0x1e3))/0x6*(parseInt(_0x27b563(0x1cc))/0x7)+parseInt(_0x27b563(0x242))/0x8*(-parseInt(_0x27b563(0x1d4))/0x9)+-parseInt(_0x27b563(0x1dc))/0xa+parseInt(_0x27b563(0x1ea))/0xb;if(_0x3f1c40===_0x509924)break;else _0x385623['push'](_0x385623['shift']());}catch(_0x29fe88){_0x385623['push'](_0x385623['shift']());}}}(a589_0x5dc2,0xe0392));import a589_0x4b231a from'../Core/BoundingRectangle.js';import a589_0x4f90d1 from'../Core/Cartesian2.js';import a589_0xb80bb8 from'../Core/Color.js';import a589_0x57fb7a from'../Core/defaultValue.js';import a589_0x27c91b from'../Core/defined.js';import a589_0x349749 from'../Core/destroyObject.js';import a589_0x340dd1 from'../Core/DeveloperError.js';import a589_0x15e458 from'../Core/Matrix4.js';import a589_0x12c550 from'../Core/writeTextToCanvas.js';import a589_0x595f00 from'../ThirdParty/bitmap-sdf.js';import a589_0xf2ddc8 from'./BillboardCollection.js';import a589_0x18d188 from'./BlendOption.js';function a589_0x5dc2(){var _0x33603e=['isDestroyed','dimensions','_fontFamily','1eRYDzl','_glyphTextureCache','_fontStyle','heightReference','ID_WHITE_PIXEL','_textureAtlas','TRANSPARENT','update','clone','textBaseline','8pQeMLs','fillStyle','_spareBillboards','join','_relativeSize','_show','_verticalOrigin','_renderedText','index','IDENTITY','length','scale','TRANSLUCENT','style','textureAtlas','stroke','canvas','_scaleByDistance','removeAll','_horizontalOrigin','fillColor','add','horizontalOrigin','CENTER','_totalGlyphCount','push','8bVXiGx','image','defineProperties','splitGraphemes','35fYTUMl','BASELINE','prototype','outlineWidth','_fontSize','_pixelOffsetScaleByDistance','_labelHorizontalOrigin','totalScale','7102323zgDVAt','_eyeOffset','_billboardCollection','charAt','putImageData','splice','getContext','_labels','7053010dplCRi','destroy','_whitePixelIndex','verticalOrigin','billboard','backgroundColor','_labelDimensions','211956xKrjsI','distanceDisplayCondition','_translucencyByDistance','_batchTable','remove','_lineHeight','scene','46322012ShYUws','_fillColor','TOP','_setTranslate','_id','CLAMP_TO_GROUND','modelMatrix','show','_position','_backgroundBillboard','batchTable','getImageData','debugShowBoundingVolume','get','fillRect','_backgroundTextureAtlas','_removeCallbackFunc','_repositionAllGlyphs','pickPrimitive','5242158sjqhot','_heightReference','font','stringify','2638210RFmCTA','_scene','_labelCollection','pop','_highlightColor','WHITE','disableDepthTestDistance','labelCollection','color','BLACK','strokeColor','textureInfo','_disableDepthTestDistance','LEFT','PADDING','eyeOffset','FONT_SIZE','blendOption','FILL','_pixelOffset','position','split','_backgroundBillboardCollection','pixelOffset','_labelsToUpdate','2362148qGZxhu','#fff','translucencyByDistance','_distanceDisplayCondition','OUTLINE','FILL_AND_OUTLINE','_fontWeight','then','NEGATIVE_INFINITY','_rebindAllGlyphs','_glyphs','minx','scaleByDistance','descent','pixelOffsetScaleByDistance','_labelTranslate','OPAQUE_AND_TRANSLUCENT','top','data','destroyTextureAtlas','max','height','context','addImage','EMPTY_OBJECT','width','indexOf'];a589_0x5dc2=function(){return _0x33603e;};return a589_0x5dc2();}import a589_0x282d38 from'./HeightReference.js';import a589_0x40d2b3 from'./HorizontalOrigin.js';import a589_0x1bf93f from'./Label.js';import a589_0x4adb53 from'./LabelStyle.js';import a589_0xbde4aa from'./SDFSettings.js';import a589_0x38c952 from'./TextureAtlas.js';import a589_0x5506b7 from'./VerticalOrigin.js';import a589_0x27dfd5 from'../ThirdParty/grapheme-splitter.js';function Glyph(){var _0x2e5515=a589_0x4391;this[_0x2e5515(0x20c)]=undefined,this[_0x2e5515(0x236)]=undefined,this[_0x2e5515(0x1e0)]=undefined;}function GlyphTextureInfo(_0x5cef83,_0x477b9f,_0x139900){var _0x318f2a=a589_0x4391;this[_0x318f2a(0x208)]=_0x5cef83,this[_0x318f2a(0x1b6)]=_0x477b9f,this['dimensions']=_0x139900;}var defaultLineSpacingPercent=1.2,whitePixelCanvasId=a589_0x531237(0x23c),whitePixelSize=new a589_0x4f90d1(0x4,0x4),whitePixelBoundingRegion=new a589_0x4b231a(0x1,0x1,0x1,0x1);function addWhitePixelCanvas(_0x5d3025,_0x54c657){var _0x2ea1f8=a589_0x531237,_0x25d57f=document['createElement'](_0x2ea1f8(0x1be));_0x25d57f[_0x2ea1f8(0x233)]=whitePixelSize['x'],_0x25d57f[_0x2ea1f8(0x22f)]=whitePixelSize['y'];var _0x1f643b=_0x25d57f['getContext']('2d');_0x1f643b[_0x2ea1f8(0x243)]=_0x2ea1f8(0x21b),_0x1f643b[_0x2ea1f8(0x1f8)](0x0,0x0,_0x25d57f[_0x2ea1f8(0x233)],_0x25d57f[_0x2ea1f8(0x22f)]),_0x5d3025[_0x2ea1f8(0x231)](whitePixelCanvasId,_0x25d57f)[_0x2ea1f8(0x221)](function(_0x53215b){var _0x520132=_0x2ea1f8;_0x54c657[_0x520132(0x1de)]=_0x53215b;});}var writeTextToCanvasParameters={};function createGlyphCanvas(_0x24a617,_0xe1e21a,_0x55f8cd,_0x870fa7,_0x356e99,_0x1f1ff6,_0x599080){var _0x3f31d2=a589_0x531237;writeTextToCanvasParameters[_0x3f31d2(0x1ff)]=_0xe1e21a,writeTextToCanvasParameters[_0x3f31d2(0x1c2)]=_0x55f8cd,writeTextToCanvasParameters[_0x3f31d2(0x20b)]=_0x870fa7,writeTextToCanvasParameters['strokeWidth']=_0x356e99,writeTextToCanvasParameters['padding']=a589_0xbde4aa[_0x3f31d2(0x20f)];if(_0x599080===a589_0x5506b7['CENTER'])writeTextToCanvasParameters[_0x3f31d2(0x241)]='middle';else _0x599080===a589_0x5506b7['TOP']?writeTextToCanvasParameters['textBaseline']=_0x3f31d2(0x22b):writeTextToCanvasParameters['textBaseline']='bottom';return writeTextToCanvasParameters['fill']=_0x1f1ff6===a589_0x4adb53[_0x3f31d2(0x213)]||_0x1f1ff6===a589_0x4adb53[_0x3f31d2(0x21f)],writeTextToCanvasParameters[_0x3f31d2(0x1bd)]=_0x1f1ff6===a589_0x4adb53['OUTLINE']||_0x1f1ff6===a589_0x4adb53['FILL_AND_OUTLINE'],writeTextToCanvasParameters[_0x3f31d2(0x1e1)]=a589_0xb80bb8[_0x3f31d2(0x20a)],a589_0x12c550(_0x24a617,writeTextToCanvasParameters);}function unbindGlyph(_0x380c86,_0x1744a6){var _0x3e77f0=a589_0x531237;_0x1744a6[_0x3e77f0(0x20c)]=undefined,_0x1744a6[_0x3e77f0(0x236)]=undefined;var _0x15f2a7=_0x1744a6['billboard'];a589_0x27c91b(_0x15f2a7)&&(_0x15f2a7[_0x3e77f0(0x1f1)]=![],_0x15f2a7[_0x3e77f0(0x1c9)]=undefined,a589_0x27c91b(_0x15f2a7[_0x3e77f0(0x1fa)])&&(_0x15f2a7[_0x3e77f0(0x1fa)](),_0x15f2a7[_0x3e77f0(0x1fa)]=undefined),_0x380c86[_0x3e77f0(0x1b0)][_0x3e77f0(0x1c7)](_0x15f2a7),_0x1744a6[_0x3e77f0(0x1e0)]=undefined);}function addGlyphToTextureAtlas(_0x2dee2d,_0x4ae498,_0x343c44,_0xc0edf9){var _0x525836=a589_0x531237;_0x2dee2d[_0x525836(0x231)](_0x4ae498,_0x343c44)[_0x525836(0x221)](function(_0x3c45aa){var _0x2be165=_0x525836;_0xc0edf9[_0x2be165(0x1b6)]=_0x3c45aa;});}var splitter=new a589_0x27dfd5();function a589_0x4391(_0x519c0a,_0x2f1235){var _0x5dc23f=a589_0x5dc2();return a589_0x4391=function(_0x439193,_0x5c9491){_0x439193=_0x439193-0x1b0;var _0x47e1a6=_0x5dc23f[_0x439193];return _0x47e1a6;},a589_0x4391(_0x519c0a,_0x2f1235);}function rebindAllGlyphs(_0x377cbc,_0x28993d){var _0xf4f9ee=a589_0x531237,_0x36a298=_0x28993d['_renderedText'],_0x48e867=splitter[_0xf4f9ee(0x1cb)](_0x36a298),_0x2db10b=_0x48e867[_0xf4f9ee(0x1b8)],_0xd8fac0=_0x28993d[_0xf4f9ee(0x224)],_0x5336af=_0xd8fac0['length'],_0x5a44b6,_0x824f1f,_0x37292e;_0x28993d[_0xf4f9ee(0x1b2)]=_0x28993d[_0xf4f9ee(0x1d0)]/a589_0xbde4aa['FONT_SIZE'];if(_0x2db10b<_0x5336af)for(_0x824f1f=_0x2db10b;_0x824f1f<_0x5336af;++_0x824f1f){unbindGlyph(_0x377cbc,_0xd8fac0[_0x824f1f]);}_0xd8fac0[_0xf4f9ee(0x1b8)]=_0x2db10b;var _0x5676de=_0x28993d['_showBackground']&&_0x36a298[_0xf4f9ee(0x216)]('\x0a')[_0xf4f9ee(0x1b1)]('')['length']>0x0,_0x4926bc=_0x28993d[_0xf4f9ee(0x1f3)],_0x332681=_0x377cbc[_0xf4f9ee(0x217)];!_0x5676de?a589_0x27c91b(_0x4926bc)&&(_0x332681['remove'](_0x4926bc),_0x28993d[_0xf4f9ee(0x1f3)]=_0x4926bc=undefined):(!a589_0x27c91b(_0x4926bc)&&(_0x4926bc=_0x332681[_0xf4f9ee(0x1c3)]({'collection':_0x377cbc,'image':whitePixelCanvasId,'imageSubRegion':whitePixelBoundingRegion}),_0x28993d[_0xf4f9ee(0x1f3)]=_0x4926bc),_0x4926bc['color']=_0x28993d['_backgroundColor'],_0x4926bc[_0xf4f9ee(0x1f1)]=_0x28993d[_0xf4f9ee(0x1b3)],_0x4926bc[_0xf4f9ee(0x215)]=_0x28993d[_0xf4f9ee(0x1f2)],_0x4926bc['eyeOffset']=_0x28993d[_0xf4f9ee(0x1d5)],_0x4926bc[_0xf4f9ee(0x218)]=_0x28993d[_0xf4f9ee(0x214)],_0x4926bc[_0xf4f9ee(0x1c4)]=a589_0x40d2b3[_0xf4f9ee(0x20e)],_0x4926bc['verticalOrigin']=_0x28993d['_verticalOrigin'],_0x4926bc[_0xf4f9ee(0x23b)]=_0x28993d[_0xf4f9ee(0x1fe)],_0x4926bc[_0xf4f9ee(0x1b9)]=_0x28993d[_0xf4f9ee(0x1d3)],_0x4926bc[_0xf4f9ee(0x1fc)]=_0x28993d,_0x4926bc['id']=_0x28993d[_0xf4f9ee(0x1ee)],_0x4926bc[_0xf4f9ee(0x21c)]=_0x28993d[_0xf4f9ee(0x1e5)],_0x4926bc[_0xf4f9ee(0x228)]=_0x28993d[_0xf4f9ee(0x1d1)],_0x4926bc[_0xf4f9ee(0x226)]=_0x28993d['_scaleByDistance'],_0x4926bc[_0xf4f9ee(0x1e4)]=_0x28993d[_0xf4f9ee(0x21d)],_0x4926bc[_0xf4f9ee(0x207)]=_0x28993d[_0xf4f9ee(0x20d)]);var _0x25be9c=_0x377cbc[_0xf4f9ee(0x239)];for(_0x37292e=0x0;_0x37292e<_0x2db10b;++_0x37292e){var _0x479ad7=_0x48e867[_0x37292e],_0x104242=_0x28993d[_0xf4f9ee(0x1b4)],_0x57cd16=JSON[_0xf4f9ee(0x200)]([_0x479ad7,_0x28993d['_fontFamily'],_0x28993d[_0xf4f9ee(0x23a)],_0x28993d[_0xf4f9ee(0x220)],+_0x104242]),_0x2956bb=_0x25be9c[_0x57cd16];if(!a589_0x27c91b(_0x2956bb)){var _0xebf4d6=_0x28993d['_fontStyle']+'\x20'+_0x28993d['_fontWeight']+'\x20'+a589_0xbde4aa[_0xf4f9ee(0x211)]+'px\x20'+_0x28993d[_0xf4f9ee(0x237)],_0x8732fb=createGlyphCanvas(_0x479ad7,_0xebf4d6,a589_0xb80bb8[_0xf4f9ee(0x206)],a589_0xb80bb8['WHITE'],0x0,a589_0x4adb53['FILL'],_0x104242);_0x2956bb=new GlyphTextureInfo(_0x377cbc,-0x1,_0x8732fb[_0xf4f9ee(0x236)]),_0x25be9c[_0x57cd16]=_0x2956bb;if(_0x8732fb[_0xf4f9ee(0x233)]>0x0&&_0x8732fb[_0xf4f9ee(0x22f)]>0x0){var _0x2047e2=a589_0x595f00(_0x8732fb,{'cutoff':a589_0xbde4aa['CUTOFF'],'radius':a589_0xbde4aa['RADIUS']}),_0x34f453=_0x8732fb[_0xf4f9ee(0x1da)]('2d'),_0x42d91f=_0x8732fb[_0xf4f9ee(0x233)],_0x224ee7=_0x8732fb[_0xf4f9ee(0x22f)],_0x37f08b=_0x34f453[_0xf4f9ee(0x1f5)](0x0,0x0,_0x42d91f,_0x224ee7);for(var _0x316b6f=0x0;_0x316b6f<_0x42d91f;_0x316b6f++){for(var _0x3095f3=0x0;_0x3095f3<_0x224ee7;_0x3095f3++){var _0x5db494=_0x3095f3*_0x42d91f+_0x316b6f,_0x5819b1=_0x2047e2[_0x5db494]*0xff,_0x3367b6=_0x5db494*0x4;_0x37f08b[_0xf4f9ee(0x22c)][_0x3367b6+0x0]=_0x5819b1,_0x37f08b[_0xf4f9ee(0x22c)][_0x3367b6+0x1]=_0x5819b1,_0x37f08b[_0xf4f9ee(0x22c)][_0x3367b6+0x2]=_0x5819b1,_0x37f08b[_0xf4f9ee(0x22c)][_0x3367b6+0x3]=_0x5819b1;}}_0x34f453[_0xf4f9ee(0x1d8)](_0x37f08b,0x0,0x0),_0x479ad7!=='\x20'&&addGlyphToTextureAtlas(_0x377cbc['_textureAtlas'],_0x57cd16,_0x8732fb,_0x2956bb);}}_0x5a44b6=_0xd8fac0[_0x37292e];if(a589_0x27c91b(_0x5a44b6)){if(_0x2956bb[_0xf4f9ee(0x1b6)]===-0x1)unbindGlyph(_0x377cbc,_0x5a44b6);else a589_0x27c91b(_0x5a44b6[_0xf4f9ee(0x20c)])&&(_0x5a44b6[_0xf4f9ee(0x20c)]=undefined);}else _0x5a44b6=new Glyph(),_0xd8fac0[_0x37292e]=_0x5a44b6;_0x5a44b6[_0xf4f9ee(0x20c)]=_0x2956bb,_0x5a44b6[_0xf4f9ee(0x236)]=_0x2956bb['dimensions'];if(_0x2956bb['index']!==-0x1){var _0x9b2b00=_0x5a44b6[_0xf4f9ee(0x1e0)],_0x52a23c=_0x377cbc[_0xf4f9ee(0x1b0)];!a589_0x27c91b(_0x9b2b00)&&(_0x52a23c[_0xf4f9ee(0x1b8)]>0x0?_0x9b2b00=_0x52a23c[_0xf4f9ee(0x204)]():(_0x9b2b00=_0x377cbc[_0xf4f9ee(0x1d6)][_0xf4f9ee(0x1c3)]({'collection':_0x377cbc}),_0x9b2b00[_0xf4f9ee(0x1e2)]=new a589_0x4f90d1(),_0x9b2b00[_0xf4f9ee(0x229)]=new a589_0x4f90d1()),_0x5a44b6[_0xf4f9ee(0x1e0)]=_0x9b2b00);_0x9b2b00[_0xf4f9ee(0x1f1)]=_0x28993d[_0xf4f9ee(0x1b3)],_0x9b2b00[_0xf4f9ee(0x215)]=_0x28993d[_0xf4f9ee(0x1f2)],_0x9b2b00[_0xf4f9ee(0x210)]=_0x28993d['_eyeOffset'],_0x9b2b00[_0xf4f9ee(0x218)]=_0x28993d['_pixelOffset'],_0x9b2b00[_0xf4f9ee(0x1c4)]=a589_0x40d2b3['LEFT'],_0x9b2b00[_0xf4f9ee(0x1df)]=_0x28993d['_verticalOrigin'],_0x9b2b00[_0xf4f9ee(0x23b)]=_0x28993d[_0xf4f9ee(0x1fe)],_0x9b2b00['scale']=_0x28993d['totalScale'],_0x9b2b00[_0xf4f9ee(0x1fc)]=_0x28993d,_0x9b2b00['id']=_0x28993d[_0xf4f9ee(0x1ee)],_0x9b2b00[_0xf4f9ee(0x1c9)]=_0x57cd16,_0x9b2b00['translucencyByDistance']=_0x28993d[_0xf4f9ee(0x1e5)],_0x9b2b00[_0xf4f9ee(0x228)]=_0x28993d[_0xf4f9ee(0x1d1)],_0x9b2b00[_0xf4f9ee(0x226)]=_0x28993d[_0xf4f9ee(0x1bf)],_0x9b2b00[_0xf4f9ee(0x1e4)]=_0x28993d['_distanceDisplayCondition'],_0x9b2b00['disableDepthTestDistance']=_0x28993d[_0xf4f9ee(0x20d)],_0x9b2b00['_batchIndex']=_0x28993d['_batchIndex'],_0x9b2b00['outlineColor']=_0x28993d['outlineColor'];if(_0x28993d[_0xf4f9ee(0x1bb)]===a589_0x4adb53[_0xf4f9ee(0x21f)])_0x9b2b00[_0xf4f9ee(0x209)]=_0x28993d[_0xf4f9ee(0x1eb)],_0x9b2b00['outlineWidth']=_0x28993d['outlineWidth'];else{if(_0x28993d[_0xf4f9ee(0x1bb)]===a589_0x4adb53[_0xf4f9ee(0x213)])_0x9b2b00['color']=_0x28993d[_0xf4f9ee(0x1eb)],_0x9b2b00[_0xf4f9ee(0x1cf)]=0x0;else _0x28993d['style']===a589_0x4adb53[_0xf4f9ee(0x21e)]&&(_0x9b2b00[_0xf4f9ee(0x209)]=a589_0xb80bb8[_0xf4f9ee(0x23e)],_0x9b2b00[_0xf4f9ee(0x1cf)]=_0x28993d['outlineWidth']);}}}_0x28993d['_repositionAllGlyphs']=!![];}function calculateWidthOffset(_0x53ec87,_0x4f821a,_0x384127){if(_0x4f821a===a589_0x40d2b3['CENTER'])return-_0x53ec87/0x2;else{if(_0x4f821a===a589_0x40d2b3['RIGHT'])return-(_0x53ec87+_0x384127['x']);}return _0x384127['x'];}var glyphPixelOffset=new a589_0x4f90d1(),scratchBackgroundPadding=new a589_0x4f90d1();function repositionAllGlyphs(_0x27d714){var _0x5bbf0e=a589_0x531237,_0x2f0ca2=_0x27d714[_0x5bbf0e(0x224)],_0x2e9f61=_0x27d714[_0x5bbf0e(0x1b5)],_0x5ed521,_0x47b5fc,_0x32e370=0x0,_0x577c96=0x0,_0x3af500=[],_0x1995f3=Number[_0x5bbf0e(0x222)],_0x5c74b1=0x0,_0x3a468b=0x1,_0x4c008a,_0x3ef93c=_0x2f0ca2[_0x5bbf0e(0x1b8)],_0x511e58=_0x27d714['_backgroundBillboard'],_0x1f8761=a589_0x4f90d1[_0x5bbf0e(0x240)](a589_0x27c91b(_0x511e58)?_0x27d714['_backgroundPadding']:a589_0x4f90d1['ZERO'],scratchBackgroundPadding);_0x1f8761['x']/=_0x27d714[_0x5bbf0e(0x1b2)],_0x1f8761['y']/=_0x27d714[_0x5bbf0e(0x1b2)];for(_0x4c008a=0x0;_0x4c008a<_0x3ef93c;++_0x4c008a){_0x2e9f61[_0x5bbf0e(0x1d7)](_0x4c008a)==='\x0a'?(_0x3af500[_0x5bbf0e(0x1c7)](_0x32e370),++_0x3a468b,_0x32e370=0x0):(_0x5ed521=_0x2f0ca2[_0x4c008a],_0x47b5fc=_0x5ed521[_0x5bbf0e(0x236)],_0x5c74b1=Math[_0x5bbf0e(0x22e)](_0x5c74b1,_0x47b5fc[_0x5bbf0e(0x22f)]-_0x47b5fc[_0x5bbf0e(0x227)]),_0x1995f3=Math['max'](_0x1995f3,_0x47b5fc[_0x5bbf0e(0x227)]),_0x32e370+=_0x47b5fc[_0x5bbf0e(0x233)]-_0x47b5fc[_0x5bbf0e(0x225)],_0x4c008a<_0x3ef93c-0x1&&(_0x32e370+=_0x2f0ca2[_0x4c008a+0x1][_0x5bbf0e(0x236)]['minx']),_0x577c96=Math[_0x5bbf0e(0x22e)](_0x577c96,_0x32e370));}_0x3af500[_0x5bbf0e(0x1c7)](_0x32e370);var _0x2f1d3a=_0x5c74b1+_0x1995f3,_0x110845=_0x27d714[_0x5bbf0e(0x1d3)],_0x560780=_0x27d714[_0x5bbf0e(0x1c1)],_0xa3b3b7=_0x27d714[_0x5bbf0e(0x1b4)],_0x5ae62b=0x0,_0x4c2a46=_0x3af500[_0x5ae62b],_0x7b6b13=calculateWidthOffset(_0x4c2a46,_0x560780,_0x1f8761),_0xacc506=(a589_0x27c91b(_0x27d714[_0x5bbf0e(0x1e8)])?_0x27d714[_0x5bbf0e(0x1e8)]:defaultLineSpacingPercent*_0x27d714[_0x5bbf0e(0x1d0)])/_0x27d714[_0x5bbf0e(0x1b2)],_0x57e95d=_0xacc506*(_0x3a468b-0x1),_0x1cb0f5=_0x577c96,_0xffbe26=_0x2f1d3a+_0x57e95d;a589_0x27c91b(_0x511e58)&&(_0x1cb0f5+=_0x1f8761['x']*0x2,_0xffbe26+=_0x1f8761['y']*0x2,_0x511e58[_0x5bbf0e(0x1d2)]=_0x560780);glyphPixelOffset['x']=_0x7b6b13*_0x110845,glyphPixelOffset['y']=0x0;var _0x108ea3=!![],_0xbfcb37=0x0;for(_0x4c008a=0x0;_0x4c008a<_0x3ef93c;++_0x4c008a){if(_0x2e9f61[_0x5bbf0e(0x1d7)](_0x4c008a)==='\x0a')++_0x5ae62b,_0xbfcb37+=_0xacc506,_0x4c2a46=_0x3af500[_0x5ae62b],_0x7b6b13=calculateWidthOffset(_0x4c2a46,_0x560780,_0x1f8761),glyphPixelOffset['x']=_0x7b6b13*_0x110845,_0x108ea3=!![];else{_0x5ed521=_0x2f0ca2[_0x4c008a],_0x47b5fc=_0x5ed521[_0x5bbf0e(0x236)];if(_0xa3b3b7===a589_0x5506b7['TOP'])glyphPixelOffset['y']=_0x47b5fc['height']-_0x5c74b1-_0x1f8761['y'],glyphPixelOffset['y']+=a589_0xbde4aa[_0x5bbf0e(0x20f)];else{if(_0xa3b3b7===a589_0x5506b7['CENTER'])glyphPixelOffset['y']=(_0x57e95d+_0x47b5fc['height']-_0x5c74b1)/0x2;else _0xa3b3b7===a589_0x5506b7[_0x5bbf0e(0x1cd)]?(glyphPixelOffset['y']=_0x57e95d,glyphPixelOffset['y']-=a589_0xbde4aa['PADDING']):(glyphPixelOffset['y']=_0x57e95d+_0x1995f3+_0x1f8761['y'],glyphPixelOffset['y']-=a589_0xbde4aa[_0x5bbf0e(0x20f)]);}glyphPixelOffset['y']=(glyphPixelOffset['y']-_0x47b5fc[_0x5bbf0e(0x227)]-_0xbfcb37)*_0x110845;_0x108ea3&&(glyphPixelOffset['x']-=a589_0xbde4aa['PADDING']*_0x110845,_0x108ea3=![]);a589_0x27c91b(_0x5ed521[_0x5bbf0e(0x1e0)])&&(_0x5ed521[_0x5bbf0e(0x1e0)]['_setTranslate'](glyphPixelOffset),_0x5ed521[_0x5bbf0e(0x1e0)]['_labelDimensions']['x']=_0x1cb0f5,_0x5ed521[_0x5bbf0e(0x1e0)][_0x5bbf0e(0x1e2)]['y']=_0xffbe26,_0x5ed521[_0x5bbf0e(0x1e0)][_0x5bbf0e(0x1d2)]=_0x560780);if(_0x4c008a<_0x3ef93c-0x1){var _0x573531=_0x2f0ca2[_0x4c008a+0x1];glyphPixelOffset['x']+=(_0x47b5fc['width']-_0x47b5fc['minx']+_0x573531['dimensions'][_0x5bbf0e(0x225)])*_0x110845;}}}if(a589_0x27c91b(_0x511e58)&&_0x2e9f61[_0x5bbf0e(0x216)]('\x0a')[_0x5bbf0e(0x1b1)]('')[_0x5bbf0e(0x1b8)]>0x0){if(_0x560780===a589_0x40d2b3['CENTER'])_0x7b6b13=-_0x577c96/0x2-_0x1f8761['x'];else _0x560780===a589_0x40d2b3['RIGHT']?_0x7b6b13=-(_0x577c96+_0x1f8761['x']*0x2):_0x7b6b13=0x0;glyphPixelOffset['x']=_0x7b6b13*_0x110845;if(_0xa3b3b7===a589_0x5506b7[_0x5bbf0e(0x1ec)])glyphPixelOffset['y']=_0x2f1d3a-_0x5c74b1-_0x1995f3;else{if(_0xa3b3b7===a589_0x5506b7[_0x5bbf0e(0x1c5)])glyphPixelOffset['y']=(_0x2f1d3a-_0x5c74b1)/0x2-_0x1995f3;else _0xa3b3b7===a589_0x5506b7[_0x5bbf0e(0x1cd)]?glyphPixelOffset['y']=-_0x1f8761['y']-_0x1995f3:glyphPixelOffset['y']=0x0;}glyphPixelOffset['y']=glyphPixelOffset['y']*_0x110845,_0x511e58[_0x5bbf0e(0x233)]=_0x1cb0f5,_0x511e58['height']=_0xffbe26,_0x511e58[_0x5bbf0e(0x1ed)](glyphPixelOffset),_0x511e58[_0x5bbf0e(0x229)]=a589_0x4f90d1[_0x5bbf0e(0x240)](glyphPixelOffset,_0x511e58[_0x5bbf0e(0x229)]);}if(_0x27d714[_0x5bbf0e(0x23b)]===a589_0x282d38[_0x5bbf0e(0x1ef)])for(_0x4c008a=0x0;_0x4c008a<_0x3ef93c;++_0x4c008a){_0x5ed521=_0x2f0ca2[_0x4c008a];var _0x153959=_0x5ed521[_0x5bbf0e(0x1e0)];a589_0x27c91b(_0x153959)&&(_0x153959[_0x5bbf0e(0x229)]=a589_0x4f90d1[_0x5bbf0e(0x240)](glyphPixelOffset,_0x153959[_0x5bbf0e(0x229)]));}}function destroyLabel(_0x39d2b4,_0x2696fa){var _0x705bd2=a589_0x531237,_0x1cbfb5=_0x2696fa['_glyphs'];for(var _0x4cfc0c=0x0,_0x5c5900=_0x1cbfb5[_0x705bd2(0x1b8)];_0x4cfc0c<_0x5c5900;++_0x4cfc0c){unbindGlyph(_0x39d2b4,_0x1cbfb5[_0x4cfc0c]);}a589_0x27c91b(_0x2696fa[_0x705bd2(0x1f3)])&&(_0x39d2b4[_0x705bd2(0x217)][_0x705bd2(0x1e7)](_0x2696fa[_0x705bd2(0x1f3)]),_0x2696fa['_backgroundBillboard']=undefined),_0x2696fa['_labelCollection']=undefined,a589_0x27c91b(_0x2696fa['_removeCallbackFunc'])&&_0x2696fa[_0x705bd2(0x1fa)](),a589_0x349749(_0x2696fa);}function LabelCollection(_0x1bc868){var _0xcc19fb=a589_0x531237;_0x1bc868=a589_0x57fb7a(_0x1bc868,a589_0x57fb7a[_0xcc19fb(0x232)]),this['_scene']=_0x1bc868[_0xcc19fb(0x1e9)],this[_0xcc19fb(0x1e6)]=_0x1bc868[_0xcc19fb(0x1f4)],this[_0xcc19fb(0x23d)]=undefined,this[_0xcc19fb(0x1f9)]=undefined,this[_0xcc19fb(0x1de)]=undefined,this[_0xcc19fb(0x217)]=new a589_0xf2ddc8({'scene':this[_0xcc19fb(0x202)]}),this[_0xcc19fb(0x217)][_0xcc19fb(0x22d)]=![],this[_0xcc19fb(0x1d6)]=new a589_0xf2ddc8({'scene':this[_0xcc19fb(0x202)],'batchTable':this[_0xcc19fb(0x1e6)]}),this[_0xcc19fb(0x1d6)]['destroyTextureAtlas']=![],this['_billboardCollection']['_sdf']=!![],this[_0xcc19fb(0x1b0)]=[],this[_0xcc19fb(0x239)]={},this[_0xcc19fb(0x1db)]=[],this['_labelsToUpdate']=[],this[_0xcc19fb(0x1c6)]=0x0,this['_highlightColor']=a589_0xb80bb8['clone'](a589_0xb80bb8['WHITE']),this[_0xcc19fb(0x1f1)]=a589_0x57fb7a(_0x1bc868['show'],!![]),this['modelMatrix']=a589_0x15e458[_0xcc19fb(0x240)](a589_0x57fb7a(_0x1bc868[_0xcc19fb(0x1f0)],a589_0x15e458[_0xcc19fb(0x1b7)])),this[_0xcc19fb(0x1f6)]=a589_0x57fb7a(_0x1bc868['debugShowBoundingVolume'],![]),this[_0xcc19fb(0x212)]=a589_0x57fb7a(_0x1bc868[_0xcc19fb(0x212)],a589_0x18d188[_0xcc19fb(0x22a)]);}Object[a589_0x531237(0x1ca)](LabelCollection[a589_0x531237(0x1ce)],{'length':{'get':function(){return this['_labels']['length'];}}}),LabelCollection[a589_0x531237(0x1ce)][a589_0x531237(0x1c3)]=function(_0x29c938){var _0x27e938=a589_0x531237,_0x6801a4=new a589_0x1bf93f(_0x29c938,this);return this[_0x27e938(0x1db)]['push'](_0x6801a4),this['_labelsToUpdate'][_0x27e938(0x1c7)](_0x6801a4),_0x6801a4;},LabelCollection[a589_0x531237(0x1ce)][a589_0x531237(0x1e7)]=function(_0x3aa57e){var _0x3b2f23=a589_0x531237;if(a589_0x27c91b(_0x3aa57e)&&_0x3aa57e[_0x3b2f23(0x203)]===this){var _0x1bf103=this[_0x3b2f23(0x1db)][_0x3b2f23(0x234)](_0x3aa57e);if(_0x1bf103!==-0x1)return this[_0x3b2f23(0x1db)][_0x3b2f23(0x1d9)](_0x1bf103,0x1),destroyLabel(this,_0x3aa57e),!![];}return![];},LabelCollection[a589_0x531237(0x1ce)][a589_0x531237(0x1c0)]=function(){var _0xe93263=a589_0x531237,_0x2b8ba7=this[_0xe93263(0x1db)];for(var _0x3df83a=0x0,_0x57e6ed=_0x2b8ba7[_0xe93263(0x1b8)];_0x3df83a<_0x57e6ed;++_0x3df83a){destroyLabel(this,_0x2b8ba7[_0x3df83a]);}_0x2b8ba7[_0xe93263(0x1b8)]=0x0;},LabelCollection[a589_0x531237(0x1ce)]['contains']=function(_0x40f3a7){return a589_0x27c91b(_0x40f3a7)&&_0x40f3a7['_labelCollection']===this;},LabelCollection[a589_0x531237(0x1ce)][a589_0x531237(0x1f7)]=function(_0x5bbb52){var _0x4df29e=a589_0x531237;if(!a589_0x27c91b(_0x5bbb52))throw new a589_0x340dd1('index\x20is\x20required.');return this[_0x4df29e(0x1db)][_0x5bbb52];},LabelCollection[a589_0x531237(0x1ce)]['update']=function(_0x2fb356){var _0x3f2748=a589_0x531237;if(!this[_0x3f2748(0x1f1)])return;var _0x19fa73=this[_0x3f2748(0x1d6)],_0x4473d8=this[_0x3f2748(0x217)];_0x19fa73[_0x3f2748(0x1f0)]=this[_0x3f2748(0x1f0)],_0x19fa73[_0x3f2748(0x1f6)]=this['debugShowBoundingVolume'],_0x4473d8['modelMatrix']=this[_0x3f2748(0x1f0)],_0x4473d8[_0x3f2748(0x1f6)]=this[_0x3f2748(0x1f6)];var _0x5b8bcf=_0x2fb356[_0x3f2748(0x230)];!a589_0x27c91b(this[_0x3f2748(0x23d)])&&(this[_0x3f2748(0x23d)]=new a589_0x38c952({'context':_0x5b8bcf}),_0x19fa73[_0x3f2748(0x1bc)]=this[_0x3f2748(0x23d)]);!a589_0x27c91b(this[_0x3f2748(0x1f9)])&&(this['_backgroundTextureAtlas']=new a589_0x38c952({'context':_0x5b8bcf,'initialSize':whitePixelSize}),_0x4473d8[_0x3f2748(0x1bc)]=this[_0x3f2748(0x1f9)],addWhitePixelCanvas(this[_0x3f2748(0x1f9)],this));var _0x51cf39=this[_0x3f2748(0x219)][_0x3f2748(0x1b8)];for(var _0x2f2f97=0x0;_0x2f2f97<_0x51cf39;++_0x2f2f97){var _0x270a30=this[_0x3f2748(0x219)][_0x2f2f97];if(_0x270a30[_0x3f2748(0x235)]())continue;var _0x49fdc7=_0x270a30[_0x3f2748(0x224)][_0x3f2748(0x1b8)];_0x270a30[_0x3f2748(0x223)]&&(rebindAllGlyphs(this,_0x270a30),_0x270a30['_rebindAllGlyphs']=![]);_0x270a30[_0x3f2748(0x1fb)]&&(repositionAllGlyphs(_0x270a30),_0x270a30[_0x3f2748(0x1fb)]=![]);var _0x576f39=_0x270a30['_glyphs']['length']-_0x49fdc7;this[_0x3f2748(0x1c6)]+=_0x576f39;}var _0x5c39d7=_0x4473d8[_0x3f2748(0x1b8)]>0x0?a589_0x18d188[_0x3f2748(0x1ba)]:this[_0x3f2748(0x212)];_0x19fa73[_0x3f2748(0x212)]=_0x5c39d7,_0x4473d8[_0x3f2748(0x212)]=_0x5c39d7,_0x19fa73[_0x3f2748(0x205)]=this[_0x3f2748(0x205)],_0x4473d8[_0x3f2748(0x205)]=this['_highlightColor'],this[_0x3f2748(0x219)][_0x3f2748(0x1b8)]=0x0,_0x4473d8[_0x3f2748(0x23f)](_0x2fb356),_0x19fa73[_0x3f2748(0x23f)](_0x2fb356);},LabelCollection[a589_0x531237(0x1ce)][a589_0x531237(0x235)]=function(){return![];},LabelCollection[a589_0x531237(0x1ce)][a589_0x531237(0x1dd)]=function(){var _0x1ad139=a589_0x531237;return this[_0x1ad139(0x1c0)](),this[_0x1ad139(0x1d6)]=this['_billboardCollection'][_0x1ad139(0x1dd)](),this[_0x1ad139(0x23d)]=this['_textureAtlas']&&this['_textureAtlas'][_0x1ad139(0x1dd)](),this[_0x1ad139(0x217)]=this[_0x1ad139(0x217)]['destroy'](),this[_0x1ad139(0x1f9)]=this[_0x1ad139(0x1f9)]&&this[_0x1ad139(0x1f9)][_0x1ad139(0x1dd)](),a589_0x349749(this);};export default LabelCollection;