var a426_0x396476=a426_0x1ac0;(function(_0x3cb4a5,_0x4c8e0c){var _0x5d9695=a426_0x1ac0,_0x332356=_0x3cb4a5();while(!![]){try{var _0x11ec19=parseInt(_0x5d9695(0x84))/0x1+parseInt(_0x5d9695(0x96))/0x2+-parseInt(_0x5d9695(0x87))/0x3+parseInt(_0x5d9695(0xab))/0x4*(parseInt(_0x5d9695(0xae))/0x5)+-parseInt(_0x5d9695(0xa3))/0x6+parseInt(_0x5d9695(0x8c))/0x7*(parseInt(_0x5d9695(0x8b))/0x8)+parseInt(_0x5d9695(0xa1))/0x9;if(_0x11ec19===_0x4c8e0c)break;else _0x332356['push'](_0x332356['shift']());}catch(_0x2a02c0){_0x332356['push'](_0x332356['shift']());}}}(a426_0x4373,0xb0e8d));import a426_0x316bd8 from'../Core/arrayFill.js';import a426_0x589bf3 from'../Core/Cartesian2.js';import a426_0x15421f from'../Core/Cartesian4.js';import a426_0x85f00e from'../Core/Check.js';import a426_0x21905e from'../Core/Color.js';import a426_0x50ce21 from'../Core/defined.js';import a426_0x588c3d from'../Core/destroyObject.js';import a426_0x2b3d44 from'../Core/DeveloperError.js';import a426_0x19fc49 from'../Core/PixelFormat.js';import a426_0x128eea from'../Renderer/ContextLimits.js';import a426_0x21ac18 from'../Renderer/PixelDatatype.js';import a426_0x337b70 from'../Renderer/Sampler.js';import a426_0x5f10ca from'../Renderer/Texture.js';export default function BatchTexture(_0x5e6787){var _0x150909=a426_0x1ac0;a426_0x85f00e[_0x150909(0xa6)][_0x150909(0xa0)](_0x150909(0xb6),_0x5e6787[_0x150909(0x7c)]),a426_0x85f00e['typeOf'][_0x150909(0x8e)](_0x150909(0x9c),_0x5e6787[_0x150909(0xbb)]);var _0x3f8286=_0x5e6787[_0x150909(0x7c)];this[_0x150909(0xa9)]=undefined,this[_0x150909(0xb2)]=undefined,this[_0x150909(0x7b)]=![],this[_0x150909(0x94)]=undefined,this['_defaultTexture']=undefined,this[_0x150909(0xb0)]=undefined,this['_pickIds']=[];var _0x1f5414,_0x52c2b7;if(_0x3f8286>0x0){var _0x24cab3=Math[_0x150909(0x8d)](_0x3f8286,a426_0x128eea[_0x150909(0x82)]),_0x4c50dc=Math[_0x150909(0x9e)](_0x3f8286/a426_0x128eea[_0x150909(0x82)]),_0x627356=0x1/_0x24cab3,_0x19053e=_0x627356*0.5,_0x50c7c0=0x1/_0x4c50dc,_0x2b95d2=_0x50c7c0*0.5;_0x1f5414=new a426_0x589bf3(_0x24cab3,_0x4c50dc),_0x52c2b7=new a426_0x15421f(_0x627356,_0x19053e,_0x50c7c0,_0x2b95d2);}this[_0x150909(0x93)]=0x0,this[_0x150909(0xbd)]=_0x3f8286,this[_0x150909(0x89)]=_0x1f5414,this['_textureStep']=_0x52c2b7,this[_0x150909(0xc0)]=_0x5e6787[_0x150909(0xbb)],this[_0x150909(0x97)]=_0x5e6787[_0x150909(0xa5)],this['_colorChangedCallback']=_0x5e6787['colorChangedCallback'];}Object[a426_0x396476(0xa7)](BatchTexture[a426_0x396476(0xaf)],{'translucentFeaturesLength':{'get':function(){var _0x13d0d1=a426_0x396476;return this[_0x13d0d1(0x93)];}},'memorySizeInBytes':{'get':function(){var _0x4d888b=a426_0x396476,_0x362b12=0x0;return a426_0x50ce21(this[_0x4d888b(0xb0)])&&(_0x362b12+=this['_pickTexture'][_0x4d888b(0x9f)]),a426_0x50ce21(this['_batchTexture'])&&(_0x362b12+=this[_0x4d888b(0x94)][_0x4d888b(0x9f)]),_0x362b12;}},'textureDimensions':{'get':function(){var _0x248c1e=a426_0x396476;return this[_0x248c1e(0x89)];}},'textureStep':{'get':function(){var _0x2b61f5=a426_0x396476;return this[_0x2b61f5(0x99)];}},'batchTexture':{'get':function(){var _0x2de150=a426_0x396476;return this[_0x2de150(0x94)];}},'defaultTexture':{'get':function(){var _0x1e08f6=a426_0x396476;return this[_0x1e08f6(0xa8)];}},'pickTexture':{'get':function(){return this['_pickTexture'];}}}),BatchTexture[a426_0x396476(0xc1)]=a426_0x21905e['WHITE'],BatchTexture[a426_0x396476(0xa4)]=!![];function getByteLength(_0x166cc9){var _0x3a572b=_0x166cc9['_textureDimensions'];return _0x3a572b['x']*_0x3a572b['y']*0x4;}function getBatchValues(_0x4eb5f6){var _0x3bd983=a426_0x396476;if(!a426_0x50ce21(_0x4eb5f6[_0x3bd983(0xb2)])){var _0x340630=getByteLength(_0x4eb5f6),_0x157f8c=new Uint8Array(_0x340630);a426_0x316bd8(_0x157f8c,0xff),_0x4eb5f6[_0x3bd983(0xb2)]=_0x157f8c;}return _0x4eb5f6[_0x3bd983(0xb2)];}function getShowAlphaProperties(_0x4c8715){var _0x4bd8b3=a426_0x396476;if(!a426_0x50ce21(_0x4c8715[_0x4bd8b3(0xa9)])){var _0x9901=0x2*_0x4c8715[_0x4bd8b3(0xbd)],_0xe9ce95=new Uint8Array(_0x9901);a426_0x316bd8(_0xe9ce95,0xff),_0x4c8715['_showAlphaProperties']=_0xe9ce95;}return _0x4c8715[_0x4bd8b3(0xa9)];}function checkBatchId(_0x5f5647,_0x16bcb8){if(!a426_0x50ce21(_0x5f5647)||_0x5f5647<0x0||_0x5f5647>=_0x16bcb8)throw new a426_0x2b3d44('batchId\x20is\x20required\x20and\x20between\x20zero\x20and\x20featuresLength\x20-\x201\x20('+_0x16bcb8-+').');}BatchTexture['prototype'][a426_0x396476(0x83)]=function(_0x145b1e,_0xbb9ec){var _0x251fde=a426_0x396476;checkBatchId(_0x145b1e,this[_0x251fde(0xbd)]),a426_0x85f00e['typeOf'][_0x251fde(0x91)](_0x251fde(0x80),_0xbb9ec);if(_0xbb9ec&&!a426_0x50ce21(this[_0x251fde(0xa9)]))return;var _0x5d9c80=getShowAlphaProperties(this),_0x2e5d41=_0x145b1e*0x2,_0x4177f6=_0xbb9ec?0xff:0x0;if(_0x5d9c80[_0x2e5d41]!==_0x4177f6){_0x5d9c80[_0x2e5d41]=_0x4177f6;var _0x26943f=getBatchValues(this),_0x1ceb11=_0x145b1e*0x4+0x3;_0x26943f[_0x1ceb11]=_0xbb9ec?_0x5d9c80[_0x2e5d41+0x1]:0x0,this[_0x251fde(0x7b)]=!![];}},BatchTexture[a426_0x396476(0xaf)][a426_0x396476(0x98)]=function(_0x99d78){var _0x5721ce=a426_0x396476;a426_0x85f00e[_0x5721ce(0xa6)][_0x5721ce(0x91)]('show',_0x99d78);var _0x2e5d2e=this[_0x5721ce(0xbd)];for(var _0x4466bc=0x0;_0x4466bc<_0x2e5d2e;++_0x4466bc){this[_0x5721ce(0x83)](_0x4466bc,_0x99d78);}},BatchTexture['prototype'][a426_0x396476(0x81)]=function(_0xbde421){var _0x56f154=a426_0x396476;checkBatchId(_0xbde421,this[_0x56f154(0xbd)]);if(!a426_0x50ce21(this[_0x56f154(0xa9)]))return!![];var _0x50626d=_0xbde421*0x2;return this[_0x56f154(0xa9)][_0x50626d]===0xff;};var scratchColorBytes=new Array(0x4);BatchTexture[a426_0x396476(0xaf)][a426_0x396476(0x9b)]=function(_0x1f0609,_0x1d8a80){var _0x482d78=a426_0x396476;checkBatchId(_0x1f0609,this['_featuresLength']),a426_0x85f00e['typeOf'][_0x482d78(0x8e)](_0x482d78(0x95),_0x1d8a80);if(a426_0x21905e['equals'](_0x1d8a80,BatchTexture[_0x482d78(0xc1)])&&!a426_0x50ce21(this[_0x482d78(0xb2)]))return;var _0x23b75f=_0x1d8a80[_0x482d78(0xb5)](scratchColorBytes),_0x8b99b8=_0x23b75f[0x3],_0xb335ed=getBatchValues(this),_0x1c5847=_0x1f0609*0x4,_0x2082ec=getShowAlphaProperties(this),_0xea71c4=_0x1f0609*0x2;if(_0xb335ed[_0x1c5847]!==_0x23b75f[0x0]||_0xb335ed[_0x1c5847+0x1]!==_0x23b75f[0x1]||_0xb335ed[_0x1c5847+0x2]!==_0x23b75f[0x2]||_0x2082ec[_0xea71c4+0x1]!==_0x8b99b8){_0xb335ed[_0x1c5847]=_0x23b75f[0x0],_0xb335ed[_0x1c5847+0x1]=_0x23b75f[0x1],_0xb335ed[_0x1c5847+0x2]=_0x23b75f[0x2];var _0x448ff2=_0x2082ec[_0xea71c4+0x1]!==0xff,_0x444e77=_0x2082ec[_0xea71c4]!==0x0;_0xb335ed[_0x1c5847+0x3]=_0x444e77?_0x8b99b8:0x0,_0x2082ec[_0xea71c4+0x1]=_0x8b99b8;var _0x32041c=_0x8b99b8!==0xff;if(_0x32041c&&!_0x448ff2)++this[_0x482d78(0x93)];else!_0x32041c&&_0x448ff2&&--this[_0x482d78(0x93)];this[_0x482d78(0x7b)]=!![],a426_0x50ce21(this[_0x482d78(0xad)])&&this[_0x482d78(0xad)](_0x1f0609,_0x1d8a80);}},BatchTexture[a426_0x396476(0xaf)][a426_0x396476(0xa2)]=function(_0x14295c){var _0x328a97=a426_0x396476;a426_0x85f00e['typeOf'][_0x328a97(0x8e)]('color',_0x14295c);var _0xf4de4f=this['_featuresLength'];for(var _0x25bf3f=0x0;_0x25bf3f<_0xf4de4f;++_0x25bf3f){this[_0x328a97(0x9b)](_0x25bf3f,_0x14295c);}},BatchTexture['prototype']['getColor']=function(_0x139c04,_0x1a1734){var _0x3e498e=a426_0x396476;checkBatchId(_0x139c04,this[_0x3e498e(0xbd)]),a426_0x85f00e['typeOf'][_0x3e498e(0x8e)](_0x3e498e(0xbf),_0x1a1734);if(!a426_0x50ce21(this['_batchValues']))return a426_0x21905e[_0x3e498e(0xb3)](BatchTexture[_0x3e498e(0xc1)],_0x1a1734);var _0x5a3b07=this[_0x3e498e(0xb2)],_0x447c01=_0x139c04*0x4,_0x2dc6e0=this['_showAlphaProperties'],_0x1a4acd=_0x139c04*0x2;return a426_0x21905e['fromBytes'](_0x5a3b07[_0x447c01],_0x5a3b07[_0x447c01+0x1],_0x5a3b07[_0x447c01+0x2],_0x2dc6e0[_0x1a4acd+0x1],_0x1a1734);},BatchTexture[a426_0x396476(0xaf)][a426_0x396476(0xba)]=function(_0xd332b1){var _0x460a0c=a426_0x396476;return checkBatchId(_0xd332b1,this[_0x460a0c(0xbd)]),this[_0x460a0c(0x9a)][_0xd332b1];};function createTexture(_0x5ecd75,_0x4c36bd,_0x172142){var _0x703a44=a426_0x396476,_0x52337d=_0x5ecd75['_textureDimensions'];return new a426_0x5f10ca({'context':_0x4c36bd,'pixelFormat':a426_0x19fc49['RGBA'],'pixelDatatype':a426_0x21ac18[_0x703a44(0xbc)],'source':{'width':_0x52337d['x'],'height':_0x52337d['y'],'arrayBufferView':_0x172142},'flipY':![],'sampler':a426_0x337b70[_0x703a44(0xb4)]});}function createPickTexture(_0x5f4f4d,_0x33c90f){var _0x46d1f1=a426_0x396476,_0x379f14=_0x5f4f4d[_0x46d1f1(0xbd)];if(!a426_0x50ce21(_0x5f4f4d[_0x46d1f1(0xb0)])&&_0x379f14>0x0){var _0x24a61d=_0x5f4f4d[_0x46d1f1(0x9a)],_0x139201=getByteLength(_0x5f4f4d),_0x2f1a9a=new Uint8Array(_0x139201),_0x180b4a=_0x5f4f4d[_0x46d1f1(0xc0)],_0x410966=_0x5f4f4d[_0x46d1f1(0x97)];for(var _0x39999b=0x0;_0x39999b<_0x379f14;++_0x39999b){var _0x123ed3=_0x33c90f['createPickId'](_0x180b4a[_0x46d1f1(0x8f)](_0x39999b));_0x24a61d[_0x46d1f1(0xbe)](_0x123ed3);var _0x46389d=_0x123ed3[_0x46d1f1(0x95)],_0x15cb31=_0x39999b*0x4;_0x2f1a9a[_0x15cb31]=a426_0x21905e[_0x46d1f1(0x7d)](_0x46389d[_0x46d1f1(0xaa)]),_0x2f1a9a[_0x15cb31+0x1]=a426_0x21905e[_0x46d1f1(0x7d)](_0x46389d[_0x46d1f1(0x85)]),_0x2f1a9a[_0x15cb31+0x2]=a426_0x21905e['floatToByte'](_0x46389d[_0x46d1f1(0x8a)]),_0x2f1a9a[_0x15cb31+0x3]=a426_0x21905e[_0x46d1f1(0x7d)](_0x46389d[_0x46d1f1(0x7f)]);}_0x5f4f4d[_0x46d1f1(0xb0)]=createTexture(_0x5f4f4d,_0x33c90f,_0x2f1a9a),a426_0x50ce21(_0x410966)&&(_0x410966[_0x46d1f1(0xb9)]+=_0x5f4f4d[_0x46d1f1(0xb0)]['sizeInBytes']);}}function a426_0x1ac0(_0x2cf7a4,_0x37f0f7){var _0x4373a7=a426_0x4373();return a426_0x1ac0=function(_0x1ac0c0,_0x582f29){_0x1ac0c0=_0x1ac0c0-0x7b;var _0x360064=_0x4373a7[_0x1ac0c0];return _0x360064;},a426_0x1ac0(_0x2cf7a4,_0x37f0f7);}function a426_0x4373(){var _0x37c0c5=['prototype','_pickTexture','postProcess','_batchValues','clone','NEAREST','toBytes','options.featuresLength','defaultTexture','context','batchTableByteLength','getPickColor','owner','UNSIGNED_BYTE','_featuresLength','push','result','_owner','DEFAULT_COLOR_VALUE','_batchValuesDirty','featuresLength','floatToByte','update','alpha','show','getShow','maximumTextureSize','setShow','903621pUDfuW','green','destroy','4013928DvnEME','pick','_textureDimensions','blue','1832LxcnkX','11942EfaffA','min','object','getFeature','copyFrom','bool','length','_translucentFeaturesLength','_batchTexture','color','2365334CLuxkO','_statistics','setAllShow','_textureStep','_pickIds','setColor','options.owner','passes','ceil','sizeInBytes','number','1719054DFBZFp','setAllColor','5439264nxiomr','DEFAULT_SHOW_VALUE','statistics','typeOf','defineProperties','_defaultTexture','_showAlphaProperties','red','12OZBBhw','isDestroyed','_colorChangedCallback','501955xdKGhK'];a426_0x4373=function(){return _0x37c0c5;};return a426_0x4373();}function updateBatchTexture(_0x5623d7){var _0x4c6f53=a426_0x396476,_0x45f12b=_0x5623d7[_0x4c6f53(0x89)];_0x5623d7[_0x4c6f53(0x94)][_0x4c6f53(0x90)]({'source':{'width':_0x45f12b['x'],'height':_0x45f12b['y'],'arrayBufferView':_0x5623d7[_0x4c6f53(0xb2)]}});}BatchTexture['prototype'][a426_0x396476(0x7e)]=function(_0x23b633,_0x3eb231){var _0x4c0f9e=a426_0x396476,_0x14fc48=_0x3eb231[_0x4c0f9e(0xb8)];this[_0x4c0f9e(0xa8)]=_0x14fc48[_0x4c0f9e(0xb7)];var _0x4b4aa8=_0x3eb231[_0x4c0f9e(0x9d)];(_0x4b4aa8[_0x4c0f9e(0x88)]||_0x4b4aa8[_0x4c0f9e(0xb1)])&&createPickTexture(this,_0x14fc48),this['_batchValuesDirty']&&(this[_0x4c0f9e(0x7b)]=![],!a426_0x50ce21(this[_0x4c0f9e(0x94)])&&(this[_0x4c0f9e(0x94)]=createTexture(this,_0x14fc48,this[_0x4c0f9e(0xb2)]),a426_0x50ce21(this[_0x4c0f9e(0x97)])&&(this[_0x4c0f9e(0x97)][_0x4c0f9e(0xb9)]+=this[_0x4c0f9e(0x94)][_0x4c0f9e(0x9f)])),updateBatchTexture(this));},BatchTexture[a426_0x396476(0xaf)][a426_0x396476(0xac)]=function(){return![];},BatchTexture[a426_0x396476(0xaf)][a426_0x396476(0x86)]=function(){var _0x72353e=a426_0x396476;this[_0x72353e(0x94)]=this[_0x72353e(0x94)]&&this[_0x72353e(0x94)][_0x72353e(0x86)](),this[_0x72353e(0xb0)]=this[_0x72353e(0xb0)]&&this[_0x72353e(0xb0)][_0x72353e(0x86)]();var _0x53b592=this[_0x72353e(0x9a)],_0x3ce8a9=_0x53b592[_0x72353e(0x92)];for(var _0x1421f5=0x0;_0x1421f5<_0x3ce8a9;++_0x1421f5){_0x53b592[_0x1421f5][_0x72353e(0x86)]();}return a426_0x588c3d(this);};