var a690_0x32047f=a690_0x484d;(function(_0xf07dad,_0x4056ca){var _0x311366=a690_0x484d,_0x16993a=_0xf07dad();while(!![]){try{var _0x20c670=parseInt(_0x311366(0x17b))/0x1*(-parseInt(_0x311366(0x141))/0x2)+parseInt(_0x311366(0x12a))/0x3+parseInt(_0x311366(0x129))/0x4*(-parseInt(_0x311366(0x120))/0x5)+-parseInt(_0x311366(0x139))/0x6*(parseInt(_0x311366(0x131))/0x7)+-parseInt(_0x311366(0x126))/0x8*(parseInt(_0x311366(0x15d))/0x9)+parseInt(_0x311366(0x168))/0xa+parseInt(_0x311366(0x17d))/0xb;if(_0x20c670===_0x4056ca)break;else _0x16993a['push'](_0x16993a['shift']());}catch(_0x185652){_0x16993a['push'](_0x16993a['shift']());}}}(a690_0x3059,0x4d9ba));import a690_0x14ae81 from'../Core/BoundingRectangle.js';import a690_0x17d97b from'../Core/Check.js';import a690_0x4ff1ea from'../Core/Color.js';function a690_0x3059(){var _0xfbb745=['_isSupported','equals','_uniforms','scissorTest','_selectedLength','floatToByte','NEAREST','_actualUniforms','_texturesToRelease','_parentSelectedShadow','height','_ready','dimensions','uniform\x20sampler2D\x20czm_idTexture;\x20\x0a','uniform\x20sampler2D\x20czm_selectedIdTexture;\x20\x0a','clone','{\x20\x0a','3VUGCqz','update','6313032CkxfVX','_pixelDatatype','\x20\x20\x20\x20vec4\x20id\x20=\x20texture2D(czm_idTexture,\x20v_textureCoordinates\x20+\x20offset);\x20\x0a','_selectedDirty','\x20\x20\x20\x20for\x20(int\x20i\x20=\x200;\x20i\x20<\x20','_passState','Dimensions','prototype','drawingBufferWidth','viewport','scissorRectangle','test','string','_clearColor','_sampler','UNSIGNED_BYTE',';\x20++i)\x20\x0a','red','_pixelFormat','_forcePowerOfTwo','_texturePromise','\x20\x20\x20\x20{\x20\x0a','textureScale','minificationFilter','then','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20true;\x20\x0a','_logDepthChanged','all','isDestroyed','_textureScale','forcePowerOfTwo','pixelFormat','\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x0a','options.fragmentShader','_enabled','width','9110sDKCZe','replace','_command','color','hasOwnProperty','_selectedIdTexture','648HVUPDx','_selectedShadow','LINEAR','144ShHOMA','1596309pKHFVi','renderState','destroy','_sampleMode','pixelDatatype','_combinedSelectedShadow','magnificationFilter','2777446IhRSjv','_fragmentShader','source','alpha','execute','enabled','createViewportQuadCommand','_texturesToCreate','6BOqCJE','function','_index','getStageByName','_parentSelectedLength','framebuffer','_combinedSelected','sampler','68550evZupG','context','_selected','_colorTexture','getOutputTexture','length','depthTexture','bool\x20czm_selected()\x20\x0a','name','defineProperties','_renderState','_textureCache','uniforms','fragmentShader','uniform\x20float\x20czm_selectedIdTextureStep;\x20\x0a','push','fromCache','#define\x20CZM_SELECTED_FEATURE\x20\x0a','BLACK','number','_parentSelected','\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20selectedId\x20=\x20texture2D(czm_selectedIdTexture,\x20vec2((float(i)\x20+\x200.5)\x20*\x20czm_selectedIdTextureStep,\x200.5));\x20\x0a','pickId','_useLogDepth','options.textureScale','bool\x20czm_selected(vec2\x20offset)\x20\x0a','lessThanOrEquals','RGBA','49113BzMusH','CLAMP_TO_EDGE','_dirtyUniforms','_depthTexture','shaderProgram','greaterThan','typeOf','_uniformMap','_name','blue','getColorTexture','2190790eNZoqI','pickIds'];a690_0x3059=function(){return _0xfbb745;};return a690_0x3059();}import a690_0x360f53 from'../Core/combine.js';import a690_0x161b5a from'../Core/createGuid.js';import a690_0x14381f from'../Core/defaultValue.js';import a690_0x54a01f from'../Core/defined.js';import a690_0x417aac from'../Core/destroyObject.js';import a690_0x2faab8 from'../Core/DeveloperError.js';import a690_0x3e03f1 from'../Core/PixelFormat.js';import a690_0x13ef3f from'../Core/Resource.js';import a690_0xab015 from'../Renderer/PassState.js';import a690_0x53d4ee from'../Renderer/PixelDatatype.js';import a690_0x1392bb from'../Renderer/RenderState.js';import a690_0x4b16db from'../Renderer/Sampler.js';import a690_0x2be009 from'../Renderer/ShaderSource.js';import a690_0x290871 from'../Renderer/Texture.js';import a690_0x29056e from'../Renderer/TextureMagnificationFilter.js';import a690_0x51476b from'../Renderer/TextureMinificationFilter.js';import a690_0xa8801f from'../Renderer/TextureWrap.js';import a690_0x585cdf from'../ThirdParty/when.js';import a690_0x230903 from'./PostProcessStageSampleMode.js';function PostProcessStage(_0x5aec74){var _0x3fc6cd=a690_0x484d;_0x5aec74=a690_0x14381f(_0x5aec74,a690_0x14381f['EMPTY_OBJECT']);var _0x180dbb=_0x5aec74[_0x3fc6cd(0x14e)],_0x31c82b=a690_0x14381f(_0x5aec74[_0x3fc6cd(0x112)],0x1),_0x48bded=a690_0x14381f(_0x5aec74[_0x3fc6cd(0x11b)],a690_0x3e03f1[_0x3fc6cd(0x15c)]);a690_0x17d97b['typeOf']['string'](_0x3fc6cd(0x11d),_0x180dbb),a690_0x17d97b[_0x3fc6cd(0x163)][_0x3fc6cd(0x154)][_0x3fc6cd(0x162)](_0x3fc6cd(0x159),_0x31c82b,0x0),a690_0x17d97b[_0x3fc6cd(0x163)][_0x3fc6cd(0x154)][_0x3fc6cd(0x15b)]('options.textureScale',_0x31c82b,0x1);if(!a690_0x3e03f1['isColorFormat'](_0x48bded))throw new a690_0x2faab8('options.pixelFormat\x20must\x20be\x20a\x20color\x20format.');this[_0x3fc6cd(0x132)]=_0x180dbb,this[_0x3fc6cd(0x16c)]=_0x5aec74[_0x3fc6cd(0x14d)],this[_0x3fc6cd(0x119)]=_0x31c82b,this[_0x3fc6cd(0x10f)]=a690_0x14381f(_0x5aec74[_0x3fc6cd(0x11a)],![]),this['_sampleMode']=a690_0x14381f(_0x5aec74['sampleMode'],a690_0x230903[_0x3fc6cd(0x170)]),this[_0x3fc6cd(0x10e)]=_0x48bded,this[_0x3fc6cd(0x17e)]=a690_0x14381f(_0x5aec74[_0x3fc6cd(0x12e)],a690_0x53d4ee[_0x3fc6cd(0x10b)]),this[_0x3fc6cd(0x109)]=a690_0x14381f(_0x5aec74['clearColor'],a690_0x4ff1ea[_0x3fc6cd(0x153)]),this[_0x3fc6cd(0x164)]=undefined,this[_0x3fc6cd(0x122)]=undefined,this[_0x3fc6cd(0x144)]=undefined,this[_0x3fc6cd(0x160)]=undefined,this['_idTexture']=undefined,this[_0x3fc6cd(0x171)]={},this['_dirtyUniforms']=[],this[_0x3fc6cd(0x172)]=[],this[_0x3fc6cd(0x138)]=[],this[_0x3fc6cd(0x110)]=undefined;var _0x493440=new a690_0xab015();_0x493440['scissorTest']={'enabled':!![],'rectangle':a690_0x54a01f(_0x5aec74[_0x3fc6cd(0x187)])?a690_0x14ae81[_0x3fc6cd(0x179)](_0x5aec74[_0x3fc6cd(0x187)]):new a690_0x14ae81()},this[_0x3fc6cd(0x182)]=_0x493440,this[_0x3fc6cd(0x175)]=![];var _0x22f3d5=_0x5aec74[_0x3fc6cd(0x149)];!a690_0x54a01f(_0x22f3d5)&&(_0x22f3d5=a690_0x161b5a()),this[_0x3fc6cd(0x165)]=_0x22f3d5,this[_0x3fc6cd(0x116)]=undefined,this[_0x3fc6cd(0x158)]=undefined,this[_0x3fc6cd(0x125)]=undefined,this['_selected']=undefined,this['_selectedShadow']=undefined,this[_0x3fc6cd(0x155)]=undefined,this[_0x3fc6cd(0x173)]=undefined,this[_0x3fc6cd(0x13f)]=undefined,this[_0x3fc6cd(0x12f)]=undefined,this[_0x3fc6cd(0x16e)]=0x0,this[_0x3fc6cd(0x13d)]=0x0,this[_0x3fc6cd(0x180)]=!![],this[_0x3fc6cd(0x14c)]=undefined,this[_0x3fc6cd(0x13b)]=undefined,this['enabled']=!![],this[_0x3fc6cd(0x11e)]=!![];}Object[a690_0x32047f(0x14a)](PostProcessStage['prototype'],{'ready':{'get':function(){var _0x3e3e08=a690_0x32047f;return this[_0x3e3e08(0x175)];}},'name':{'get':function(){var _0xb2c05a=a690_0x32047f;return this[_0xb2c05a(0x165)];}},'fragmentShader':{'get':function(){var _0x358b4f=a690_0x32047f;return this[_0x358b4f(0x132)];}},'uniforms':{'get':function(){var _0x251845=a690_0x32047f;return this[_0x251845(0x16c)];}},'textureScale':{'get':function(){return this['_textureScale'];}},'forcePowerOfTwo':{'get':function(){var _0x3e6d47=a690_0x32047f;return this[_0x3e6d47(0x10f)];}},'sampleMode':{'get':function(){var _0x103f90=a690_0x32047f;return this[_0x103f90(0x12d)];}},'pixelFormat':{'get':function(){var _0xbf925a=a690_0x32047f;return this[_0xbf925a(0x10e)];}},'pixelDatatype':{'get':function(){var _0x2a375f=a690_0x32047f;return this[_0x2a375f(0x17e)];}},'clearColor':{'get':function(){var _0x3526a8=a690_0x32047f;return this[_0x3526a8(0x109)];}},'scissorRectangle':{'get':function(){var _0xc678cc=a690_0x32047f;return this['_passState'][_0xc678cc(0x16d)]['rectangle'];}},'outputTexture':{'get':function(){var _0x5469a2=a690_0x32047f;if(a690_0x54a01f(this[_0x5469a2(0x14c)])){var _0x29bc89=this[_0x5469a2(0x14c)]['getFramebuffer'](this['_name']);if(a690_0x54a01f(_0x29bc89))return _0x29bc89['getColorTexture'](0x0);}return undefined;}},'selected':{'get':function(){var _0x4543e2=a690_0x32047f;return this[_0x4543e2(0x143)];},'set':function(_0x42ed77){var _0x10da11=a690_0x32047f;this[_0x10da11(0x143)]=_0x42ed77;}},'parentSelected':{'get':function(){var _0x1a90e6=a690_0x32047f;return this[_0x1a90e6(0x155)];},'set':function(_0x14b12f){var _0x5d6c88=a690_0x32047f;this[_0x5d6c88(0x155)]=_0x14b12f;}}});var depthTextureRegex=/uniform\s+sampler2D\s+depthTexture/g;PostProcessStage[a690_0x32047f(0x184)][a690_0x32047f(0x16a)]=function(_0x369a0a){var _0x4afa18=a690_0x32047f;return!depthTextureRegex[_0x4afa18(0x188)](this['_fragmentShader'])||_0x369a0a[_0x4afa18(0x147)];};function getUniformValueGetterAndSetter(_0x597e2f,_0x2e3531,_0x4db9ad){var _0x578d3f=a690_0x32047f,_0xb43149=_0x2e3531[_0x4db9ad];return(typeof _0xb43149===_0x578d3f(0x189)||_0xb43149 instanceof HTMLCanvasElement||_0xb43149 instanceof HTMLImageElement||_0xb43149 instanceof HTMLVideoElement||_0xb43149 instanceof ImageData)&&_0x597e2f[_0x578d3f(0x15f)]['push'](_0x4db9ad),{'get':function(){return _0x2e3531[_0x4db9ad];},'set':function(_0x255651){var _0x12f512=_0x578d3f,_0x590942=_0x2e3531[_0x4db9ad];_0x2e3531[_0x4db9ad]=_0x255651;var _0x5ab091=_0x597e2f[_0x12f512(0x171)],_0x351bc4=_0x5ab091[_0x4db9ad];a690_0x54a01f(_0x351bc4)&&_0x351bc4!==_0x590942&&_0x351bc4 instanceof a690_0x290871&&!a690_0x54a01f(_0x597e2f[_0x12f512(0x14c)][_0x12f512(0x13c)](_0x4db9ad))&&(_0x597e2f[_0x12f512(0x172)][_0x12f512(0x150)](_0x351bc4),delete _0x5ab091[_0x4db9ad],delete _0x5ab091[_0x4db9ad+_0x12f512(0x183)]),_0x590942 instanceof a690_0x290871&&_0x597e2f[_0x12f512(0x172)]['push'](_0x590942),typeof _0x255651===_0x12f512(0x189)||_0x255651 instanceof HTMLCanvasElement||_0x255651 instanceof HTMLImageElement||_0x255651 instanceof HTMLVideoElement||_0x255651 instanceof ImageData?_0x597e2f[_0x12f512(0x15f)]['push'](_0x4db9ad):_0x5ab091[_0x4db9ad]=_0x255651;}};}function getUniformMapFunction(_0x27adc4,_0x4181d2){return function(){var _0x17e43b=a690_0x484d,_0x36e9fa=_0x27adc4[_0x17e43b(0x171)][_0x4181d2];if(typeof _0x36e9fa===_0x17e43b(0x13a))return _0x36e9fa();return _0x36e9fa;};}function getUniformMapDimensionsFunction(_0x5060bb,_0xea6264){return function(){var _0x2796eb=a690_0x484d,_0x25266a=_0x5060bb[_0xea6264]();if(a690_0x54a01f(_0x25266a))return _0x25266a[_0x2796eb(0x176)];return undefined;};}function createUniformMap(_0x408963){var _0x2ec69d=a690_0x32047f;if(a690_0x54a01f(_0x408963['_uniformMap']))return;var _0x785d={},_0x238aee={},_0x51c498=_0x408963['_uniforms'],_0x16eb60=_0x408963[_0x2ec69d(0x171)];for(var _0x3c6054 in _0x51c498){if(_0x51c498[_0x2ec69d(0x124)](_0x3c6054)){typeof _0x51c498[_0x3c6054]!==_0x2ec69d(0x13a)?(_0x785d[_0x3c6054]=getUniformMapFunction(_0x408963,_0x3c6054),_0x238aee[_0x3c6054]=getUniformValueGetterAndSetter(_0x408963,_0x51c498,_0x3c6054)):(_0x785d[_0x3c6054]=_0x51c498[_0x3c6054],_0x238aee[_0x3c6054]=_0x51c498[_0x3c6054]);_0x16eb60[_0x3c6054]=_0x51c498[_0x3c6054];var _0xa05487=_0x785d[_0x3c6054]();(typeof _0xa05487==='string'||_0xa05487 instanceof a690_0x290871||_0xa05487 instanceof HTMLImageElement||_0xa05487 instanceof HTMLCanvasElement||_0xa05487 instanceof HTMLVideoElement)&&(_0x785d[_0x3c6054+'Dimensions']=getUniformMapDimensionsFunction(_0x785d,_0x3c6054));}}_0x408963[_0x2ec69d(0x16c)]={},Object['defineProperties'](_0x408963['_uniforms'],_0x238aee),_0x408963[_0x2ec69d(0x164)]=a690_0x360f53(_0x785d,{'colorTexture':function(){var _0x93839e=_0x2ec69d;return _0x408963[_0x93839e(0x144)];},'colorTextureDimensions':function(){var _0x2d7705=_0x2ec69d;return _0x408963[_0x2d7705(0x144)][_0x2d7705(0x176)];},'depthTexture':function(){var _0x1f8b7e=_0x2ec69d;return _0x408963[_0x1f8b7e(0x160)];},'depthTextureDimensions':function(){var _0x25febe=_0x2ec69d;return _0x408963[_0x25febe(0x160)]['dimensions'];},'czm_idTexture':function(){return _0x408963['_idTexture'];},'czm_selectedIdTexture':function(){var _0x5826c1=_0x2ec69d;return _0x408963[_0x5826c1(0x125)];},'czm_selectedIdTextureStep':function(){var _0x213413=_0x2ec69d;return 0x1/_0x408963[_0x213413(0x125)][_0x213413(0x11f)];}});}function createDrawCommand(_0x23f3cf,_0x4abaea){var _0x90899c=a690_0x32047f;if(a690_0x54a01f(_0x23f3cf[_0x90899c(0x122)])&&!_0x23f3cf[_0x90899c(0x116)]&&!_0x23f3cf[_0x90899c(0x180)])return;var _0x4f3085=_0x23f3cf[_0x90899c(0x132)];if(a690_0x54a01f(_0x23f3cf[_0x90899c(0x125)])){var _0x4bb67b=_0x23f3cf[_0x90899c(0x125)][_0x90899c(0x11f)];_0x4f3085=_0x4f3085[_0x90899c(0x121)](/varying\s+vec2\s+v_textureCoordinates;/g,''),_0x4f3085=_0x90899c(0x152)+_0x90899c(0x177)+_0x90899c(0x178)+_0x90899c(0x14f)+'varying\x20vec2\x20v_textureCoordinates;\x20\x0a'+_0x90899c(0x15a)+_0x90899c(0x17a)+'\x20\x20\x20\x20bool\x20selected\x20=\x20false;\x0a'+_0x90899c(0x17f)+_0x90899c(0x181)+_0x4bb67b+_0x90899c(0x10c)+_0x90899c(0x111)+_0x90899c(0x156)+'\x20\x20\x20\x20\x20\x20\x20\x20if\x20(all(equal(id,\x20selectedId)))\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20{\x20\x0a'+_0x90899c(0x115)+_0x90899c(0x11c)+'\x20\x20\x20\x20}\x20\x0a'+'\x20\x20\x20\x20return\x20false;\x20\x0a'+'}\x20\x0a\x0a'+_0x90899c(0x148)+'{\x20\x0a'+'\x20\x20\x20\x20return\x20czm_selected(vec2(0.0));\x20\x0a'+'}\x20\x0a\x0a'+_0x4f3085;}var _0x270a7f=new a690_0x2be009({'defines':[_0x23f3cf[_0x90899c(0x158)]?'LOG_DEPTH':''],'sources':[_0x4f3085]});_0x23f3cf[_0x90899c(0x122)]=_0x4abaea[_0x90899c(0x137)](_0x270a7f,{'uniformMap':_0x23f3cf[_0x90899c(0x164)],'owner':_0x23f3cf});}function createSampler(_0x53fd0c){var _0x127de5=a690_0x32047f,_0x34fc69=_0x53fd0c[_0x127de5(0x12d)],_0x3f266d,_0x30debe;_0x34fc69===a690_0x230903[_0x127de5(0x128)]?(_0x3f266d=a690_0x51476b[_0x127de5(0x128)],_0x30debe=a690_0x29056e[_0x127de5(0x128)]):(_0x3f266d=a690_0x51476b[_0x127de5(0x170)],_0x30debe=a690_0x29056e['NEAREST']);var _0x2be9e0=_0x53fd0c['_sampler'];(!a690_0x54a01f(_0x2be9e0)||_0x2be9e0[_0x127de5(0x113)]!==_0x3f266d||_0x2be9e0[_0x127de5(0x130)]!==_0x30debe)&&(_0x53fd0c['_sampler']=new a690_0x4b16db({'wrapS':a690_0xa8801f[_0x127de5(0x15e)],'wrapT':a690_0xa8801f[_0x127de5(0x15e)],'minificationFilter':_0x3f266d,'magnificationFilter':_0x30debe}));}function createLoadImageFunction(_0x2daed0,_0x40ce8f){return function(_0x18969b){var _0x35c60c=a690_0x484d;_0x2daed0[_0x35c60c(0x138)][_0x35c60c(0x150)]({'name':_0x40ce8f,'source':_0x18969b});};}function createStageOutputTextureFunction(_0x3f2740,_0x1cccbc){return function(){var _0xa31818=a690_0x484d;return _0x3f2740[_0xa31818(0x14c)][_0xa31818(0x145)](_0x1cccbc);};}function updateUniformTextures(_0x2e3c07,_0x1dc3cc){var _0x578507=a690_0x32047f,_0xd14805,_0x6960cf,_0x16be83,_0x5d6582=_0x2e3c07[_0x578507(0x172)],_0x237fa0=_0x5d6582[_0x578507(0x146)];for(_0xd14805=0x0;_0xd14805<_0x237fa0;++_0xd14805){_0x6960cf=_0x5d6582[_0xd14805],_0x6960cf=_0x6960cf&&_0x6960cf[_0x578507(0x12c)]();}_0x5d6582[_0x578507(0x146)]=0x0;var _0x3f2130=_0x2e3c07[_0x578507(0x138)];_0x237fa0=_0x3f2130[_0x578507(0x146)];for(_0xd14805=0x0;_0xd14805<_0x237fa0;++_0xd14805){var _0x3074f1=_0x3f2130[_0xd14805];_0x16be83=_0x3074f1[_0x578507(0x149)];var _0x3dec5a=_0x3074f1[_0x578507(0x133)];_0x2e3c07[_0x578507(0x171)][_0x16be83]=new a690_0x290871({'context':_0x1dc3cc,'source':_0x3dec5a});}_0x3f2130['length']=0x0;var _0x2a05dd=_0x2e3c07[_0x578507(0x15f)];if(_0x2a05dd[_0x578507(0x146)]===0x0&&!a690_0x54a01f(_0x2e3c07[_0x578507(0x110)])){_0x2e3c07[_0x578507(0x175)]=!![];return;}if(_0x2a05dd[_0x578507(0x146)]===0x0||a690_0x54a01f(_0x2e3c07[_0x578507(0x110)]))return;_0x237fa0=_0x2a05dd[_0x578507(0x146)];var _0x2328c5=_0x2e3c07['_uniforms'],_0x187ea3=[];for(_0xd14805=0x0;_0xd14805<_0x237fa0;++_0xd14805){_0x16be83=_0x2a05dd[_0xd14805];var _0x1ec0db=_0x2328c5[_0x16be83],_0x458825=_0x2e3c07[_0x578507(0x14c)]['getStageByName'](_0x1ec0db);if(a690_0x54a01f(_0x458825))_0x2e3c07[_0x578507(0x171)][_0x16be83]=createStageOutputTextureFunction(_0x2e3c07,_0x1ec0db);else{if(typeof _0x1ec0db===_0x578507(0x189)){var _0x45be61=new a690_0x13ef3f({'url':_0x1ec0db});_0x187ea3[_0x578507(0x150)](_0x45be61['fetchImage']()[_0x578507(0x114)](createLoadImageFunction(_0x2e3c07,_0x16be83)));}else _0x2e3c07[_0x578507(0x138)][_0x578507(0x150)]({'name':_0x16be83,'source':_0x1ec0db});}}_0x2a05dd[_0x578507(0x146)]=0x0,_0x187ea3[_0x578507(0x146)]>0x0?(_0x2e3c07[_0x578507(0x175)]=![],_0x2e3c07[_0x578507(0x110)]=a690_0x585cdf[_0x578507(0x117)](_0x187ea3)[_0x578507(0x114)](function(){var _0x3f2f3c=_0x578507;_0x2e3c07[_0x3f2f3c(0x175)]=!![],_0x2e3c07[_0x3f2f3c(0x110)]=undefined;})):_0x2e3c07['_ready']=!![];}function releaseResources(_0x3c38ba){var _0x68d0dd=a690_0x32047f;a690_0x54a01f(_0x3c38ba['_command'])&&(_0x3c38ba['_command']['shaderProgram']=_0x3c38ba['_command'][_0x68d0dd(0x161)]&&_0x3c38ba['_command'][_0x68d0dd(0x161)]['destroy'](),_0x3c38ba[_0x68d0dd(0x122)]=undefined);_0x3c38ba[_0x68d0dd(0x125)]=_0x3c38ba['_selectedIdTexture']&&_0x3c38ba['_selectedIdTexture']['destroy']();var _0x1a7190=_0x3c38ba['_textureCache'];if(!a690_0x54a01f(_0x1a7190))return;var _0xd05362=_0x3c38ba['_uniforms'],_0x362d3c=_0x3c38ba[_0x68d0dd(0x171)];for(var _0x32968 in _0x362d3c){_0x362d3c[_0x68d0dd(0x124)](_0x32968)&&(_0x362d3c[_0x32968]instanceof a690_0x290871&&(!a690_0x54a01f(_0x1a7190['getStageByName'](_0xd05362[_0x32968]))&&_0x362d3c[_0x32968]['destroy'](),_0x3c38ba[_0x68d0dd(0x15f)][_0x68d0dd(0x150)](_0x32968)));}}function isSelectedTextureDirty(_0x15e5dc){var _0x454d8e=a690_0x32047f,_0x4c63b9=a690_0x54a01f(_0x15e5dc[_0x454d8e(0x143)])?_0x15e5dc[_0x454d8e(0x143)][_0x454d8e(0x146)]:0x0,_0xb74b30=a690_0x54a01f(_0x15e5dc[_0x454d8e(0x155)])?_0x15e5dc['_parentSelected']:0x0,_0x365114=_0x15e5dc[_0x454d8e(0x143)]!==_0x15e5dc[_0x454d8e(0x127)]||_0x4c63b9!==_0x15e5dc[_0x454d8e(0x16e)];_0x365114=_0x365114||_0x15e5dc['_parentSelected']!==_0x15e5dc['_parentSelectedShadow']||_0xb74b30!==_0x15e5dc['_parentSelectedLength'];if(a690_0x54a01f(_0x15e5dc[_0x454d8e(0x143)])&&a690_0x54a01f(_0x15e5dc[_0x454d8e(0x155)]))_0x15e5dc[_0x454d8e(0x13f)]=_0x15e5dc[_0x454d8e(0x143)]['concat'](_0x15e5dc[_0x454d8e(0x155)]);else a690_0x54a01f(_0x15e5dc[_0x454d8e(0x155)])?_0x15e5dc['_combinedSelected']=_0x15e5dc[_0x454d8e(0x155)]:_0x15e5dc[_0x454d8e(0x13f)]=_0x15e5dc['_selected'];if(!_0x365114&&a690_0x54a01f(_0x15e5dc[_0x454d8e(0x13f)])){if(!a690_0x54a01f(_0x15e5dc[_0x454d8e(0x12f)]))return!![];_0x4c63b9=_0x15e5dc[_0x454d8e(0x13f)][_0x454d8e(0x146)];for(var _0x224c11=0x0;_0x224c11<_0x4c63b9;++_0x224c11){if(_0x15e5dc[_0x454d8e(0x13f)][_0x224c11]!==_0x15e5dc[_0x454d8e(0x12f)][_0x224c11])return!![];}}return _0x365114;}function createSelectedTexture(_0x362537,_0x1d366f){var _0x33dc3f=a690_0x32047f;if(!_0x362537[_0x33dc3f(0x180)])return;_0x362537[_0x33dc3f(0x125)]=_0x362537[_0x33dc3f(0x125)]&&_0x362537[_0x33dc3f(0x125)][_0x33dc3f(0x12c)](),_0x362537[_0x33dc3f(0x125)]=undefined;var _0x38086c=_0x362537[_0x33dc3f(0x13f)];if(!a690_0x54a01f(_0x38086c))return;var _0xb81206,_0x31fb9e,_0x5a8c72=0x0,_0x2b557a=_0x38086c['length'];for(_0xb81206=0x0;_0xb81206<_0x2b557a;++_0xb81206){_0x31fb9e=_0x38086c[_0xb81206];if(a690_0x54a01f(_0x31fb9e['pickIds']))_0x5a8c72+=_0x31fb9e[_0x33dc3f(0x169)][_0x33dc3f(0x146)];else a690_0x54a01f(_0x31fb9e['pickId'])&&++_0x5a8c72;}if(_0x2b557a===0x0||_0x5a8c72===0x0){var _0x4e8389=new Uint8Array(0x4);_0x4e8389[0x0]=0xff,_0x4e8389[0x1]=0xff,_0x4e8389[0x2]=0xff,_0x4e8389[0x3]=0xff,_0x362537[_0x33dc3f(0x125)]=new a690_0x290871({'context':_0x1d366f,'pixelFormat':a690_0x3e03f1[_0x33dc3f(0x15c)],'pixelDatatype':a690_0x53d4ee[_0x33dc3f(0x10b)],'source':{'arrayBufferView':_0x4e8389,'width':0x1,'height':0x1},'sampler':a690_0x4b16db[_0x33dc3f(0x170)]});return;}var _0x430575,_0xa8ecb7=0x0,_0x1eeb0b=new Uint8Array(_0x5a8c72*0x4);for(_0xb81206=0x0;_0xb81206<_0x2b557a;++_0xb81206){_0x31fb9e=_0x38086c[_0xb81206];if(a690_0x54a01f(_0x31fb9e[_0x33dc3f(0x169)])){var _0x510c0c=_0x31fb9e['pickIds'],_0x1ccec4=_0x510c0c[_0x33dc3f(0x146)];for(var _0x2e8941=0x0;_0x2e8941<_0x1ccec4;++_0x2e8941){_0x430575=_0x510c0c[_0x2e8941][_0x33dc3f(0x123)],_0x1eeb0b[_0xa8ecb7]=a690_0x4ff1ea[_0x33dc3f(0x16f)](_0x430575[_0x33dc3f(0x10d)]),_0x1eeb0b[_0xa8ecb7+0x1]=a690_0x4ff1ea[_0x33dc3f(0x16f)](_0x430575['green']),_0x1eeb0b[_0xa8ecb7+0x2]=a690_0x4ff1ea[_0x33dc3f(0x16f)](_0x430575[_0x33dc3f(0x166)]),_0x1eeb0b[_0xa8ecb7+0x3]=a690_0x4ff1ea['floatToByte'](_0x430575[_0x33dc3f(0x134)]),_0xa8ecb7+=0x4;}}else a690_0x54a01f(_0x31fb9e[_0x33dc3f(0x157)])&&(_0x430575=_0x31fb9e['pickId']['color'],_0x1eeb0b[_0xa8ecb7]=a690_0x4ff1ea[_0x33dc3f(0x16f)](_0x430575[_0x33dc3f(0x10d)]),_0x1eeb0b[_0xa8ecb7+0x1]=a690_0x4ff1ea[_0x33dc3f(0x16f)](_0x430575['green']),_0x1eeb0b[_0xa8ecb7+0x2]=a690_0x4ff1ea[_0x33dc3f(0x16f)](_0x430575[_0x33dc3f(0x166)]),_0x1eeb0b[_0xa8ecb7+0x3]=a690_0x4ff1ea[_0x33dc3f(0x16f)](_0x430575['alpha']),_0xa8ecb7+=0x4);}_0x362537[_0x33dc3f(0x125)]=new a690_0x290871({'context':_0x1d366f,'pixelFormat':a690_0x3e03f1['RGBA'],'pixelDatatype':a690_0x53d4ee[_0x33dc3f(0x10b)],'source':{'arrayBufferView':_0x1eeb0b,'width':_0x5a8c72,'height':0x1},'sampler':a690_0x4b16db[_0x33dc3f(0x170)]});}function a690_0x484d(_0x3ca1cc,_0x4abfa1){var _0x305955=a690_0x3059();return a690_0x484d=function(_0x484d36,_0x31b41f){_0x484d36=_0x484d36-0x109;var _0x2da08b=_0x305955[_0x484d36];return _0x2da08b;},a690_0x484d(_0x3ca1cc,_0x4abfa1);}PostProcessStage[a690_0x32047f(0x184)][a690_0x32047f(0x17c)]=function(_0x39afc9,_0x185cc2){var _0x5b6711=a690_0x32047f;this[_0x5b6711(0x136)]!==this[_0x5b6711(0x11e)]&&!this[_0x5b6711(0x136)]&&releaseResources(this);this[_0x5b6711(0x11e)]=this['enabled'];if(!this[_0x5b6711(0x11e)])return;this[_0x5b6711(0x116)]=_0x185cc2!==this[_0x5b6711(0x158)],this[_0x5b6711(0x158)]=_0x185cc2,this[_0x5b6711(0x180)]=isSelectedTextureDirty(this),this['_selectedShadow']=this[_0x5b6711(0x143)],this[_0x5b6711(0x173)]=this[_0x5b6711(0x155)],this[_0x5b6711(0x12f)]=this['_combinedSelected'],this['_selectedLength']=a690_0x54a01f(this[_0x5b6711(0x143)])?this[_0x5b6711(0x143)][_0x5b6711(0x146)]:0x0,this[_0x5b6711(0x13d)]=a690_0x54a01f(this[_0x5b6711(0x155)])?this['_parentSelected'][_0x5b6711(0x146)]:0x0,createSelectedTexture(this,_0x39afc9),createUniformMap(this),updateUniformTextures(this,_0x39afc9),createDrawCommand(this,_0x39afc9),createSampler(this),this[_0x5b6711(0x180)]=![];if(!this[_0x5b6711(0x175)])return;var _0x539df6=this[_0x5b6711(0x14c)]['getFramebuffer'](this[_0x5b6711(0x165)]);this[_0x5b6711(0x122)]['framebuffer']=_0x539df6;if(!a690_0x54a01f(_0x539df6))return;var _0x55a0e9=_0x539df6[_0x5b6711(0x167)](0x0),_0x2af1b4;(_0x55a0e9['width']!==_0x39afc9[_0x5b6711(0x185)]||_0x55a0e9[_0x5b6711(0x174)]!==_0x39afc9['drawingBufferHeight'])&&(_0x2af1b4=this[_0x5b6711(0x14b)],(!a690_0x54a01f(_0x2af1b4)||_0x55a0e9[_0x5b6711(0x11f)]!==_0x2af1b4[_0x5b6711(0x186)][_0x5b6711(0x11f)]||_0x55a0e9[_0x5b6711(0x174)]!==_0x2af1b4[_0x5b6711(0x186)][_0x5b6711(0x174)])&&(this['_renderState']=a690_0x1392bb[_0x5b6711(0x151)]({'viewport':new a690_0x14ae81(0x0,0x0,_0x55a0e9[_0x5b6711(0x11f)],_0x55a0e9['height'])}))),this[_0x5b6711(0x122)][_0x5b6711(0x12b)]=_0x2af1b4;},PostProcessStage[a690_0x32047f(0x184)][a690_0x32047f(0x135)]=function(_0x31713d,_0x27ecbc,_0x36c1c5,_0x580f2a){var _0xe986bc=a690_0x32047f;if(!a690_0x54a01f(this[_0xe986bc(0x122)])||!a690_0x54a01f(this[_0xe986bc(0x122)][_0xe986bc(0x13e)])||!this[_0xe986bc(0x175)]||!this[_0xe986bc(0x11e)])return;this[_0xe986bc(0x144)]=_0x27ecbc,this[_0xe986bc(0x160)]=_0x36c1c5,this['_idTexture']=_0x580f2a;!a690_0x4b16db[_0xe986bc(0x16b)](this[_0xe986bc(0x144)][_0xe986bc(0x140)],this[_0xe986bc(0x10a)])&&(this['_colorTexture'][_0xe986bc(0x140)]=this[_0xe986bc(0x10a)]);var _0x597692=this[_0xe986bc(0x187)]['width']>0x0&&this[_0xe986bc(0x187)]['height']>0x0?this[_0xe986bc(0x182)]:undefined;a690_0x54a01f(_0x597692)&&(_0x597692[_0xe986bc(0x142)]=_0x31713d),this[_0xe986bc(0x122)][_0xe986bc(0x135)](_0x31713d,_0x597692);},PostProcessStage[a690_0x32047f(0x184)][a690_0x32047f(0x118)]=function(){return![];},PostProcessStage[a690_0x32047f(0x184)]['destroy']=function(){return releaseResources(this),a690_0x417aac(this);};export default PostProcessStage;