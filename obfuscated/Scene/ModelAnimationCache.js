var a611_0x163c99=a611_0xf5aa;(function(_0xf1ae46,_0x8a7bfe){var _0x31a647=a611_0xf5aa,_0x45dbda=_0xf1ae46();while(!![]){try{var _0x25788e=parseInt(_0x31a647(0x19b))/0x1+-parseInt(_0x31a647(0x19d))/0x2*(-parseInt(_0x31a647(0x1a5))/0x3)+-parseInt(_0x31a647(0x19f))/0x4*(-parseInt(_0x31a647(0x1a4))/0x5)+parseInt(_0x31a647(0x192))/0x6+parseInt(_0x31a647(0x18b))/0x7+-parseInt(_0x31a647(0x1b3))/0x8*(parseInt(_0x31a647(0x1a0))/0x9)+parseInt(_0x31a647(0x1b6))/0xa;if(_0x25788e===_0x8a7bfe)break;else _0x45dbda['push'](_0x45dbda['shift']());}catch(_0x1810e1){_0x45dbda['push'](_0x45dbda['shift']());}}}(a611_0x5c0b,0x9fbc0));import a611_0x3e1013 from'../Core/Cartesian3.js';import a611_0x209f77 from'../Core/ComponentDatatype.js';import a611_0x22c24d from'../Core/defaultValue.js';import a611_0x390116 from'../Core/defined.js';import a611_0x2b0ddd from'../Core/LinearSpline.js';import a611_0x5b1298 from'../Core/Matrix4.js';import a611_0x553655 from'../Core/Quaternion.js';import a611_0x5b3bd0 from'../Core/QuaternionSpline.js';import a611_0x5b8316 from'../Core/Spline.js';import a611_0x29e00a from'../Core/WebGLConstants.js';function a611_0xf5aa(_0x161f9a,_0x22206f){var _0x5c0b2c=a611_0x5c0b();return a611_0xf5aa=function(_0xf5aaf7,_0x47164d){_0xf5aaf7=_0xf5aaf7-0x18a;var _0x2f481a=_0x5c0b2c[_0xf5aaf7];return _0x2f481a;},a611_0xf5aa(_0x161f9a,_0x22206f);}import a611_0x2f7b51 from'../Core/WeightSpline.js';import a611_0x4eda69 from'./GltfPipeline/getAccessorByteStride.js';import a611_0x122284 from'./GltfPipeline/numberOfComponentsForType.js';import a611_0x173ca3 from'./AttributeType.js';function ModelAnimationCache(){}var dataUriRegex=/^data\:/i;function getAccessorKey(_0x3032ed,_0x61c7b8){var _0xc1e224=a611_0xf5aa,_0x1430ab=_0x3032ed[_0xc1e224(0x18a)],_0x5c9eac=_0x1430ab[_0xc1e224(0x18c)],_0x172456=_0x1430ab['bufferViews'],_0x1ab3bd=_0x172456[_0x61c7b8[_0xc1e224(0x190)]],_0x1ff72b=_0x5c9eac[_0x1ab3bd[_0xc1e224(0x1ab)]],_0x2627b9=_0x1ab3bd[_0xc1e224(0x1a8)]+_0x61c7b8['byteOffset'],_0x24dd54=_0x61c7b8[_0xc1e224(0x1ad)]*a611_0x122284(_0x61c7b8[_0xc1e224(0x18d)]),_0x45d0ee=dataUriRegex[_0xc1e224(0x1b8)](_0x1ff72b[_0xc1e224(0x1a2)])?'':_0x1ff72b[_0xc1e224(0x1a2)];return _0x3032ed[_0xc1e224(0x1a3)]+'//'+_0x45d0ee+'/'+_0x2627b9+'/'+_0x24dd54;}var cachedAnimationParameters={};ModelAnimationCache[a611_0x163c99(0x1a1)]=function(_0xff1a4e,_0x1a90be){var _0x3542e0=a611_0x163c99,_0x474524=getAccessorKey(_0xff1a4e,_0x1a90be),_0x2e3853=cachedAnimationParameters[_0x474524];if(!a611_0x390116(_0x2e3853)){var _0x2a0f03=_0xff1a4e['gltf'],_0xbe2bcf=_0x2a0f03['buffers'],_0x18e653=_0x2a0f03[_0x3542e0(0x1a6)],_0xea1436=_0x18e653[_0x1a90be[_0x3542e0(0x190)]],_0x3b982b=_0xea1436[_0x3542e0(0x1ab)],_0x43fa6e=_0xbe2bcf[_0x3b982b],_0x4cfa1b=_0x43fa6e[_0x3542e0(0x199)][_0x3542e0(0x197)][_0x3542e0(0x19c)],_0x908dc7=_0x1a90be['componentType'],_0x44035a=_0x1a90be[_0x3542e0(0x18d)],_0x5a1844=a611_0x122284(_0x44035a),_0x5af050=_0x1a90be[_0x3542e0(0x1ad)],_0x26547a=a611_0x4eda69(_0x2a0f03,_0x1a90be);_0x2e3853=new Array(_0x5af050);var _0x3b3a48=a611_0x22c24d(_0x1a90be['byteOffset'],0x0),_0xda0ae7=_0xea1436['byteOffset']+_0x3b3a48;for(var _0x4643d0=0x0;_0x4643d0<_0x5af050;_0x4643d0++){var _0x1ef41f=a611_0x209f77[_0x3542e0(0x19a)](_0x908dc7,_0x4cfa1b[_0x3542e0(0x1ab)],_0x4cfa1b['byteOffset']+_0xda0ae7,_0x5a1844);if(_0x44035a===_0x3542e0(0x1af))_0x2e3853[_0x4643d0]=_0x1ef41f[0x0];else{if(_0x44035a==='VEC3')_0x2e3853[_0x4643d0]=a611_0x3e1013[_0x3542e0(0x18e)](_0x1ef41f);else _0x44035a==='VEC4'&&(_0x2e3853[_0x4643d0]=a611_0x553655['unpack'](_0x1ef41f));}_0xda0ae7+=_0x26547a;}a611_0x390116(_0xff1a4e['cacheKey'])&&(cachedAnimationParameters[_0x474524]=_0x2e3853);}return _0x2e3853;};var cachedAnimationSplines={};function a611_0x5c0b(){var _0x40a358=['10015256FeqaQy','clampTime','evaluate','4492240VIUoCr','getAnimationSpline','test','gltf','2567096ISOrkR','buffers','type','fromArray','interpolation','bufferView','times','309390HQVZXv','prototype','getSkinInverseBindMatrices','findTimeInterval','weights','_pipeline','_spline','extras','createArrayBufferView','744447OeJprr','source','44nxyELD','translation','12PKzkfo','9CUeSeW','getAnimationParameterValues','uri','cacheKey','91755omXXrY','32613yQZNeR','bufferViews','_value','byteOffset','MAT4','length','buffer','wrapTime','count','STEP','SCALAR','FLOAT','LINEAR','_lastTimeIndex'];a611_0x5c0b=function(){return _0x40a358;};return a611_0x5c0b();}function getAnimationSplineKey(_0x3483f4,_0x5217a5,_0x1b0f3f){var _0x52c952=a611_0x163c99;return _0x3483f4[_0x52c952(0x1a3)]+'//'+_0x5217a5+'/'+_0x1b0f3f;}function ConstantSpline(_0x597a87){var _0x42fbe5=a611_0x163c99;this[_0x42fbe5(0x1a7)]=_0x597a87;}ConstantSpline[a611_0x163c99(0x193)][a611_0x163c99(0x1b5)]=function(_0x2bc861,_0x48d1e6){var _0x4fe8aa=a611_0x163c99;return this[_0x4fe8aa(0x1a7)];},ConstantSpline[a611_0x163c99(0x193)][a611_0x163c99(0x1ac)]=function(_0x5ce350){return 0x0;},ConstantSpline[a611_0x163c99(0x193)][a611_0x163c99(0x1b4)]=function(_0xa17f19){return 0x0;};function SteppedSpline(_0x460cd0){var _0x56f5b7=a611_0x163c99;this[_0x56f5b7(0x198)]=_0x460cd0,this[_0x56f5b7(0x1b2)]=0x0;}SteppedSpline['prototype'][a611_0x163c99(0x195)]=a611_0x5b8316[a611_0x163c99(0x193)]['findTimeInterval'],SteppedSpline[a611_0x163c99(0x193)][a611_0x163c99(0x1b5)]=function(_0x4edfae,_0x1bede7){var _0x1e2132=a611_0x163c99,_0x4ef4c2=this[_0x1e2132(0x1b2)]=this[_0x1e2132(0x195)](_0x4edfae,this['_lastTimeIndex']),_0x16d04f=this[_0x1e2132(0x198)][_0x1e2132(0x191)],_0x3b26ab=_0x4edfae>=_0x16d04f[_0x4ef4c2+0x1]?_0x16d04f[_0x4ef4c2+0x1]:_0x16d04f[_0x4ef4c2];return this['_spline'][_0x1e2132(0x1b5)](_0x3b26ab,_0x1bede7);},Object['defineProperties'](SteppedSpline[a611_0x163c99(0x193)],{'times':{'get':function(){return this['_spline']['times'];}}}),SteppedSpline[a611_0x163c99(0x193)]['wrapTime']=function(_0x2eb21a){var _0x281595=a611_0x163c99;return this[_0x281595(0x198)][_0x281595(0x1ac)](_0x2eb21a);},SteppedSpline[a611_0x163c99(0x193)][a611_0x163c99(0x1b4)]=function(_0x350e8f){var _0x28abc4=a611_0x163c99;return this[_0x28abc4(0x198)][_0x28abc4(0x1b4)](_0x350e8f);},ModelAnimationCache[a611_0x163c99(0x1b7)]=function(_0x40cc73,_0x58c107,_0x439966,_0x143a32,_0x1ddb42,_0xb2faf9,_0x542426,_0x1cd10c){var _0x43ff63=a611_0x163c99,_0xea7e0f=getAnimationSplineKey(_0x40cc73,_0x58c107,_0x143a32),_0x27d9df=cachedAnimationSplines[_0xea7e0f];if(!a611_0x390116(_0x27d9df)){var _0x2863c3=_0xb2faf9,_0x115671=_0x1cd10c;if(_0x2863c3[_0x43ff63(0x1aa)]===0x1&&_0x115671[_0x43ff63(0x1aa)]===0x1)_0x27d9df=new ConstantSpline(_0x115671[0x0]);else{if(_0x1ddb42[_0x43ff63(0x18f)]===_0x43ff63(0x1b1)||_0x1ddb42['interpolation']==='STEP'){if(_0x542426===_0x43ff63(0x19e)||_0x542426==='scale')_0x27d9df=new a611_0x2b0ddd({'times':_0x2863c3,'points':_0x115671});else{if(_0x542426==='rotation')_0x27d9df=new a611_0x5b3bd0({'times':_0x2863c3,'points':_0x115671});else _0x542426===_0x43ff63(0x196)&&(_0x27d9df=new a611_0x2f7b51({'times':_0x2863c3,'weights':_0x115671}));}a611_0x390116(_0x27d9df)&&_0x1ddb42['interpolation']===_0x43ff63(0x1ae)&&(_0x27d9df=new SteppedSpline(_0x27d9df));}}a611_0x390116(_0x40cc73[_0x43ff63(0x1a3)])&&(cachedAnimationSplines[_0xea7e0f]=_0x27d9df);}return _0x27d9df;};var cachedSkinInverseBindMatrices={};ModelAnimationCache[a611_0x163c99(0x194)]=function(_0x3c57da,_0x4c799e){var _0x22d91f=a611_0x163c99,_0x5b21de=getAccessorKey(_0x3c57da,_0x4c799e),_0x56c11a=cachedSkinInverseBindMatrices[_0x5b21de];if(!a611_0x390116(_0x56c11a)){var _0x503f08=_0x3c57da[_0x22d91f(0x18a)],_0x38046f=_0x503f08[_0x22d91f(0x18c)],_0x3c0fc4=_0x503f08[_0x22d91f(0x1a6)],_0x448218=_0x4c799e[_0x22d91f(0x190)],_0x238c90=_0x3c0fc4[_0x448218],_0x4869f2=_0x238c90['buffer'],_0x543e08=_0x38046f[_0x4869f2],_0x3de897=_0x543e08['extras'][_0x22d91f(0x197)][_0x22d91f(0x19c)],_0x395d8c=_0x4c799e['componentType'],_0x1680fb=_0x4c799e[_0x22d91f(0x18d)],_0x49b367=_0x4c799e[_0x22d91f(0x1ad)],_0x1806b3=a611_0x4eda69(_0x503f08,_0x4c799e),_0xcc57a5=_0x238c90[_0x22d91f(0x1a8)]+_0x4c799e[_0x22d91f(0x1a8)],_0x5c4d2c=a611_0x122284(_0x1680fb);_0x56c11a=new Array(_0x49b367);if(_0x395d8c===a611_0x29e00a[_0x22d91f(0x1b0)]&&_0x1680fb===a611_0x173ca3[_0x22d91f(0x1a9)])for(var _0x571f07=0x0;_0x571f07<_0x49b367;++_0x571f07){var _0x326992=a611_0x209f77['createArrayBufferView'](_0x395d8c,_0x3de897[_0x22d91f(0x1ab)],_0x3de897[_0x22d91f(0x1a8)]+_0xcc57a5,_0x5c4d2c);_0x56c11a[_0x571f07]=a611_0x5b1298['fromArray'](_0x326992),_0xcc57a5+=_0x1806b3;}cachedSkinInverseBindMatrices[_0x5b21de]=_0x56c11a;}return _0x56c11a;};export default ModelAnimationCache;