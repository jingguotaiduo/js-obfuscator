(function(_0x15a734,_0x3fbc59){var _0x3f9542=a513_0x34eb,_0x3c0d3a=_0x15a734();while(!![]){try{var _0x30cd1c=-parseInt(_0x3f9542(0x173))/0x1*(-parseInt(_0x3f9542(0x18b))/0x2)+-parseInt(_0x3f9542(0x181))/0x3*(-parseInt(_0x3f9542(0x16f))/0x4)+-parseInt(_0x3f9542(0x172))/0x5+parseInt(_0x3f9542(0x161))/0x6*(-parseInt(_0x3f9542(0x185))/0x7)+-parseInt(_0x3f9542(0x16e))/0x8*(-parseInt(_0x3f9542(0x17e))/0x9)+-parseInt(_0x3f9542(0x160))/0xa*(-parseInt(_0x3f9542(0x193))/0xb)+-parseInt(_0x3f9542(0x182))/0xc*(parseInt(_0x3f9542(0x166))/0xd);if(_0x30cd1c===_0x3fbc59)break;else _0x3c0d3a['push'](_0x3c0d3a['shift']());}catch(_0x53b735){_0x3c0d3a['push'](_0x3c0d3a['shift']());}}}(a513_0xc201,0x64ac8));import a513_0x47e5b4 from'../Core/Cartesian2.js';function a513_0x34eb(_0x470d53,_0x58f7c1){var _0xc20196=a513_0xc201();return a513_0x34eb=function(_0x34ebff,_0x2d5b0e){_0x34ebff=_0x34ebff-0x15a;var _0x2eaa16=_0xc20196[_0x34ebff];return _0x2eaa16;},a513_0x34eb(_0x470d53,_0x58f7c1);}import a513_0x48eefc from'../Core/Check.js';import a513_0x10656b from'./ClippingPlaneCollection.js';function a513_0xc201(){var _0x3e5dbd=['useFloatTexture','indexOf','\x20\x20\x20\x20float\x20pixelWidth\x20=\x20czm_metersPerPixel(position);\x0a','94970LWQQVW','66fOAklk','\x20\x20\x20\x20float\x20v\x20=\x20(float(pixY)\x20+\x200.5)\x20*\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a','\x20\x20\x20\x20}\x0a','\x20\x20\x20\x20bool\x20breakAndDiscard\x20=\x20false;\x0a','7524205dVKihD','\x20\x20\x20\x20vec2\x20oct\x20=\x20vec2(oct32.x\x20*\x20256.0\x20+\x20oct32.y,\x20oct32.z\x20*\x20256.0\x20+\x20oct32.w);\x0a','\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20clippingPlane\x20=\x20getClippingPlane(clippingPlanes,\x20i,\x20clippingPlanesMatrix);\x0a','\x20\x20\x20\x20{\x0a','clippingPlaneCollection','\x20\x20\x20\x20\x20\x20\x20\x20clipPosition\x20=\x20-clippingPlane.w\x20*\x20clipNormal;\x0a',';\x20++i)\x0a','float\x20clip(vec4\x20fragCoord,\x20sampler2D\x20clippingPlanes,\x20mat4\x20clippingPlanesMatrix)\x0a','8tkbeDd','9076nWchim','\x20\x20\x20\x20int\x20pixY\x20=\x20clippingPlaneStartIndex\x20/\x20','\x20\x20\x20\x20vec4\x20plane;\x0a','2029180YvQlaM','50574cMIGzW','\x20\x20\x20\x20float\x20clipAmount\x20=\x200.0;\x0a','\x20\x20\x20\x20if\x20(breakAndDiscard)\x20{\x0a','\x20\x20\x20\x20vec3\x20clipPosition\x20=\x20vec3(0.0);\x0a','\x20\x20\x20\x20int\x20clippingPlaneStartIndex\x20=\x20clippingPlaneNumber\x20*\x202;\x0a','\x20\x20\x20\x20\x20\x20\x20\x20float\x20amount\x20=\x20dot(clipNormal,\x20(position.xyz\x20-\x20clipPosition))\x20/\x20pixelWidth;\x0a','getTextureResolution','\x20\x20\x20\x20int\x20pixY\x20=\x20clippingPlaneNumber\x20/\x20','\x20\x20\x20\x20return\x20czm_transformPlane(plane,\x20transform);\x0a','\x20\x20\x20\x20return\x20clipAmount;\x0a','length','6737778UJNfoq','\x20\x20\x20\x20if\x20(clipped)\x0a',',\x20v)));\x0a','474cHduGZ','12fYEPHu','\x20\x20\x20\x20\x20\x20\x20\x20if\x20(amount\x20<=\x200.0)\x0a','\x20\x20\x20\x20\x20\x20\x20\x20clipAmount\x20=\x20max(amount,\x20clipAmount);\x0a','161567rmEyru','unionClippingRegions','\x20\x20\x20\x20int\x20pixX\x20=\x20clippingPlaneNumber\x20-\x20(pixY\x20*\x20','\x20\x20\x20\x20vec3\x20clipNormal\x20=\x20vec3(0.0);\x0a','object',');\x0a','20eWEbtR','\x20\x20\x20\x20\x20\x20\x20\x20clipNormal\x20=\x20clippingPlane.xyz;\x0a','\x20\x20\x20\x20plane.w\x20=\x20czm_unpackFloat(texture2D(packedClippingPlanes,\x20vec2(u\x20+\x20','\x20\x20\x20\x20vec4\x20position\x20=\x20czm_windowToEyeCoordinates(fragCoord);\x0a','typeOf','\x20\x20\x20\x20float\x20u\x20=\x20(float(pixX)\x20+\x200.5)\x20*\x20','\x20\x20\x20\x20for\x20(int\x20i\x20=\x200;\x20i\x20<\x20','context','44lKYdvX','\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a','\x20\x20\x20\x20\x20\x20\x20\x20}\x0a','\x20\x20\x20\x20int\x20pixX\x20=\x20clippingPlaneStartIndex\x20-\x20(pixY\x20*\x20'];a513_0xc201=function(){return _0x3e5dbd;};return a513_0xc201();}var textureResolutionScratch=new a513_0x47e5b4();function getClippingFunction(_0x15634e,_0x251ea3){var _0x57d92c=a513_0x34eb;a513_0x48eefc[_0x57d92c(0x18f)][_0x57d92c(0x189)](_0x57d92c(0x16a),_0x15634e),a513_0x48eefc[_0x57d92c(0x18f)][_0x57d92c(0x189)](_0x57d92c(0x192),_0x251ea3);var _0x44950d=_0x15634e[_0x57d92c(0x186)],_0x420d12=_0x15634e[_0x57d92c(0x17d)],_0x533490=a513_0x10656b[_0x57d92c(0x15d)](_0x251ea3),_0x433e20=a513_0x10656b[_0x57d92c(0x179)](_0x15634e,_0x251ea3,textureResolutionScratch),_0x10a9fd=_0x433e20['x'],_0x16779b=_0x433e20['y'],_0x3ab93e=_0x533490?getClippingPlaneFloat(_0x10a9fd,_0x16779b):getClippingPlaneUint8(_0x10a9fd,_0x16779b);return _0x3ab93e+='\x0a',_0x3ab93e+=_0x44950d?clippingFunctionUnion(_0x420d12):clippingFunctionIntersect(_0x420d12),_0x3ab93e;}function clippingFunctionUnion(_0x315b1a){var _0x427380=a513_0x34eb,_0x38c07a=_0x427380(0x16d)+'{\x0a'+_0x427380(0x18e)+_0x427380(0x188)+_0x427380(0x176)+'\x20\x20\x20\x20float\x20clipAmount;\x0a'+_0x427380(0x15f)+_0x427380(0x165)+_0x427380(0x191)+_0x315b1a+_0x427380(0x16c)+_0x427380(0x169)+_0x427380(0x168)+_0x427380(0x18c)+_0x427380(0x16b)+_0x427380(0x178)+'\x20\x20\x20\x20\x20\x20\x20\x20clipAmount\x20=\x20czm_branchFreeTernary(i\x20==\x200,\x20amount,\x20min(amount,\x20clipAmount));\x0a'+_0x427380(0x183)+'\x20\x20\x20\x20\x20\x20\x20\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20breakAndDiscard\x20=\x20true;\x0a'+_0x427380(0x163)+_0x427380(0x15b)+_0x427380(0x164)+_0x427380(0x175)+_0x427380(0x15a)+'\x20\x20\x20\x20}\x0a'+_0x427380(0x17c)+'}\x0a';return _0x38c07a;}function clippingFunctionIntersect(_0x40249c){var _0x125f61=a513_0x34eb,_0x371cf7=_0x125f61(0x16d)+'{\x0a'+'\x20\x20\x20\x20bool\x20clipped\x20=\x20true;\x0a'+_0x125f61(0x18e)+_0x125f61(0x188)+_0x125f61(0x176)+_0x125f61(0x174)+_0x125f61(0x15f)+'\x20\x20\x20\x20for\x20(int\x20i\x20=\x200;\x20i\x20<\x20'+_0x40249c+_0x125f61(0x16c)+_0x125f61(0x169)+_0x125f61(0x168)+_0x125f61(0x18c)+_0x125f61(0x16b)+'\x20\x20\x20\x20\x20\x20\x20\x20float\x20amount\x20=\x20dot(clipNormal,\x20(position.xyz\x20-\x20clipPosition))\x20/\x20pixelWidth;\x0a'+_0x125f61(0x184)+'\x20\x20\x20\x20\x20\x20\x20\x20clipped\x20=\x20clipped\x20&&\x20(amount\x20<=\x200.0);\x0a'+'\x20\x20\x20\x20}\x0a'+_0x125f61(0x17f)+_0x125f61(0x169)+_0x125f61(0x15a)+_0x125f61(0x164)+'\x20\x20\x20\x20return\x20clipAmount;\x0a'+'}\x0a';return _0x371cf7;}function getClippingPlaneFloat(_0x2924d7,_0x1c3c6e){var _0xfcec54=a513_0x34eb,_0x4cf95e=0x1/_0x2924d7,_0x1260d5=0x1/_0x1c3c6e,_0x2c225c=_0x4cf95e+'';_0x2c225c[_0xfcec54(0x15e)]('.')===-0x1&&(_0x2c225c+='.0');var _0x3f83d1=_0x1260d5+'';_0x3f83d1[_0xfcec54(0x15e)]('.')===-0x1&&(_0x3f83d1+='.0');var _0x163c56='vec4\x20getClippingPlane(highp\x20sampler2D\x20packedClippingPlanes,\x20int\x20clippingPlaneNumber,\x20mat4\x20transform)\x0a'+'{\x0a'+_0xfcec54(0x17a)+_0x2924d7+';\x0a'+_0xfcec54(0x187)+_0x2924d7+');\x0a'+_0xfcec54(0x190)+_0x2c225c+';\x0a'+_0xfcec54(0x162)+_0x3f83d1+';\x0a'+'\x20\x20\x20\x20vec4\x20plane\x20=\x20texture2D(packedClippingPlanes,\x20vec2(u,\x20v));\x0a'+_0xfcec54(0x17b)+'}\x0a';return _0x163c56;}function getClippingPlaneUint8(_0x6f58f2,_0x3bf718){var _0x16a8ad=a513_0x34eb,_0x1044ca=0x1/_0x6f58f2,_0x22f87f=0x1/_0x3bf718,_0x1c0f85=_0x1044ca+'';_0x1c0f85[_0x16a8ad(0x15e)]('.')===-0x1&&(_0x1c0f85+='.0');var _0x40605b=_0x22f87f+'';_0x40605b[_0x16a8ad(0x15e)]('.')===-0x1&&(_0x40605b+='.0');var _0x33a2ee='vec4\x20getClippingPlane(highp\x20sampler2D\x20packedClippingPlanes,\x20int\x20clippingPlaneNumber,\x20mat4\x20transform)\x0a'+'{\x0a'+_0x16a8ad(0x177)+_0x16a8ad(0x170)+_0x6f58f2+';\x0a'+_0x16a8ad(0x15c)+_0x6f58f2+_0x16a8ad(0x18a)+'\x20\x20\x20\x20float\x20u\x20=\x20(float(pixX)\x20+\x200.5)\x20*\x20'+_0x1c0f85+';\x0a'+_0x16a8ad(0x162)+_0x40605b+';\x0a'+'\x20\x20\x20\x20vec4\x20oct32\x20=\x20texture2D(packedClippingPlanes,\x20vec2(u,\x20v))\x20*\x20255.0;\x0a'+_0x16a8ad(0x167)+_0x16a8ad(0x171)+'\x20\x20\x20\x20plane.xyz\x20=\x20czm_octDecode(oct,\x2065535.0);\x0a'+_0x16a8ad(0x18d)+_0x1c0f85+_0x16a8ad(0x180)+_0x16a8ad(0x17b)+'}\x0a';return _0x33a2ee;}export default getClippingFunction;