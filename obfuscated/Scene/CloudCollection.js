var a472_0x501559=a472_0x186e;(function(_0x39cf4f,_0x5af621){var _0x26c89b=a472_0x186e,_0x3475ec=_0x39cf4f();while(!![]){try{var _0x5cbed1=parseInt(_0x26c89b(0x22f))/0x1+parseInt(_0x26c89b(0x23a))/0x2*(-parseInt(_0x26c89b(0x20d))/0x3)+-parseInt(_0x26c89b(0x22a))/0x4+-parseInt(_0x26c89b(0x233))/0x5*(parseInt(_0x26c89b(0x23d))/0x6)+-parseInt(_0x26c89b(0x21c))/0x7*(parseInt(_0x26c89b(0x1f8))/0x8)+-parseInt(_0x26c89b(0x223))/0x9+parseInt(_0x26c89b(0x20b))/0xa;if(_0x5cbed1===_0x5af621)break;else _0x3475ec['push'](_0x3475ec['shift']());}catch(_0x261de1){_0x3475ec['push'](_0x3475ec['shift']());}}}(a472_0x4b4b,0x49719));import a472_0x18a56d from'./BlendingState.js';import a472_0x345e43 from'../Renderer/Buffer.js';import a472_0x3cee53 from'../Renderer/BufferUsage.js';import a472_0xc094f4 from'../Core/Cartesian3.js';import a472_0x44db38 from'../Core/Check.js';import a472_0x5e4fd2 from'../Core/Color.js';function a472_0x4b4b(){var _0x135b6f=['index','positionHighAndScaleX','_destroy','show','LESS','_spNoise','cloudCollection_indexBufferInstanced','context','UNSIGNED_BYTE','_updateCloud','packedAttribute0','noiseDetail','scale','_vaNoise','validate','debugBillboards','writers','invalid\x20cloud\x20type','_dirty','high','debugEllipsoids','commandList','_index','push','SHOW_INDEX','typeOf','length','cloudCollection_vertexBufferInstanced','brightness','148120dVgvUf','isDestroyed','removeAll','alpha','_createVertexArray','_instanced','destroy','_uniforms','noiseOffset','TRANSLUCENT','blue','direction','renderState','STATIC_DRAW','EMPTY_OBJECT','defines','NUMBER_OF_PROPERTIES','FLOAT','remove','14134420yKGDGl','_compiledDebugBillboards','955641hcxhfC','createIndexBuffer','floatToByte','vertexArrayDestroyable','_colorCommands','slice','_propertiesChanged','maximumSize','DEBUG_ELLIPSOIDS','_ready','POSITION_INDEX','cloudCollection_indexBufferBatched','COLOR_INDEX','commit','low','77ALxIbc','_sp','red','instanceCount','pass','NEAREST','add','4621374ZDwzqs','defineProperties','CUMULUS','passes','_cloudsToUpdate','_clouds','UNSIGNED_SHORT','1775800SDAmhq','_rs','SCALE_INDEX','_textureSliceWidth','render','405058gOzJTr','instancedArrays','uniformMap','_cloudsRemoved','190135xzkFTq','DEBUG_BILLBOARDS','_vaf','cache','INSTANCED','REPEAT','contains','2polpZD','RGBA','_cloudsToUpdateIndex','6xKEdWT','_spCreated','SLICE_INDEX','ZERO','indicesCount','prototype','ALPHA_BLEND','color','clone','_compiledDebugEllipsoids','_noiseTextureRows','noiseTextureRows\x20must\x20evenly\x20divide\x20textureSliceWidth','_loading','createVertexBuffer','MAXIMUM_SIZE_INDEX','update','_noiseTexture','owner'];a472_0x4b4b=function(){return _0x135b6f;};return a472_0x4b4b();}import a472_0x57286b from'../Renderer/ComputeCommand.js';import a472_0x5385a7 from'./CloudType.js';import a472_0x455755 from'../Shaders/CloudCollectionFS.js';import a472_0x5d65c0 from'../Shaders/CloudCollectionVS.js';import a472_0x6d6f30 from'../Shaders/CloudNoiseFS.js';import a472_0x2c92e2 from'../Shaders/CloudNoiseVS.js';import a472_0x5af969 from'../Core/ComponentDatatype.js';import a472_0x368e19 from'./CumulusCloud.js';import a472_0x1610d0 from'../Core/defaultValue.js';import a472_0x2802cf from'../Core/defined.js';import a472_0x344eda from'../Core/destroyObject.js';import a472_0xe702dd from'../Core/DeveloperError.js';import a472_0x4844d0 from'../Renderer/DrawCommand.js';import a472_0x49edce from'../Core/EncodedCartesian3.js';import a472_0x56a70d from'../Core/IndexDatatype.js';import a472_0x25d73e from'../Renderer/Pass.js';import a472_0x2f08e8 from'../Renderer/PixelDatatype.js';import a472_0x4bd9b5 from'../Core/PixelFormat.js';import a472_0x20ed47 from'../Renderer/RenderState.js';import a472_0x52869c from'../Renderer/Sampler.js';import a472_0xbf00d5 from'../Renderer/ShaderSource.js';import a472_0x68f0cc from'../Renderer/ShaderProgram.js';import a472_0x10ca6e from'../Renderer/Texture.js';import a472_0x414606 from'../Renderer/TextureMagnificationFilter.js';import a472_0x2dddea from'../Renderer/TextureMinificationFilter.js';import a472_0x334691 from'../Renderer/TextureWrap.js';import a472_0x306589 from'../Renderer/VertexArray.js';import a472_0x43bcb5 from'../Renderer/VertexArrayFacade.js';function a472_0x186e(_0x890b76,_0x240387){var _0x4b4bb5=a472_0x4b4b();return a472_0x186e=function(_0x186e2b,_0x15eab7){_0x186e2b=_0x186e2b-0x1f0;var _0x4237b1=_0x4b4bb5[_0x186e2b];return _0x4237b1;},a472_0x186e(_0x890b76,_0x240387);}import a472_0x5a878a from'../Core/WebGLConstants.js';var attributeLocations,scratchTextureDimensions=new a472_0xc094f4(),attributeLocationsBatched={'positionHighAndScaleX':0x0,'positionLowAndScaleY':0x1,'packedAttribute0':0x2,'packedAttribute1':0x3,'color':0x4},attributeLocationsInstanced={'direction':0x0,'positionHighAndScaleX':0x1,'positionLowAndScaleY':0x2,'packedAttribute0':0x3,'packedAttribute1':0x4,'color':0x5},SHOW_INDEX=a472_0x368e19[a472_0x501559(0x1f3)],POSITION_INDEX=a472_0x368e19[a472_0x501559(0x217)],SCALE_INDEX=a472_0x368e19[a472_0x501559(0x22c)],MAXIMUM_SIZE_INDEX=a472_0x368e19[a472_0x501559(0x24b)],SLICE_INDEX=a472_0x368e19[a472_0x501559(0x23f)],BRIGHTNESS_INDEX=a472_0x368e19['BRIGHTNESS_INDEX'],NUMBER_OF_PROPERTIES=a472_0x368e19[a472_0x501559(0x208)],COLOR_INDEX=a472_0x368e19[a472_0x501559(0x219)];function CloudCollection(_0x43cffc){var _0x35ca5c=a472_0x501559;_0x43cffc=a472_0x1610d0(_0x43cffc,a472_0x1610d0[_0x35ca5c(0x206)]),this[_0x35ca5c(0x228)]=[],this[_0x35ca5c(0x227)]=[],this[_0x35ca5c(0x23c)]=0x0,this[_0x35ca5c(0x232)]=![],this[_0x35ca5c(0x1fc)]=![],this[_0x35ca5c(0x213)]=new Uint32Array(NUMBER_OF_PROPERTIES),this['_noiseTexture']=undefined,this[_0x35ca5c(0x22d)]=0x80,this['_noiseTextureRows']=0x4,this[_0x35ca5c(0x25a)]=a472_0x1610d0(_0x43cffc[_0x35ca5c(0x25a)],0x10),this['noiseOffset']=a472_0xc094f4[_0x35ca5c(0x245)](a472_0x1610d0(_0x43cffc[_0x35ca5c(0x200)],a472_0xc094f4[_0x35ca5c(0x240)])),this[_0x35ca5c(0x249)]=![],this[_0x35ca5c(0x216)]=![];var _0x2e9948=this;this['_uniforms']={'u_noiseTexture':function(){var _0x2aca94=_0x35ca5c;return _0x2e9948[_0x2aca94(0x24d)];},'u_noiseTextureDimensions':getNoiseTextureDimensions(_0x2e9948),'u_noiseDetail':function(){var _0x492ed7=_0x35ca5c;return _0x2e9948[_0x492ed7(0x25a)];}},this[_0x35ca5c(0x25c)]=undefined,this[_0x35ca5c(0x254)]=undefined,this[_0x35ca5c(0x23e)]=![],this['_sp']=undefined,this[_0x35ca5c(0x22b)]=undefined,this['show']=a472_0x1610d0(_0x43cffc[_0x35ca5c(0x252)],!![]),this[_0x35ca5c(0x211)]=[],this[_0x35ca5c(0x25e)]=a472_0x1610d0(_0x43cffc['debugBillboards'],![]),this[_0x35ca5c(0x20c)]=![],this[_0x35ca5c(0x263)]=a472_0x1610d0(_0x43cffc[_0x35ca5c(0x263)],![]),this[_0x35ca5c(0x246)]=![];}function getNoiseTextureDimensions(_0x9d2b2f){return function(){var _0x562a04=a472_0x186e;return scratchTextureDimensions['x']=_0x9d2b2f[_0x562a04(0x22d)],scratchTextureDimensions['y']=_0x9d2b2f['_noiseTextureRows'],scratchTextureDimensions['z']=0x1/_0x9d2b2f[_0x562a04(0x247)],scratchTextureDimensions;};}Object[a472_0x501559(0x224)](CloudCollection[a472_0x501559(0x242)],{'length':{'get':function(){var _0x43ca65=a472_0x501559;return removeClouds(this),this[_0x43ca65(0x228)][_0x43ca65(0x1f5)];}}});function destroyClouds(_0x2ea823){var _0x511068=a472_0x501559,_0x5c6948=_0x2ea823['length'];for(var _0x46226e=0x0;_0x46226e<_0x5c6948;++_0x46226e){_0x2ea823[_0x46226e]&&_0x2ea823[_0x46226e][_0x511068(0x251)]();}}CloudCollection[a472_0x501559(0x242)][a472_0x501559(0x222)]=function(_0x4d1a0a){var _0x21e103=a472_0x501559;_0x4d1a0a=a472_0x1610d0(_0x4d1a0a,a472_0x1610d0[_0x21e103(0x206)]);var _0x18c10d=a472_0x1610d0(_0x4d1a0a['cloudType'],a472_0x5385a7[_0x21e103(0x225)]);if(!a472_0x5385a7[_0x21e103(0x25d)](_0x18c10d))throw new a472_0xe702dd(_0x21e103(0x260));var _0x1f0a7a;return _0x18c10d===a472_0x5385a7['CUMULUS']&&(_0x1f0a7a=new a472_0x368e19(_0x4d1a0a,this),_0x1f0a7a[_0x21e103(0x1f1)]=this['_clouds']['length'],this[_0x21e103(0x228)]['push'](_0x1f0a7a),this[_0x21e103(0x1fc)]=!![]),_0x1f0a7a;},CloudCollection[a472_0x501559(0x242)][a472_0x501559(0x20a)]=function(_0x1e0e96){var _0x4ffddb=a472_0x501559;if(this[_0x4ffddb(0x239)](_0x1e0e96))return this[_0x4ffddb(0x228)][_0x1e0e96[_0x4ffddb(0x1f1)]]=undefined,this[_0x4ffddb(0x232)]=!![],this[_0x4ffddb(0x1fc)]=!![],_0x1e0e96[_0x4ffddb(0x251)](),!![];return![];},CloudCollection['prototype'][a472_0x501559(0x1fa)]=function(){var _0x2caeb7=a472_0x501559;destroyClouds(this[_0x2caeb7(0x228)]),this['_clouds']=[],this['_cloudsToUpdate']=[],this[_0x2caeb7(0x23c)]=0x0,this[_0x2caeb7(0x232)]=![],this['_createVertexArray']=!![];};function removeClouds(_0x17a5ea){var _0x2fb65e=a472_0x501559;if(_0x17a5ea['_cloudsRemoved']){_0x17a5ea[_0x2fb65e(0x232)]=![];var _0x520f5a=[],_0x39e8d9=_0x17a5ea[_0x2fb65e(0x228)],_0x55c0e4=_0x39e8d9['length'];for(var _0x4b7d32=0x0,_0xa332b5=0x0;_0x4b7d32<_0x55c0e4;++_0x4b7d32){var _0x2119ce=_0x39e8d9[_0x4b7d32];a472_0x2802cf(_0x2119ce)&&(_0x39e8d9[_0x2fb65e(0x1f1)]=_0xa332b5++,_0x520f5a['push'](_0x2119ce));}_0x17a5ea[_0x2fb65e(0x228)]=_0x520f5a;}}CloudCollection['prototype'][a472_0x501559(0x258)]=function(_0x4fb19d,_0x4ba56d){var _0x3fbd67=a472_0x501559;!_0x4fb19d[_0x3fbd67(0x261)]&&(this[_0x3fbd67(0x227)][this[_0x3fbd67(0x23c)]++]=_0x4fb19d),++this[_0x3fbd67(0x213)][_0x4ba56d];},CloudCollection['prototype'][a472_0x501559(0x239)]=function(_0x36d06c){return a472_0x2802cf(_0x36d06c)&&_0x36d06c['_cloudCollection']===this;},CloudCollection['prototype']['get']=function(_0x27522a){var _0x57a07d=a472_0x501559;return a472_0x44db38[_0x57a07d(0x1f4)]['number'](_0x57a07d(0x24f),_0x27522a),removeClouds(this),this[_0x57a07d(0x228)][_0x27522a];};var texturePositions=new Float32Array([-0x1,-0x1,0x1,-0x1,0x1,0x1,-0x1,0x1]),textureIndices=new Uint16Array([0x0,0x1,0x2,0x0,0x2,0x3]);function createTextureVA(_0x266b57){var _0xbef05=a472_0x501559,_0x47ca2b=a472_0x345e43['createVertexBuffer']({'context':_0x266b57,'typedArray':texturePositions,'usage':a472_0x3cee53[_0xbef05(0x205)]}),_0x45a9cd=a472_0x345e43['createIndexBuffer']({'context':_0x266b57,'typedArray':textureIndices,'usage':a472_0x3cee53[_0xbef05(0x205)],'indexDatatype':a472_0x56a70d['UNSIGNED_SHORT']}),_0x2b6be7=[{'index':0x0,'vertexBuffer':_0x47ca2b,'componentsPerAttribute':0x2,'componentDatatype':a472_0x5af969[_0xbef05(0x209)]}];return new a472_0x306589({'context':_0x266b57,'attributes':_0x2b6be7,'indexBuffer':_0x45a9cd});}var getIndexBuffer;function getIndexBufferBatched(_0x266c16){var _0xc2529f=a472_0x501559,_0x3ae153=0x10*0x400,_0x467f5a=_0x266c16[_0xc2529f(0x236)][_0xc2529f(0x218)];if(a472_0x2802cf(_0x467f5a))return _0x467f5a;var _0xbe682b=_0x3ae153*0x6-0x6,_0xc05e0c=new Uint16Array(_0xbe682b);for(var _0x3524cc=0x0,_0x5c9e4c=0x0;_0x3524cc<_0xbe682b;_0x3524cc+=0x6,_0x5c9e4c+=0x4){_0xc05e0c[_0x3524cc]=_0x5c9e4c,_0xc05e0c[_0x3524cc+0x1]=_0x5c9e4c+0x1,_0xc05e0c[_0x3524cc+0x2]=_0x5c9e4c+0x2,_0xc05e0c[_0x3524cc+0x3]=_0x5c9e4c,_0xc05e0c[_0x3524cc+0x4]=_0x5c9e4c+0x2,_0xc05e0c[_0x3524cc+0x5]=_0x5c9e4c+0x3;}return _0x467f5a=a472_0x345e43[_0xc2529f(0x20e)]({'context':_0x266c16,'typedArray':_0xc05e0c,'usage':a472_0x3cee53['STATIC_DRAW'],'indexDatatype':a472_0x56a70d[_0xc2529f(0x229)]}),_0x467f5a[_0xc2529f(0x210)]=![],_0x266c16[_0xc2529f(0x236)][_0xc2529f(0x218)]=_0x467f5a,_0x467f5a;}function getIndexBufferInstanced(_0x2542b6){var _0x49e46d=a472_0x501559,_0x388e46=_0x2542b6['cache'][_0x49e46d(0x255)];if(a472_0x2802cf(_0x388e46))return _0x388e46;return _0x388e46=a472_0x345e43['createIndexBuffer']({'context':_0x2542b6,'typedArray':new Uint16Array([0x0,0x1,0x2,0x0,0x2,0x3]),'usage':a472_0x3cee53[_0x49e46d(0x205)],'indexDatatype':a472_0x56a70d['UNSIGNED_SHORT']}),_0x388e46[_0x49e46d(0x210)]=![],_0x2542b6['cache'][_0x49e46d(0x255)]=_0x388e46,_0x388e46;}function getVertexBufferInstanced(_0x5a799e){var _0x996b32=a472_0x501559,_0x5f4c41=_0x5a799e[_0x996b32(0x236)][_0x996b32(0x1f6)];if(a472_0x2802cf(_0x5f4c41))return _0x5f4c41;return _0x5f4c41=a472_0x345e43[_0x996b32(0x24a)]({'context':_0x5a799e,'typedArray':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1]),'usage':a472_0x3cee53[_0x996b32(0x205)]}),_0x5f4c41[_0x996b32(0x210)]=![],_0x5a799e[_0x996b32(0x236)][_0x996b32(0x1f6)]=_0x5f4c41,_0x5f4c41;}function createVAF(_0x210706,_0x2750e9,_0x5a2b91){var _0x7dd419=a472_0x501559,_0x23e565=[{'index':attributeLocations[_0x7dd419(0x250)],'componentsPerAttribute':0x4,'componentDatatype':a472_0x5af969[_0x7dd419(0x209)],'usage':a472_0x3cee53[_0x7dd419(0x205)]},{'index':attributeLocations['positionLowAndScaleY'],'componentsPerAttribute':0x4,'componentDatatype':a472_0x5af969['FLOAT'],'usage':a472_0x3cee53[_0x7dd419(0x205)]},{'index':attributeLocations['packedAttribute0'],'componentsPerAttribute':0x4,'componentDatatype':a472_0x5af969[_0x7dd419(0x209)],'usage':a472_0x3cee53[_0x7dd419(0x205)]},{'index':attributeLocations['packedAttribute1'],'componentsPerAttribute':0x4,'componentDatatype':a472_0x5af969[_0x7dd419(0x209)],'usage':a472_0x3cee53['STATIC_DRAW']},{'index':attributeLocations[_0x7dd419(0x244)],'componentsPerAttribute':0x4,'componentDatatype':a472_0x5af969[_0x7dd419(0x257)],'normalize':!![],'usage':a472_0x3cee53[_0x7dd419(0x205)]}];_0x5a2b91&&_0x23e565[_0x7dd419(0x1f2)]({'index':attributeLocations[_0x7dd419(0x203)],'componentsPerAttribute':0x2,'componentDatatype':a472_0x5af969[_0x7dd419(0x209)],'vertexBuffer':getVertexBufferInstanced(_0x210706)});var _0x1e51a4=_0x5a2b91?_0x2750e9:0x4*_0x2750e9;return new a472_0x43bcb5(_0x210706,_0x23e565,_0x1e51a4,_0x5a2b91);}var writePositionScratch=new a472_0x49edce();function writePositionAndScale(_0x38e596,_0x790b61,_0x255105,_0x27a328){var _0x5eb4f0=a472_0x501559,_0x5ce029,_0x1a1e32=_0x255105[attributeLocations['positionHighAndScaleX']],_0xb7e3b3=_0x255105[attributeLocations['positionLowAndScaleY']],_0x1688e6=_0x27a328['position'];a472_0x49edce['fromCartesian'](_0x1688e6,writePositionScratch);var _0x4f547c=_0x27a328[_0x5eb4f0(0x25b)],_0x415996=writePositionScratch[_0x5eb4f0(0x262)],_0x54e1ba=writePositionScratch[_0x5eb4f0(0x21b)];_0x38e596[_0x5eb4f0(0x1fd)]?(_0x5ce029=_0x27a328[_0x5eb4f0(0x1f1)],_0x1a1e32(_0x5ce029,_0x415996['x'],_0x415996['y'],_0x415996['z'],_0x4f547c['x']),_0xb7e3b3(_0x5ce029,_0x54e1ba['x'],_0x54e1ba['y'],_0x54e1ba['z'],_0x4f547c['y'])):(_0x5ce029=_0x27a328[_0x5eb4f0(0x1f1)]*0x4,_0x1a1e32(_0x5ce029+0x0,_0x415996['x'],_0x415996['y'],_0x415996['z'],_0x4f547c['x']),_0x1a1e32(_0x5ce029+0x1,_0x415996['x'],_0x415996['y'],_0x415996['z'],_0x4f547c['x']),_0x1a1e32(_0x5ce029+0x2,_0x415996['x'],_0x415996['y'],_0x415996['z'],_0x4f547c['x']),_0x1a1e32(_0x5ce029+0x3,_0x415996['x'],_0x415996['y'],_0x415996['z'],_0x4f547c['x']),_0xb7e3b3(_0x5ce029+0x0,_0x54e1ba['x'],_0x54e1ba['y'],_0x54e1ba['z'],_0x4f547c['y']),_0xb7e3b3(_0x5ce029+0x1,_0x54e1ba['x'],_0x54e1ba['y'],_0x54e1ba['z'],_0x4f547c['y']),_0xb7e3b3(_0x5ce029+0x2,_0x54e1ba['x'],_0x54e1ba['y'],_0x54e1ba['z'],_0x4f547c['y']),_0xb7e3b3(_0x5ce029+0x3,_0x54e1ba['x'],_0x54e1ba['y'],_0x54e1ba['z'],_0x4f547c['y']));}function writePackedAttribute0(_0x5b93a7,_0x7aa2fc,_0xd6545e,_0x5e7815){var _0x7883c8=a472_0x501559,_0x1d20c1,_0x464bad=_0xd6545e[attributeLocations[_0x7883c8(0x259)]],_0x17ce4c=_0x5e7815[_0x7883c8(0x252)],_0x1e9bb0=_0x5e7815[_0x7883c8(0x1f7)];_0x5b93a7[_0x7883c8(0x1fd)]?(_0x1d20c1=_0x5e7815['_index'],_0x464bad(_0x1d20c1,_0x17ce4c,_0x1e9bb0,0x0,0x0)):(_0x1d20c1=_0x5e7815[_0x7883c8(0x1f1)]*0x4,_0x464bad(_0x1d20c1+0x0,_0x17ce4c,_0x1e9bb0,0x0,0x0),_0x464bad(_0x1d20c1+0x1,_0x17ce4c,_0x1e9bb0,0x1,0x0),_0x464bad(_0x1d20c1+0x2,_0x17ce4c,_0x1e9bb0,0x1,0x1),_0x464bad(_0x1d20c1+0x3,_0x17ce4c,_0x1e9bb0,0x0,0x1));}function writePackedAttribute1(_0x52727f,_0x1038a1,_0x43ab08,_0xd52b4c){var _0xfe547b=a472_0x501559,_0x2cdb39,_0x39624a=_0x43ab08[attributeLocations['packedAttribute1']],_0x2ece18=_0xd52b4c[_0xfe547b(0x214)],_0x10bf06=_0xd52b4c[_0xfe547b(0x212)];_0x52727f['_instanced']?(_0x2cdb39=_0xd52b4c[_0xfe547b(0x1f1)],_0x39624a(_0x2cdb39,_0x2ece18['x'],_0x2ece18['y'],_0x2ece18['z'],_0x10bf06)):(_0x2cdb39=_0xd52b4c[_0xfe547b(0x1f1)]*0x4,_0x39624a(_0x2cdb39+0x0,_0x2ece18['x'],_0x2ece18['y'],_0x2ece18['z'],_0x10bf06),_0x39624a(_0x2cdb39+0x1,_0x2ece18['x'],_0x2ece18['y'],_0x2ece18['z'],_0x10bf06),_0x39624a(_0x2cdb39+0x2,_0x2ece18['x'],_0x2ece18['y'],_0x2ece18['z'],_0x10bf06),_0x39624a(_0x2cdb39+0x3,_0x2ece18['x'],_0x2ece18['y'],_0x2ece18['z'],_0x10bf06));}function writeColor(_0x4ccd56,_0x22f078,_0x56125b,_0x59004a){var _0x29c988=a472_0x501559,_0x4048de,_0xc389e3=_0x56125b[attributeLocations[_0x29c988(0x244)]],_0x1e8182=_0x59004a[_0x29c988(0x244)],_0x4ee2a2=a472_0x5e4fd2[_0x29c988(0x20f)](_0x1e8182[_0x29c988(0x21e)]),_0x1bf138=a472_0x5e4fd2[_0x29c988(0x20f)](_0x1e8182['green']),_0x7d75d0=a472_0x5e4fd2['floatToByte'](_0x1e8182[_0x29c988(0x202)]),_0x4f9e38=a472_0x5e4fd2[_0x29c988(0x20f)](_0x1e8182[_0x29c988(0x1fb)]);_0x4ccd56[_0x29c988(0x1fd)]?(_0x4048de=_0x59004a[_0x29c988(0x1f1)],_0xc389e3(_0x4048de,_0x4ee2a2,_0x1bf138,_0x7d75d0,_0x4f9e38)):(_0x4048de=_0x59004a[_0x29c988(0x1f1)]*0x4,_0xc389e3(_0x4048de+0x0,_0x4ee2a2,_0x1bf138,_0x7d75d0,_0x4f9e38),_0xc389e3(_0x4048de+0x1,_0x4ee2a2,_0x1bf138,_0x7d75d0,_0x4f9e38),_0xc389e3(_0x4048de+0x2,_0x4ee2a2,_0x1bf138,_0x7d75d0,_0x4f9e38),_0xc389e3(_0x4048de+0x3,_0x4ee2a2,_0x1bf138,_0x7d75d0,_0x4f9e38));}function writeCloud(_0x31a56b,_0x3bedc1,_0x603c97,_0x10a17f){writePositionAndScale(_0x31a56b,_0x3bedc1,_0x603c97,_0x10a17f),writePackedAttribute0(_0x31a56b,_0x3bedc1,_0x603c97,_0x10a17f),writePackedAttribute1(_0x31a56b,_0x3bedc1,_0x603c97,_0x10a17f),writeColor(_0x31a56b,_0x3bedc1,_0x603c97,_0x10a17f);}function createNoiseTexture(_0x2dbc94,_0x17f59c,_0x5327f8,_0x1dd2b6){var _0x48cbff=a472_0x501559,_0x4f4b58=_0x2dbc94,_0x28bd8d=_0x4f4b58[_0x48cbff(0x22d)],_0x5a8986=_0x4f4b58['_noiseTextureRows'];if(_0x28bd8d/_0x5a8986<0x1||_0x28bd8d%_0x5a8986!==0x0)throw new a472_0xe702dd(_0x48cbff(0x248));var _0x2c23cc=_0x17f59c[_0x48cbff(0x256)];_0x4f4b58[_0x48cbff(0x25c)]=createTextureVA(_0x2c23cc),_0x4f4b58[_0x48cbff(0x254)]=a472_0x68f0cc['fromCache']({'context':_0x2c23cc,'vertexShaderSource':_0x5327f8,'fragmentShaderSource':_0x1dd2b6,'attributeLocations':{'position':0x0}});var _0x1685db=_0x4f4b58['noiseDetail'],_0x5c6c17=_0x4f4b58['noiseOffset'];_0x4f4b58[_0x48cbff(0x24d)]=new a472_0x10ca6e({'context':_0x2c23cc,'width':_0x28bd8d*_0x28bd8d/_0x5a8986,'height':_0x28bd8d*_0x5a8986,'pixelDatatype':a472_0x2f08e8[_0x48cbff(0x257)],'pixelFormat':a472_0x4bd9b5[_0x48cbff(0x23b)],'sampler':new a472_0x52869c({'wrapS':a472_0x334691[_0x48cbff(0x238)],'wrapT':a472_0x334691[_0x48cbff(0x238)],'minificationFilter':a472_0x2dddea[_0x48cbff(0x221)],'magnificationFilter':a472_0x414606['NEAREST']})});var _0x2f6119=new a472_0x57286b({'vertexArray':_0x4f4b58[_0x48cbff(0x25c)],'shaderProgram':_0x4f4b58[_0x48cbff(0x254)],'outputTexture':_0x4f4b58[_0x48cbff(0x24d)],'uniformMap':{'u_noiseTextureDimensions':getNoiseTextureDimensions(_0x4f4b58),'u_noiseDetail':function(){return _0x1685db;},'u_noiseOffset':function(){return _0x5c6c17;}},'persists':![],'owner':_0x2dbc94,'postExecute':function(_0x2eb107){var _0xc7f145=_0x48cbff;_0x4f4b58['_ready']=!![],_0x4f4b58[_0xc7f145(0x249)]=![];}});_0x17f59c[_0x48cbff(0x1f0)]['push'](_0x2f6119),_0x4f4b58[_0x48cbff(0x249)]=!![];}function createVertexArray(_0x28d7a5,_0x1e05e1){var _0x2f56db=a472_0x501559,_0x484a71=_0x28d7a5,_0x2cf877=_0x1e05e1['context'];_0x484a71['_createVertexArray']=![],_0x484a71[_0x2f56db(0x235)]=_0x484a71[_0x2f56db(0x235)]&&_0x484a71['_vaf'][_0x2f56db(0x1fe)]();var _0x5c6de2=_0x28d7a5[_0x2f56db(0x228)],_0xf02de2=_0x5c6de2['length'];if(_0xf02de2>0x0){_0x484a71['_vaf']=createVAF(_0x2cf877,_0xf02de2,_0x484a71[_0x2f56db(0x1fd)]);var _0x12cdb3=_0x484a71[_0x2f56db(0x235)][_0x2f56db(0x25f)],_0x5efbcd;for(_0x5efbcd=0x0;_0x5efbcd<_0xf02de2;++_0x5efbcd){var _0x217fbd=_0x5c6de2[_0x5efbcd];writeCloud(_0x28d7a5,_0x1e05e1,_0x12cdb3,_0x217fbd);}_0x484a71[_0x2f56db(0x235)]['commit'](getIndexBuffer(_0x2cf877));}}var scratchWriterArray=[];function updateClouds(_0x30f4de,_0x274eb7){var _0x17a6a9=a472_0x501559,_0x5d9304=_0x274eb7[_0x17a6a9(0x256)],_0x387221=_0x30f4de,_0x2ca5f8=_0x387221[_0x17a6a9(0x228)],_0x4980a3=_0x2ca5f8['length'],_0x301771=_0x387221[_0x17a6a9(0x227)],_0x1e88e8=_0x387221['_cloudsToUpdateIndex'],_0x21b406=_0x387221[_0x17a6a9(0x213)],_0x1c0932=scratchWriterArray;_0x1c0932[_0x17a6a9(0x1f5)]=0x0;(_0x21b406[POSITION_INDEX]||_0x21b406[SCALE_INDEX])&&_0x1c0932[_0x17a6a9(0x1f2)](writePositionAndScale);(_0x21b406[SHOW_INDEX]||_0x21b406[BRIGHTNESS_INDEX])&&_0x1c0932['push'](writePackedAttribute0);(_0x21b406[MAXIMUM_SIZE_INDEX]||_0x21b406[SLICE_INDEX])&&_0x1c0932[_0x17a6a9(0x1f2)](writePackedAttribute1);_0x21b406[COLOR_INDEX]&&_0x1c0932[_0x17a6a9(0x1f2)](writeColor);var _0x80fe93=_0x1c0932[_0x17a6a9(0x1f5)],_0x37b128=_0x387221[_0x17a6a9(0x235)][_0x17a6a9(0x25f)],_0x327790,_0x13b722,_0x383a87;if(_0x1e88e8/_0x4980a3>0.1){for(_0x327790=0x0;_0x327790<_0x1e88e8;++_0x327790){_0x13b722=_0x301771[_0x327790],_0x13b722[_0x17a6a9(0x261)]=![];for(_0x383a87=0x0;_0x383a87<_0x80fe93;++_0x383a87){_0x1c0932[_0x383a87](_0x30f4de,_0x274eb7,_0x37b128,_0x13b722);}}_0x387221[_0x17a6a9(0x235)][_0x17a6a9(0x21a)](getIndexBuffer(_0x5d9304));}else{for(_0x327790=0x0;_0x327790<_0x1e88e8;++_0x327790){_0x13b722=_0x301771[_0x327790],_0x13b722['_dirty']=![];for(_0x383a87=0x0;_0x383a87<_0x80fe93;++_0x383a87){_0x1c0932[_0x383a87](_0x30f4de,_0x274eb7,_0x37b128,_0x13b722);}_0x387221[_0x17a6a9(0x1fd)]?_0x387221['_vaf']['subCommit'](_0x13b722['_index'],0x1):_0x387221[_0x17a6a9(0x235)]['subCommit'](_0x13b722[_0x17a6a9(0x1f1)]*0x4,0x4);}_0x387221[_0x17a6a9(0x235)]['endSubCommits']();}_0x387221[_0x17a6a9(0x23c)]=0x0;}function createShaderProgram(_0x2a07e4,_0x4d812d,_0x6010e6,_0x3da364){var _0x422be1=a472_0x501559,_0x26f10c=_0x4d812d[_0x422be1(0x256)],_0x5df2a9=_0x2a07e4,_0x35a2c4=new a472_0xbf00d5({'defines':[],'sources':[_0x6010e6]});_0x5df2a9[_0x422be1(0x1fd)]&&_0x35a2c4['defines'][_0x422be1(0x1f2)](_0x422be1(0x237));var _0xf18c25=new a472_0xbf00d5({'defines':[],'sources':[_0x3da364]});_0x5df2a9[_0x422be1(0x25e)]&&_0xf18c25['defines'][_0x422be1(0x1f2)](_0x422be1(0x234)),_0x5df2a9['debugEllipsoids']&&_0xf18c25[_0x422be1(0x207)][_0x422be1(0x1f2)](_0x422be1(0x215)),_0x5df2a9[_0x422be1(0x21d)]=a472_0x68f0cc['replaceCache']({'context':_0x26f10c,'shaderProgram':_0x5df2a9[_0x422be1(0x21d)],'vertexShaderSource':_0x35a2c4,'fragmentShaderSource':_0xf18c25,'attributeLocations':attributeLocations}),_0x5df2a9[_0x422be1(0x22b)]=a472_0x20ed47['fromCache']({'depthTest':{'enabled':!![],'func':a472_0x5a878a[_0x422be1(0x253)]},'depthMask':![],'blending':a472_0x18a56d[_0x422be1(0x243)]}),_0x5df2a9['_spCreated']=!![],_0x5df2a9[_0x422be1(0x20c)]=_0x5df2a9[_0x422be1(0x25e)],_0x5df2a9[_0x422be1(0x246)]=_0x5df2a9[_0x422be1(0x263)];}function createDrawCommands(_0x3e0e6d,_0x516410){var _0x189c77=a472_0x501559,_0x4c095b=_0x3e0e6d,_0x41c30a=_0x516410[_0x189c77(0x226)],_0x444072=_0x4c095b[_0x189c77(0x1ff)],_0x5871f3=_0x516410['commandList'];if(_0x41c30a[_0x189c77(0x22e)]){var _0x1ef487=_0x4c095b[_0x189c77(0x211)],_0x5b896f=_0x4c095b[_0x189c77(0x235)]['va'],_0x264b6f=_0x5b896f['length'];_0x1ef487[_0x189c77(0x1f5)]=_0x264b6f;for(var _0x58e3dd=0x0;_0x58e3dd<_0x264b6f;_0x58e3dd++){var _0x54ec2e=_0x1ef487[_0x58e3dd];!a472_0x2802cf(_0x54ec2e)&&(_0x54ec2e=_0x1ef487[_0x58e3dd]=new a472_0x4844d0()),_0x54ec2e[_0x189c77(0x220)]=a472_0x25d73e[_0x189c77(0x201)],_0x54ec2e[_0x189c77(0x24e)]=_0x3e0e6d,_0x54ec2e[_0x189c77(0x231)]=_0x444072,_0x54ec2e['count']=_0x5b896f[_0x58e3dd][_0x189c77(0x241)],_0x54ec2e['vertexArray']=_0x5b896f[_0x58e3dd]['va'],_0x54ec2e['shaderProgram']=_0x4c095b[_0x189c77(0x21d)],_0x54ec2e[_0x189c77(0x204)]=_0x4c095b[_0x189c77(0x22b)],_0x4c095b['_instanced']&&(_0x54ec2e['count']=0x6,_0x54ec2e[_0x189c77(0x21f)]=_0x4c095b[_0x189c77(0x228)][_0x189c77(0x1f5)]),_0x5871f3[_0x189c77(0x1f2)](_0x54ec2e);}}}CloudCollection[a472_0x501559(0x242)][a472_0x501559(0x24c)]=function(_0x561ebf){var _0x12f91b=a472_0x501559;removeClouds(this);if(!this['show'])return;var _0x441013=this[_0x12f91b(0x25e)]||this[_0x12f91b(0x263)];this[_0x12f91b(0x216)]=_0x441013?!![]:a472_0x2802cf(this[_0x12f91b(0x24d)]);!this[_0x12f91b(0x216)]&&!this[_0x12f91b(0x249)]&&!_0x441013&&createNoiseTexture(this,_0x561ebf,a472_0x2c92e2,a472_0x6d6f30);this[_0x12f91b(0x1fd)]=_0x561ebf[_0x12f91b(0x256)][_0x12f91b(0x230)],attributeLocations=this[_0x12f91b(0x1fd)]?attributeLocationsInstanced:attributeLocationsBatched,getIndexBuffer=this['_instanced']?getIndexBufferInstanced:getIndexBufferBatched;var _0x31218e=this[_0x12f91b(0x228)],_0x165440=_0x31218e['length'],_0xa823f8=this[_0x12f91b(0x227)],_0x3e2227=this[_0x12f91b(0x23c)];if(this[_0x12f91b(0x1fc)])createVertexArray(this,_0x561ebf);else _0x3e2227>0x0&&updateClouds(this,_0x561ebf);_0x3e2227>_0x165440*1.5&&(_0xa823f8[_0x12f91b(0x1f5)]=_0x165440);if(!a472_0x2802cf(this[_0x12f91b(0x235)])||!a472_0x2802cf(this[_0x12f91b(0x235)]['va'])||!this[_0x12f91b(0x216)]&!_0x441013)return;(!this[_0x12f91b(0x23e)]||this['debugBillboards']!==this[_0x12f91b(0x20c)]||this[_0x12f91b(0x263)]!==this[_0x12f91b(0x246)])&&createShaderProgram(this,_0x561ebf,a472_0x5d65c0,a472_0x455755),createDrawCommands(this,_0x561ebf);},CloudCollection[a472_0x501559(0x242)][a472_0x501559(0x1f9)]=function(){return![];},CloudCollection[a472_0x501559(0x242)][a472_0x501559(0x1fe)]=function(){var _0x1c6f81=a472_0x501559;return this[_0x1c6f81(0x24d)]=this[_0x1c6f81(0x24d)]&&this[_0x1c6f81(0x24d)]['destroy'](),this['_sp']=this['_sp']&&this[_0x1c6f81(0x21d)][_0x1c6f81(0x1fe)](),this[_0x1c6f81(0x235)]=this[_0x1c6f81(0x235)]&&this[_0x1c6f81(0x235)][_0x1c6f81(0x1fe)](),destroyClouds(this['_clouds']),a472_0x344eda(this);};export default CloudCollection;