(function(_0x508ec3,_0x5d684c){const _0x2b8af0=a546_0x1f85,_0x3b9b60=_0x508ec3();while(!![]){try{const _0x57aba0=-parseInt(_0x2b8af0(0x163))/0x1*(parseInt(_0x2b8af0(0x15b))/0x2)+parseInt(_0x2b8af0(0x15c))/0x3+-parseInt(_0x2b8af0(0x16c))/0x4*(parseInt(_0x2b8af0(0x175))/0x5)+parseInt(_0x2b8af0(0x16f))/0x6*(parseInt(_0x2b8af0(0x169))/0x7)+parseInt(_0x2b8af0(0x15e))/0x8+parseInt(_0x2b8af0(0x166))/0x9+-parseInt(_0x2b8af0(0x164))/0xa*(parseInt(_0x2b8af0(0x16d))/0xb);if(_0x57aba0===_0x5d684c)break;else _0x3b9b60['push'](_0x3b9b60['shift']());}catch(_0x1c9245){_0x3b9b60['push'](_0x3b9b60['shift']());}}}(a546_0x90bc,0xc6f31));import a546_0x7da548 from'./addPipelineExtras.js';import a546_0xe6fbdf from'./removeExtensionsUsed.js';import a546_0x2dc8bc from'../../Core/defaultValue.js';import a546_0x20501f from'../../Core/defined.js';function a546_0x90bc(){const _0x1d25df=['2301929hazRpR','binary_glTF','source','31168zbAiHS','10516wcDpTp','buffers','6Aqploi','parse','keys','glTF','Binary\x20glTF\x20scene\x20format\x20is\x20not\x20JSON','buffer','155BBftXM','52150JvhqDB','4282506Okfhyt','Binary\x20glTF\x20version\x20is\x20not\x201\x20or\x202','263040FxDmOh','extras','length','_pipeline','subarray','62nMzWUy','530PNxHVB','byteOffset','8410842zyqlhv','KHR_binary_glTF','File\x20is\x20not\x20valid\x20binary\x20glTF'];a546_0x90bc=function(){return _0x1d25df;};return a546_0x90bc();}import a546_0x12af77 from'../../Core/getMagic.js';import a546_0x266ece from'../../Core/getStringFromTypedArray.js';import a546_0x18a8d5 from'../../Core/RuntimeError.js';const sizeOfUint32=0x4;function parseGlb(_0x3db343){const _0x4c352d=a546_0x1f85,_0x5dfb7f=a546_0x12af77(_0x3db343);if(_0x5dfb7f!==_0x4c352d(0x172))throw new a546_0x18a8d5(_0x4c352d(0x168));const _0x56fd85=readHeader(_0x3db343,0x0,0x5),_0x363fb5=_0x56fd85[0x1];if(_0x363fb5!==0x1&&_0x363fb5!==0x2)throw new a546_0x18a8d5(_0x4c352d(0x15d));if(_0x363fb5===0x1)return parseGlbVersion1(_0x3db343,_0x56fd85);return parseGlbVersion2(_0x3db343,_0x56fd85);}function readHeader(_0x491878,_0x3f356a,_0x486688){const _0x283673=a546_0x1f85,_0x2eb6b2=new DataView(_0x491878[_0x283673(0x174)]),_0x3922b8=new Array(_0x486688);for(let _0x4de619=0x0;_0x4de619<_0x486688;++_0x4de619){_0x3922b8[_0x4de619]=_0x2eb6b2['getUint32'](_0x491878[_0x283673(0x165)]+_0x3f356a+_0x4de619*sizeOfUint32,!![]);}return _0x3922b8;}function parseGlbVersion1(_0x5d33cd,_0x4668e9){const _0x443f39=a546_0x1f85,_0x108d02=_0x4668e9[0x2],_0x3ffd0=_0x4668e9[0x3],_0x571c4d=_0x4668e9[0x4];if(_0x571c4d!==0x0)throw new a546_0x18a8d5(_0x443f39(0x173));const _0x401a52=0x14,_0x5d13c9=_0x401a52+_0x3ffd0,_0x52ef44=a546_0x266ece(_0x5d33cd,_0x401a52,_0x3ffd0),_0x328b23=JSON[_0x443f39(0x170)](_0x52ef44);a546_0x7da548(_0x328b23);const _0x5e764d=_0x5d33cd[_0x443f39(0x162)](_0x5d13c9,_0x108d02),_0x5ed823=_0x328b23[_0x443f39(0x16e)];if(a546_0x20501f(_0x5ed823)&&Object[_0x443f39(0x171)](_0x5ed823)['length']>0x0){const _0xa1b5bb=a546_0x2dc8bc(_0x5ed823[_0x443f39(0x16a)],_0x5ed823[_0x443f39(0x167)]);a546_0x20501f(_0xa1b5bb)&&(_0xa1b5bb[_0x443f39(0x15f)]['_pipeline'][_0x443f39(0x16b)]=_0x5e764d,delete _0xa1b5bb['uri']);}return a546_0xe6fbdf(_0x328b23,'KHR_binary_glTF'),_0x328b23;}function parseGlbVersion2(_0x49bcbe,_0x3f898f){const _0x5b0759=a546_0x1f85,_0x18dd27=_0x3f898f[0x2];let _0x33f52f=0xc,_0x4388a5,_0x5d5c21;while(_0x33f52f<_0x18dd27){const _0x35e293=readHeader(_0x49bcbe,_0x33f52f,0x2),_0x5dbe83=_0x35e293[0x0],_0x3cb7e3=_0x35e293[0x1];_0x33f52f+=0x8;const _0x21d2ca=_0x49bcbe[_0x5b0759(0x162)](_0x33f52f,_0x33f52f+_0x5dbe83);_0x33f52f+=_0x5dbe83;if(_0x3cb7e3===0x4e4f534a){const _0xf240c=a546_0x266ece(_0x21d2ca);_0x4388a5=JSON['parse'](_0xf240c),a546_0x7da548(_0x4388a5);}else _0x3cb7e3===0x4e4942&&(_0x5d5c21=_0x21d2ca);}if(a546_0x20501f(_0x4388a5)&&a546_0x20501f(_0x5d5c21)){const _0x2bec62=_0x4388a5[_0x5b0759(0x16e)];if(a546_0x20501f(_0x2bec62)&&_0x2bec62[_0x5b0759(0x160)]>0x0){const _0x5ab2ac=_0x2bec62[0x0];_0x5ab2ac[_0x5b0759(0x15f)][_0x5b0759(0x161)][_0x5b0759(0x16b)]=_0x5d5c21;}}return _0x4388a5;}function a546_0x1f85(_0x1ab65c,_0x2f9b07){const _0x90bc6f=a546_0x90bc();return a546_0x1f85=function(_0x1f85d4,_0x4c5841){_0x1f85d4=_0x1f85d4-0x15b;let _0x230aba=_0x90bc6f[_0x1f85d4];return _0x230aba;},a546_0x1f85(_0x1ab65c,_0x2f9b07);}export default parseGlb;